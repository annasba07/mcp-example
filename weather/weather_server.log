2025-06-10 14:42:22,520 - DEBUG - Initializing server 'weather'
2025-06-10 14:42:22,521 - DEBUG - Registering handler for ListToolsRequest
2025-06-10 14:42:22,521 - DEBUG - Registering handler for CallToolRequest
2025-06-10 14:42:22,521 - DEBUG - Registering handler for ListResourcesRequest
2025-06-10 14:42:22,521 - DEBUG - Registering handler for ReadResourceRequest
2025-06-10 14:42:22,521 - DEBUG - Registering handler for PromptListRequest
2025-06-10 14:42:22,521 - DEBUG - Registering handler for GetPromptRequest
2025-06-10 14:42:22,521 - DEBUG - Registering handler for ListResourceTemplatesRequest
2025-06-10 14:42:22,534 - INFO - Starting weather server
2025-06-10 14:42:22,537 - DEBUG - Using proactor: IocpProactor
2025-06-10 14:42:22,542 - DEBUG - Received message: root=InitializedNotification(method='notifications/initialized', params=None, jsonrpc='2.0')
2025-06-10 14:42:22,543 - DEBUG - Received message: <mcp.shared.session.RequestResponder object at 0x000001E9C4C4FCD0>
2025-06-10 14:42:22,543 - INFO - Processing request of type ListToolsRequest
2025-06-10 14:42:22,543 - DEBUG - Dispatching request of type ListToolsRequest
2025-06-10 14:42:22,543 - DEBUG - Response sent
2025-06-10 14:42:27,745 - DEBUG - Received message: <mcp.shared.session.RequestResponder object at 0x000001E9C4C0CC50>
2025-06-10 14:42:27,745 - INFO - Processing request of type ListToolsRequest
2025-06-10 14:42:27,745 - DEBUG - Dispatching request of type ListToolsRequest
2025-06-10 14:42:27,745 - DEBUG - Response sent
2025-06-10 14:42:40,295 - DEBUG - Received message: <mcp.shared.session.RequestResponder object at 0x000001E9C4BD22D0>
2025-06-10 14:42:40,296 - INFO - Processing request of type ListToolsRequest
2025-06-10 14:42:40,296 - DEBUG - Dispatching request of type ListToolsRequest
2025-06-10 14:42:40,296 - DEBUG - Response sent
2025-06-10 14:42:42,699 - DEBUG - Received message: <mcp.shared.session.RequestResponder object at 0x000001E9C4C06810>
2025-06-10 14:42:42,699 - INFO - Processing request of type CallToolRequest
2025-06-10 14:42:42,699 - DEBUG - Dispatching request of type CallToolRequest
2025-06-10 14:42:42,699 - INFO - Getting forecast for coordinates: 37.8857, -122.1181
2025-06-10 14:42:42,699 - DEBUG - Making NWS request to: https://api.weather.gov/points/37.8857,-122.1181
2025-06-10 14:42:42,725 - DEBUG - connect_tcp.started host='api.weather.gov' port=443 local_address=None timeout=30.0 socket_options=None
2025-06-10 14:42:42,774 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x000001E9C4C4F950>
2025-06-10 14:42:42,775 - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x000001E9C4CC29F0> server_hostname='api.weather.gov' timeout=30.0
2025-06-10 14:42:42,801 - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x000001E9C4C04410>
2025-06-10 14:42:42,801 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-06-10 14:42:42,801 - DEBUG - send_request_headers.complete
2025-06-10 14:42:42,801 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-06-10 14:42:42,801 - DEBUG - send_request_body.complete
2025-06-10 14:42:42,801 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-06-10 14:42:42,999 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Server', b'nginx/1.20.1'), (b'Content-Type', b'application/geo+json'), (b'X-Powered-By', b'PHP/8.0.30'), (b'Access-Control-Allow-Origin', b'*'), (b'Access-Control-Expose-Headers', b'X-Correlation-Id, X-Request-Id, X-Server-Id'), (b'X-Request-ID', b'ec329de9-9dc7-43bd-ae33-185aa3966fd7'), (b'X-Correlation-ID', b'5b7d92e5'), (b'X-Server-ID', b'vm-lnx-nids-apiapp11.ncep.noaa.gov'), (b'Content-Encoding', b'gzip'), (b'Content-Length', b'804'), (b'Cache-Control', b'public, max-age=86400, s-maxage=120'), (b'Expires', b'Wed, 11 Jun 2025 21:42:38 GMT'), (b'Date', b'Tue, 10 Jun 2025 21:42:38 GMT'), (b'Connection', b'keep-alive'), (b'Vary', b'Accept-Encoding'), (b'X-Edge-Request-ID', b'94cecac9'), (b'Vary', b'Accept,Feature-Flags,Accept-Language'), (b'Strict-Transport-Security', b'max-age=31536000 ; includeSubDomains ; preload')])
2025-06-10 14:42:42,999 - INFO - HTTP Request: GET https://api.weather.gov/points/37.8857,-122.1181 "HTTP/1.1 200 OK"
2025-06-10 14:42:42,999 - DEBUG - receive_response_body.started request=<Request [b'GET']>
2025-06-10 14:42:42,999 - DEBUG - receive_response_body.complete
2025-06-10 14:42:42,999 - DEBUG - response_closed.started
2025-06-10 14:42:42,999 - DEBUG - response_closed.complete
2025-06-10 14:42:43,000 - DEBUG - Successful response from NWS API: 200
2025-06-10 14:42:43,000 - DEBUG - close.started
2025-06-10 14:42:43,000 - DEBUG - close.complete
2025-06-10 14:42:43,000 - DEBUG - Making NWS request to: https://api.weather.gov/gridpoints/MTR/96,108/forecast
2025-06-10 14:42:43,007 - DEBUG - connect_tcp.started host='api.weather.gov' port=443 local_address=None timeout=30.0 socket_options=None
2025-06-10 14:42:43,024 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x000001E9C4D76850>
2025-06-10 14:42:43,026 - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x000001E9C4CC2F90> server_hostname='api.weather.gov' timeout=30.0
2025-06-10 14:42:43,053 - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x000001E9C4D76950>
2025-06-10 14:42:43,053 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-06-10 14:42:43,054 - DEBUG - send_request_headers.complete
2025-06-10 14:42:43,054 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-06-10 14:42:43,054 - DEBUG - send_request_body.complete
2025-06-10 14:42:43,054 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-06-10 14:42:43,232 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Server', b'nginx/1.20.1'), (b'Content-Type', b'application/geo+json'), (b'X-Powered-By', b'PHP/8.0.30'), (b'Last-Modified', b'Tue, 10 Jun 2025 20:26:22 GMT'), (b'Access-Control-Allow-Origin', b'*'), (b'Access-Control-Expose-Headers', b'X-Correlation-Id, X-Request-Id, X-Server-Id'), (b'X-Request-ID', b'267a14c3-71b6-455a-bf07-07f5247a6e77'), (b'X-Correlation-ID', b'5abd7988'), (b'X-Server-ID', b'vm-lnx-nids-apiapp3.ncep.noaa.gov'), (b'Content-Encoding', b'gzip'), (b'Content-Length', b'1291'), (b'Cache-Control', b'public, max-age=900, s-maxage=3600'), (b'Expires', b'Tue, 10 Jun 2025 21:57:38 GMT'), (b'Date', b'Tue, 10 Jun 2025 21:42:38 GMT'), (b'Connection', b'keep-alive'), (b'Vary', b'Accept-Encoding'), (b'X-Edge-Request-ID', b'94cecea5'), (b'Vary', b'Accept,Feature-Flags,Accept-Language'), (b'Strict-Transport-Security', b'max-age=31536000 ; includeSubDomains ; preload')])
2025-06-10 14:42:43,233 - INFO - HTTP Request: GET https://api.weather.gov/gridpoints/MTR/96,108/forecast "HTTP/1.1 200 OK"
2025-06-10 14:42:43,233 - DEBUG - receive_response_body.started request=<Request [b'GET']>
2025-06-10 14:42:43,233 - DEBUG - receive_response_body.complete
2025-06-10 14:42:43,233 - DEBUG - response_closed.started
2025-06-10 14:42:43,233 - DEBUG - response_closed.complete
2025-06-10 14:42:43,233 - DEBUG - Successful response from NWS API: 200
2025-06-10 14:42:43,233 - DEBUG - close.started
2025-06-10 14:42:43,234 - DEBUG - close.complete
2025-06-10 14:42:43,234 - ERROR - Error processing forecast data: 'period'
Traceback (most recent call last):
  File "C:\Software-Projects\mcp-tutorial\weather\weather.py", line 106, in get_forecast
    periods = forecast_data["properties"]["period"]
              ~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^
KeyError: 'period'
2025-06-10 14:42:43,235 - DEBUG - Response sent
2025-06-10 14:45:13,789 - DEBUG - Initializing server 'weather'
2025-06-10 14:45:13,789 - DEBUG - Registering handler for ListToolsRequest
2025-06-10 14:45:13,789 - DEBUG - Registering handler for CallToolRequest
2025-06-10 14:45:13,789 - DEBUG - Registering handler for ListResourcesRequest
2025-06-10 14:45:13,789 - DEBUG - Registering handler for ReadResourceRequest
2025-06-10 14:45:13,789 - DEBUG - Registering handler for PromptListRequest
2025-06-10 14:45:13,789 - DEBUG - Registering handler for GetPromptRequest
2025-06-10 14:45:13,789 - DEBUG - Registering handler for ListResourceTemplatesRequest
2025-06-10 14:45:13,798 - INFO - Starting weather server
2025-06-10 14:45:13,802 - DEBUG - Using proactor: IocpProactor
2025-06-10 14:45:13,807 - DEBUG - Received message: root=InitializedNotification(method='notifications/initialized', params=None, jsonrpc='2.0')
2025-06-10 14:45:13,807 - DEBUG - Received message: <mcp.shared.session.RequestResponder object at 0x000001EAE1F82810>
2025-06-10 14:45:13,807 - INFO - Processing request of type ListToolsRequest
2025-06-10 14:45:13,808 - DEBUG - Dispatching request of type ListToolsRequest
2025-06-10 14:45:13,808 - DEBUG - Response sent
2025-06-10 14:45:23,948 - DEBUG - Received message: <mcp.shared.session.RequestResponder object at 0x000001EAE2F52050>
2025-06-10 14:45:23,948 - INFO - Processing request of type ListToolsRequest
2025-06-10 14:45:23,948 - DEBUG - Dispatching request of type ListToolsRequest
2025-06-10 14:45:23,949 - DEBUG - Response sent
2025-06-10 14:45:26,518 - DEBUG - Received message: <mcp.shared.session.RequestResponder object at 0x000001EAE2F52090>
2025-06-10 14:45:26,519 - INFO - Processing request of type CallToolRequest
2025-06-10 14:45:26,519 - DEBUG - Dispatching request of type CallToolRequest
2025-06-10 14:45:26,519 - INFO - Getting forecast for coordinates: 37.8857, -122.118
2025-06-10 14:45:26,519 - DEBUG - Making NWS request to: https://api.weather.gov/points/37.8857,-122.118
2025-06-10 14:45:26,548 - DEBUG - connect_tcp.started host='api.weather.gov' port=443 local_address=None timeout=30.0 socket_options=None
2025-06-10 14:45:26,668 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x000001EAE2FCF7D0>
2025-06-10 14:45:26,668 - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x000001EAE30329F0> server_hostname='api.weather.gov' timeout=30.0
2025-06-10 14:45:26,701 - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x000001EAE30B7D90>
2025-06-10 14:45:26,701 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-06-10 14:45:26,701 - DEBUG - send_request_headers.complete
2025-06-10 14:45:26,701 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-06-10 14:45:26,701 - DEBUG - send_request_body.complete
2025-06-10 14:45:26,701 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-06-10 14:45:26,738 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Server', b'nginx/1.20.1'), (b'Content-Type', b'application/geo+json'), (b'X-Powered-By', b'PHP/8.0.30'), (b'Access-Control-Allow-Origin', b'*'), (b'Access-Control-Expose-Headers', b'X-Correlation-Id, X-Request-Id, X-Server-Id'), (b'X-Request-ID', b'd935502a-d06e-42fa-81ea-c71659d506d1'), (b'X-Correlation-ID', b'5b1143a3'), (b'X-Server-ID', b'vm-lnx-nids-apiapp12.ncep.noaa.gov'), (b'Content-Encoding', b'gzip'), (b'Content-Length', b'803'), (b'Cache-Control', b'public, max-age=84157, s-maxage=120'), (b'Expires', b'Wed, 11 Jun 2025 21:07:59 GMT'), (b'Date', b'Tue, 10 Jun 2025 21:45:22 GMT'), (b'Connection', b'keep-alive'), (b'Vary', b'Accept-Encoding'), (b'X-Edge-Request-ID', b'94d7cb5c'), (b'Vary', b'Accept,Feature-Flags,Accept-Language'), (b'Strict-Transport-Security', b'max-age=31536000 ; includeSubDomains ; preload')])
2025-06-10 14:45:26,738 - INFO - HTTP Request: GET https://api.weather.gov/points/37.8857,-122.118 "HTTP/1.1 200 OK"
2025-06-10 14:45:26,739 - DEBUG - receive_response_body.started request=<Request [b'GET']>
2025-06-10 14:45:26,739 - DEBUG - receive_response_body.complete
2025-06-10 14:45:26,739 - DEBUG - response_closed.started
2025-06-10 14:45:26,739 - DEBUG - response_closed.complete
2025-06-10 14:45:26,739 - DEBUG - Successful response from NWS API: 200
2025-06-10 14:45:26,739 - DEBUG - close.started
2025-06-10 14:45:26,739 - DEBUG - close.complete
2025-06-10 14:45:26,740 - DEBUG - Making NWS request to: https://api.weather.gov/gridpoints/MTR/96,108/forecast
2025-06-10 14:45:26,746 - DEBUG - connect_tcp.started host='api.weather.gov' port=443 local_address=None timeout=30.0 socket_options=None
2025-06-10 14:45:26,768 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x000001EAE30E1ED0>
2025-06-10 14:45:26,768 - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x000001EAE3033020> server_hostname='api.weather.gov' timeout=30.0
2025-06-10 14:45:26,799 - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x000001EAE2F637D0>
2025-06-10 14:45:26,799 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-06-10 14:45:26,799 - DEBUG - send_request_headers.complete
2025-06-10 14:45:26,799 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-06-10 14:45:26,800 - DEBUG - send_request_body.complete
2025-06-10 14:45:26,800 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-06-10 14:45:26,833 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Server', b'nginx/1.20.1'), (b'Content-Type', b'application/geo+json'), (b'X-Powered-By', b'PHP/8.0.30'), (b'Last-Modified', b'Tue, 10 Jun 2025 20:26:22 GMT'), (b'Access-Control-Allow-Origin', b'*'), (b'Access-Control-Expose-Headers', b'X-Correlation-Id, X-Request-Id, X-Server-Id'), (b'X-Request-ID', b'267a14c3-71b6-455a-bf07-07f5247a6e77'), (b'X-Correlation-ID', b'5abd7988'), (b'X-Server-ID', b'vm-lnx-nids-apiapp3.ncep.noaa.gov'), (b'Content-Encoding', b'gzip'), (b'Content-Length', b'1291'), (b'Cache-Control', b'public, max-age=736, s-maxage=3600'), (b'Expires', b'Tue, 10 Jun 2025 21:57:38 GMT'), (b'Date', b'Tue, 10 Jun 2025 21:45:22 GMT'), (b'Connection', b'keep-alive'), (b'Vary', b'Accept-Encoding'), (b'X-Edge-Request-ID', b'94d7cc99'), (b'Vary', b'Accept,Feature-Flags,Accept-Language'), (b'Strict-Transport-Security', b'max-age=31536000 ; includeSubDomains ; preload')])
2025-06-10 14:45:26,833 - INFO - HTTP Request: GET https://api.weather.gov/gridpoints/MTR/96,108/forecast "HTTP/1.1 200 OK"
2025-06-10 14:45:26,833 - DEBUG - receive_response_body.started request=<Request [b'GET']>
2025-06-10 14:45:26,833 - DEBUG - receive_response_body.complete
2025-06-10 14:45:26,833 - DEBUG - response_closed.started
2025-06-10 14:45:26,833 - DEBUG - response_closed.complete
2025-06-10 14:45:26,833 - DEBUG - Successful response from NWS API: 200
2025-06-10 14:45:26,833 - DEBUG - close.started
2025-06-10 14:45:26,835 - DEBUG - close.complete
2025-06-10 14:45:26,835 - DEBUG - Forecast data structure: dict_keys(['@context', 'type', 'geometry', 'properties'])
2025-06-10 14:45:26,835 - DEBUG - Forecast properties structure: dict_keys(['units', 'forecastGenerator', 'generatedAt', 'updateTime', 'validTimes', 'elevation', 'periods'])
2025-06-10 14:45:26,835 - INFO - Successfully retrieved forecast for coordinates: 37.8857, -122.118
2025-06-10 14:45:26,835 - DEBUG - Response sent
2025-06-11 15:12:52,336 - DEBUG - Received message: <mcp.shared.session.RequestResponder object at 0x000001EAE2F84CD0>
2025-06-11 15:12:52,338 - INFO - Processing request of type ListToolsRequest
2025-06-11 15:12:52,339 - DEBUG - Dispatching request of type ListToolsRequest
2025-06-11 15:12:52,341 - DEBUG - Response sent
2025-06-11 15:13:02,702 - DEBUG - Received message: <mcp.shared.session.RequestResponder object at 0x000001EAE30B7C50>
2025-06-11 15:13:02,702 - INFO - Processing request of type ListToolsRequest
2025-06-11 15:13:02,702 - DEBUG - Dispatching request of type ListToolsRequest
2025-06-11 15:13:02,702 - DEBUG - Response sent
2025-06-11 15:13:05,195 - DEBUG - Received message: <mcp.shared.session.RequestResponder object at 0x000001EAE30B7810>
2025-06-11 15:13:05,195 - INFO - Processing request of type CallToolRequest
2025-06-11 15:13:05,195 - DEBUG - Dispatching request of type CallToolRequest
2025-06-11 15:13:05,196 - INFO - Getting forecast for coordinates: -13.9669, 33.7873
2025-06-11 15:13:05,196 - DEBUG - Making NWS request to: https://api.weather.gov/points/-13.9669,33.7873
2025-06-11 15:13:05,209 - DEBUG - connect_tcp.started host='api.weather.gov' port=443 local_address=None timeout=30.0 socket_options=None
2025-06-11 15:13:05,255 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x000001EAE2FCE950>
2025-06-11 15:13:05,255 - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x000001EAE1AD50A0> server_hostname='api.weather.gov' timeout=30.0
2025-06-11 15:13:05,279 - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x000001EAE30E07D0>
2025-06-11 15:13:05,280 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-06-11 15:13:05,280 - DEBUG - send_request_headers.complete
2025-06-11 15:13:05,280 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-06-11 15:13:05,280 - DEBUG - send_request_body.complete
2025-06-11 15:13:05,280 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-06-11 15:13:05,460 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 404, b'Not Found', [(b'Server', b'nginx/1.20.1'), (b'Content-Type', b'application/problem+json'), (b'X-Powered-By', b'PHP/8.0.30'), (b'X-Request-ID', b'eccbe092-6d46-4df1-8072-d0f225d78380'), (b'X-Correlation-ID', b'6d14d656'), (b'X-Server-ID', b'vm-lnx-nids-apiapp11.ncep.noaa.gov'), (b'Access-Control-Allow-Origin', b'*'), (b'Access-Control-Expose-Headers', b'X-Correlation-Id, X-Request-Id, X-Server-Id'), (b'Pragma', b'no-cache'), (b'Content-Length', b'306'), (b'Cache-Control', b'private, must-revalidate, max-age=86400'), (b'Expires', b'Thu, 12 Jun 2025 22:13:04 GMT'), (b'Date', b'Wed, 11 Jun 2025 22:13:04 GMT'), (b'Connection', b'keep-alive'), (b'X-Edge-Request-ID', b'17406411'), (b'Vary', b'Accept,Feature-Flags,Accept-Language'), (b'Strict-Transport-Security', b'max-age=31536000 ; includeSubDomains ; preload')])
2025-06-11 15:13:05,462 - INFO - HTTP Request: GET https://api.weather.gov/points/-13.9669,33.7873 "HTTP/1.1 404 Not Found"
2025-06-11 15:13:05,462 - DEBUG - receive_response_body.started request=<Request [b'GET']>
2025-06-11 15:13:05,462 - DEBUG - receive_response_body.complete
2025-06-11 15:13:05,463 - DEBUG - response_closed.started
2025-06-11 15:13:05,463 - DEBUG - response_closed.complete
2025-06-11 15:13:05,464 - ERROR - Error making NWS request: Client error '404 Not Found' for url 'https://api.weather.gov/points/-13.9669,33.7873'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404
Traceback (most recent call last):
  File "C:\Software-Projects\mcp-tutorial\weather\weather.py", line 44, in make_nws_request
    response.raise_for_status()
  File "C:\Software-Projects\mcp-tutorial\client\mcp-client\.venv\Lib\site-packages\httpx\_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '404 Not Found' for url 'https://api.weather.gov/points/-13.9669,33.7873'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404
2025-06-11 15:13:05,477 - DEBUG - close.started
2025-06-11 15:13:05,477 - DEBUG - close.complete
2025-06-11 15:13:05,477 - ERROR - Failed to get points data for coordinates: -13.9669, 33.7873
2025-06-11 15:13:05,478 - DEBUG - Response sent
2025-06-11 15:13:34,668 - DEBUG - Received message: <mcp.shared.session.RequestResponder object at 0x000001EAE30B7BD0>
2025-06-11 15:13:34,669 - INFO - Processing request of type ListToolsRequest
2025-06-11 15:13:34,669 - DEBUG - Dispatching request of type ListToolsRequest
2025-06-11 15:13:34,669 - DEBUG - Response sent
2025-06-11 15:13:37,253 - DEBUG - Received message: <mcp.shared.session.RequestResponder object at 0x000001EAE2F52050>
2025-06-11 15:13:37,253 - INFO - Processing request of type CallToolRequest
2025-06-11 15:13:37,253 - DEBUG - Dispatching request of type CallToolRequest
2025-06-11 15:13:37,253 - INFO - Getting forecast for coordinates: 37.8857, -122.118
2025-06-11 15:13:37,254 - DEBUG - Making NWS request to: https://api.weather.gov/points/37.8857,-122.118
2025-06-11 15:13:37,260 - DEBUG - connect_tcp.started host='api.weather.gov' port=443 local_address=None timeout=30.0 socket_options=None
2025-06-11 15:13:37,298 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x000001EAE2F8EE90>
2025-06-11 15:13:37,299 - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x000001EAE3032B10> server_hostname='api.weather.gov' timeout=30.0
2025-06-11 15:13:37,331 - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x000001EAE3101190>
2025-06-11 15:13:37,331 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-06-11 15:13:37,332 - DEBUG - send_request_headers.complete
2025-06-11 15:13:37,332 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-06-11 15:13:37,332 - DEBUG - send_request_body.complete
2025-06-11 15:13:37,332 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-06-11 15:13:37,556 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Server', b'nginx/1.20.1'), (b'Content-Type', b'application/geo+json'), (b'X-Powered-By', b'PHP/8.0.30'), (b'Access-Control-Allow-Origin', b'*'), (b'Access-Control-Expose-Headers', b'X-Correlation-Id, X-Request-Id, X-Server-Id'), (b'X-Request-ID', b'4d368994-5811-4a69-bceb-f0f109ddae66'), (b'X-Correlation-ID', b'6d164c07'), (b'X-Server-ID', b'vm-lnx-nids-apiapp4.ncep.noaa.gov'), (b'Content-Encoding', b'gzip'), (b'Content-Length', b'803'), (b'Cache-Control', b'public, max-age=86400, s-maxage=120'), (b'Expires', b'Thu, 12 Jun 2025 22:13:36 GMT'), (b'Date', b'Wed, 11 Jun 2025 22:13:36 GMT'), (b'Connection', b'keep-alive'), (b'Vary', b'Accept-Encoding'), (b'X-Edge-Request-ID', b'8dfd86c'), (b'Vary', b'Accept,Feature-Flags,Accept-Language'), (b'Strict-Transport-Security', b'max-age=31536000 ; includeSubDomains ; preload')])
2025-06-11 15:13:37,556 - INFO - HTTP Request: GET https://api.weather.gov/points/37.8857,-122.118 "HTTP/1.1 200 OK"
2025-06-11 15:13:37,557 - DEBUG - receive_response_body.started request=<Request [b'GET']>
2025-06-11 15:13:37,557 - DEBUG - receive_response_body.complete
2025-06-11 15:13:37,557 - DEBUG - response_closed.started
2025-06-11 15:13:37,557 - DEBUG - response_closed.complete
2025-06-11 15:13:37,557 - DEBUG - Successful response from NWS API: 200
2025-06-11 15:13:37,557 - DEBUG - close.started
2025-06-11 15:13:37,557 - DEBUG - close.complete
2025-06-11 15:13:37,557 - DEBUG - Making NWS request to: https://api.weather.gov/gridpoints/MTR/96,108/forecast
2025-06-11 15:13:37,570 - DEBUG - connect_tcp.started host='api.weather.gov' port=443 local_address=None timeout=30.0 socket_options=None
2025-06-11 15:13:37,589 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x000001EAE2F637D0>
2025-06-11 15:13:37,589 - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x000001EAE3032C30> server_hostname='api.weather.gov' timeout=30.0
2025-06-11 15:13:37,619 - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x000001EAE30E4BD0>
2025-06-11 15:13:37,619 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-06-11 15:13:37,620 - DEBUG - send_request_headers.complete
2025-06-11 15:13:37,620 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-06-11 15:13:37,620 - DEBUG - send_request_body.complete
2025-06-11 15:13:37,620 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-06-11 15:13:37,742 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Server', b'nginx/1.20.1'), (b'Content-Type', b'application/geo+json'), (b'X-Powered-By', b'PHP/8.0.30'), (b'Last-Modified', b'Wed, 11 Jun 2025 20:26:56 GMT'), (b'Access-Control-Allow-Origin', b'*'), (b'Access-Control-Expose-Headers', b'X-Correlation-Id, X-Request-Id, X-Server-Id'), (b'X-Request-ID', b'bd15efad-51fd-4aa1-814b-a5cdb5a84ff7'), (b'X-Correlation-ID', b'633389'), (b'X-Server-ID', b'vm-lnx-nids-apiapp12.ncep.noaa.gov'), (b'Content-Encoding', b'gzip'), (b'Content-Length', b'1305'), (b'Cache-Control', b'public, max-age=349, s-maxage=3600'), (b'Expires', b'Wed, 11 Jun 2025 22:19:25 GMT'), (b'Date', b'Wed, 11 Jun 2025 22:13:36 GMT'), (b'Connection', b'keep-alive'), (b'Vary', b'Accept-Encoding'), (b'X-Edge-Request-ID', b'174125ea'), (b'Vary', b'Accept,Feature-Flags,Accept-Language'), (b'Strict-Transport-Security', b'max-age=31536000 ; includeSubDomains ; preload')])
2025-06-11 15:13:37,743 - INFO - HTTP Request: GET https://api.weather.gov/gridpoints/MTR/96,108/forecast "HTTP/1.1 200 OK"
2025-06-11 15:13:37,743 - DEBUG - receive_response_body.started request=<Request [b'GET']>
2025-06-11 15:13:37,743 - DEBUG - receive_response_body.complete
2025-06-11 15:13:37,743 - DEBUG - response_closed.started
2025-06-11 15:13:37,743 - DEBUG - response_closed.complete
2025-06-11 15:13:37,743 - DEBUG - Successful response from NWS API: 200
2025-06-11 15:13:37,744 - DEBUG - close.started
2025-06-11 15:13:37,744 - DEBUG - close.complete
2025-06-11 15:13:37,744 - DEBUG - Forecast data structure: dict_keys(['@context', 'type', 'geometry', 'properties'])
2025-06-11 15:13:37,745 - DEBUG - Forecast properties structure: dict_keys(['units', 'forecastGenerator', 'generatedAt', 'updateTime', 'validTimes', 'elevation', 'periods'])
2025-06-11 15:13:37,745 - INFO - Successfully retrieved forecast for coordinates: 37.8857, -122.118
2025-06-11 15:13:37,745 - DEBUG - Response sent
2025-06-11 15:13:56,216 - DEBUG - Received message: <mcp.shared.session.RequestResponder object at 0x000001EAE2F84950>
2025-06-11 15:13:56,216 - INFO - Processing request of type ListToolsRequest
2025-06-11 15:13:56,216 - DEBUG - Dispatching request of type ListToolsRequest
2025-06-11 15:13:56,216 - DEBUG - Response sent
2025-06-11 15:13:59,620 - DEBUG - Received message: <mcp.shared.session.RequestResponder object at 0x000001EAE2F86B90>
2025-06-11 15:13:59,620 - INFO - Processing request of type CallToolRequest
2025-06-11 15:13:59,621 - DEBUG - Dispatching request of type CallToolRequest
2025-06-11 15:13:59,621 - INFO - Getting forecast for coordinates: 39.1031, -84.512
2025-06-11 15:13:59,621 - DEBUG - Making NWS request to: https://api.weather.gov/points/39.1031,-84.512
2025-06-11 15:13:59,627 - DEBUG - connect_tcp.started host='api.weather.gov' port=443 local_address=None timeout=30.0 socket_options=None
2025-06-11 15:13:59,670 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x000001EAE30E1850>
2025-06-11 15:13:59,671 - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x000001EAE3033260> server_hostname='api.weather.gov' timeout=30.0
2025-06-11 15:13:59,698 - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x000001EAE30E1690>
2025-06-11 15:13:59,698 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-06-11 15:13:59,699 - DEBUG - send_request_headers.complete
2025-06-11 15:13:59,699 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-06-11 15:13:59,699 - DEBUG - send_request_body.complete
2025-06-11 15:13:59,699 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-06-11 15:13:59,951 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Server', b'nginx/1.20.1'), (b'Content-Type', b'application/geo+json'), (b'X-Powered-By', b'PHP/8.0.30'), (b'Access-Control-Allow-Origin', b'*'), (b'Access-Control-Expose-Headers', b'X-Correlation-Id, X-Request-Id, X-Server-Id'), (b'X-Request-ID', b'33062120-4ddc-42d8-851f-6c3dd45fd134'), (b'X-Correlation-ID', b'6d17475a'), (b'X-Server-ID', b'vm-lnx-nids-apiapp5.ncep.noaa.gov'), (b'Content-Encoding', b'gzip'), (b'Content-Length', b'797'), (b'Cache-Control', b'public, max-age=86400, s-maxage=120'), (b'Expires', b'Thu, 12 Jun 2025 22:13:58 GMT'), (b'Date', b'Wed, 11 Jun 2025 22:13:58 GMT'), (b'Connection', b'keep-alive'), (b'Vary', b'Accept-Encoding'), (b'X-Edge-Request-ID', b'1741a229'), (b'Vary', b'Accept,Feature-Flags,Accept-Language'), (b'Strict-Transport-Security', b'max-age=31536000 ; includeSubDomains ; preload')])
2025-06-11 15:13:59,952 - INFO - HTTP Request: GET https://api.weather.gov/points/39.1031,-84.512 "HTTP/1.1 200 OK"
2025-06-11 15:13:59,952 - DEBUG - receive_response_body.started request=<Request [b'GET']>
2025-06-11 15:13:59,953 - DEBUG - receive_response_body.complete
2025-06-11 15:13:59,953 - DEBUG - response_closed.started
2025-06-11 15:13:59,953 - DEBUG - response_closed.complete
2025-06-11 15:13:59,953 - DEBUG - Successful response from NWS API: 200
2025-06-11 15:13:59,954 - DEBUG - close.started
2025-06-11 15:13:59,954 - DEBUG - close.complete
2025-06-11 15:13:59,955 - DEBUG - Making NWS request to: https://api.weather.gov/gridpoints/ILN/36,38/forecast
2025-06-11 15:13:59,964 - DEBUG - connect_tcp.started host='api.weather.gov' port=443 local_address=None timeout=30.0 socket_options=None
2025-06-11 15:13:59,986 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x000001EAE3102F50>
2025-06-11 15:13:59,986 - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x000001EAE3032F90> server_hostname='api.weather.gov' timeout=30.0
2025-06-11 15:14:00,015 - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x000001EAE30B7B50>
2025-06-11 15:14:00,015 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-06-11 15:14:00,015 - DEBUG - send_request_headers.complete
2025-06-11 15:14:00,016 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-06-11 15:14:00,016 - DEBUG - send_request_body.complete
2025-06-11 15:14:00,016 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-06-11 15:14:00,372 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Server', b'nginx/1.20.1'), (b'Content-Type', b'application/geo+json'), (b'X-Powered-By', b'PHP/8.0.30'), (b'Last-Modified', b'Wed, 11 Jun 2025 21:12:21 GMT'), (b'Access-Control-Allow-Origin', b'*'), (b'Access-Control-Expose-Headers', b'X-Correlation-Id, X-Request-Id, X-Server-Id'), (b'X-Request-ID', b'1920a37b-b530-4995-992b-e7bd0eeca255'), (b'X-Correlation-ID', b'16cb964'), (b'X-Server-ID', b'vm-lnx-nids-apiapp11.ncep.noaa.gov'), (b'Content-Encoding', b'gzip'), (b'Content-Length', b'1687'), (b'Cache-Control', b'public, max-age=900, s-maxage=3600'), (b'Expires', b'Wed, 11 Jun 2025 22:28:59 GMT'), (b'Date', b'Wed, 11 Jun 2025 22:13:59 GMT'), (b'Connection', b'keep-alive'), (b'Vary', b'Accept-Encoding'), (b'X-Edge-Request-ID', b'8e124f6'), (b'Vary', b'Accept,Feature-Flags,Accept-Language'), (b'Strict-Transport-Security', b'max-age=31536000 ; includeSubDomains ; preload')])
2025-06-11 15:14:00,372 - INFO - HTTP Request: GET https://api.weather.gov/gridpoints/ILN/36,38/forecast "HTTP/1.1 200 OK"
2025-06-11 15:14:00,372 - DEBUG - receive_response_body.started request=<Request [b'GET']>
2025-06-11 15:14:00,372 - DEBUG - receive_response_body.complete
2025-06-11 15:14:00,372 - DEBUG - response_closed.started
2025-06-11 15:14:00,373 - DEBUG - response_closed.complete
2025-06-11 15:14:00,373 - DEBUG - Successful response from NWS API: 200
2025-06-11 15:14:00,373 - DEBUG - close.started
2025-06-11 15:14:00,373 - DEBUG - close.complete
2025-06-11 15:14:00,373 - DEBUG - Forecast data structure: dict_keys(['@context', 'type', 'geometry', 'properties'])
2025-06-11 15:14:00,373 - DEBUG - Forecast properties structure: dict_keys(['units', 'forecastGenerator', 'generatedAt', 'updateTime', 'validTimes', 'elevation', 'periods'])
2025-06-11 15:14:00,373 - INFO - Successfully retrieved forecast for coordinates: 39.1031, -84.512
2025-06-11 15:14:00,375 - DEBUG - Response sent
2025-06-11 15:14:13,287 - DEBUG - Received message: <mcp.shared.session.RequestResponder object at 0x000001EAE30C4210>
2025-06-11 15:14:13,288 - INFO - Processing request of type ListToolsRequest
2025-06-11 15:14:13,288 - DEBUG - Dispatching request of type ListToolsRequest
2025-06-11 15:14:13,288 - DEBUG - Response sent
2025-06-11 15:14:17,432 - DEBUG - Received message: <mcp.shared.session.RequestResponder object at 0x000001EAE1F82590>
2025-06-11 15:14:17,432 - INFO - Processing request of type CallToolRequest
2025-06-11 15:14:17,432 - DEBUG - Dispatching request of type CallToolRequest
2025-06-11 15:14:17,432 - INFO - Getting forecast for coordinates: 40.7128, -74.006
2025-06-11 15:14:17,432 - DEBUG - Making NWS request to: https://api.weather.gov/points/40.7128,-74.006
2025-06-11 15:14:17,438 - DEBUG - connect_tcp.started host='api.weather.gov' port=443 local_address=None timeout=30.0 socket_options=None
2025-06-11 15:14:17,472 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x000001EAE2F8C0D0>
2025-06-11 15:14:17,473 - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x000001EAE30331D0> server_hostname='api.weather.gov' timeout=30.0
2025-06-11 15:14:17,498 - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x000001EAE30E0A10>
2025-06-11 15:14:17,498 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-06-11 15:14:17,498 - DEBUG - send_request_headers.complete
2025-06-11 15:14:17,498 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-06-11 15:14:17,499 - DEBUG - send_request_body.complete
2025-06-11 15:14:17,499 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-06-11 15:14:17,535 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Server', b'nginx/1.20.1'), (b'Content-Type', b'application/geo+json'), (b'X-Powered-By', b'PHP/8.0.30'), (b'Access-Control-Allow-Origin', b'*'), (b'Access-Control-Expose-Headers', b'X-Correlation-Id, X-Request-Id, X-Server-Id'), (b'X-Request-ID', b'de6ed12d-f08f-42e3-ab8a-747412609e3d'), (b'X-Correlation-ID', b'6045daa7'), (b'X-Server-ID', b'vm-lnx-nids-apiapp3.ncep.noaa.gov'), (b'Content-Encoding', b'gzip'), (b'Content-Length', b'806'), (b'Cache-Control', b'public, max-age=20299, s-maxage=120'), (b'Expires', b'Thu, 12 Jun 2025 03:52:35 GMT'), (b'Date', b'Wed, 11 Jun 2025 22:14:16 GMT'), (b'Connection', b'keep-alive'), (b'Vary', b'Accept-Encoding'), (b'X-Edge-Request-ID', b'8e22bbf'), (b'Vary', b'Accept,Feature-Flags,Accept-Language'), (b'Strict-Transport-Security', b'max-age=31536000 ; includeSubDomains ; preload')])
2025-06-11 15:14:17,535 - INFO - HTTP Request: GET https://api.weather.gov/points/40.7128,-74.006 "HTTP/1.1 200 OK"
2025-06-11 15:14:17,535 - DEBUG - receive_response_body.started request=<Request [b'GET']>
2025-06-11 15:14:17,535 - DEBUG - receive_response_body.complete
2025-06-11 15:14:17,535 - DEBUG - response_closed.started
2025-06-11 15:14:17,536 - DEBUG - response_closed.complete
2025-06-11 15:14:17,536 - DEBUG - Successful response from NWS API: 200
2025-06-11 15:14:17,536 - DEBUG - close.started
2025-06-11 15:14:17,536 - DEBUG - close.complete
2025-06-11 15:14:17,536 - DEBUG - Making NWS request to: https://api.weather.gov/gridpoints/OKX/33,35/forecast
2025-06-11 15:14:17,542 - DEBUG - connect_tcp.started host='api.weather.gov' port=443 local_address=None timeout=30.0 socket_options=None
2025-06-11 15:14:17,561 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x000001EAE3124750>
2025-06-11 15:14:17,562 - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x000001EAE30FD5B0> server_hostname='api.weather.gov' timeout=30.0
2025-06-11 15:14:17,586 - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x000001EAE3124790>
2025-06-11 15:14:17,587 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-06-11 15:14:17,587 - DEBUG - send_request_headers.complete
2025-06-11 15:14:17,587 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-06-11 15:14:17,587 - DEBUG - send_request_body.complete
2025-06-11 15:14:17,587 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-06-11 15:14:17,882 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Server', b'nginx/1.20.1'), (b'Content-Type', b'application/geo+json'), (b'X-Powered-By', b'PHP/8.0.30'), (b'Last-Modified', b'Wed, 11 Jun 2025 21:51:55 GMT'), (b'Access-Control-Allow-Origin', b'*'), (b'Access-Control-Expose-Headers', b'X-Correlation-Id, X-Request-Id, X-Server-Id'), (b'X-Request-ID', b'35363a1a-323c-4d52-afd1-b9c4804f6c18'), (b'X-Correlation-ID', b'6d181e36'), (b'X-Server-ID', b'vm-lnx-nids-apiapp7.ncep.noaa.gov'), (b'Content-Encoding', b'gzip'), (b'Content-Length', b'1595'), (b'Cache-Control', b'public, max-age=900, s-maxage=3600'), (b'Expires', b'Wed, 11 Jun 2025 22:29:16 GMT'), (b'Date', b'Wed, 11 Jun 2025 22:14:16 GMT'), (b'Connection', b'keep-alive'), (b'Vary', b'Accept-Encoding'), (b'X-Edge-Request-ID', b'17420754'), (b'Vary', b'Accept,Feature-Flags,Accept-Language'), (b'Strict-Transport-Security', b'max-age=31536000 ; includeSubDomains ; preload')])
2025-06-11 15:14:17,882 - INFO - HTTP Request: GET https://api.weather.gov/gridpoints/OKX/33,35/forecast "HTTP/1.1 200 OK"
2025-06-11 15:14:17,882 - DEBUG - receive_response_body.started request=<Request [b'GET']>
2025-06-11 15:14:17,882 - DEBUG - receive_response_body.complete
2025-06-11 15:14:17,883 - DEBUG - response_closed.started
2025-06-11 15:14:17,883 - DEBUG - response_closed.complete
2025-06-11 15:14:17,883 - DEBUG - Successful response from NWS API: 200
2025-06-11 15:14:17,883 - DEBUG - close.started
2025-06-11 15:14:17,883 - DEBUG - close.complete
2025-06-11 15:14:17,883 - DEBUG - Forecast data structure: dict_keys(['@context', 'type', 'geometry', 'properties'])
2025-06-11 15:14:17,883 - DEBUG - Forecast properties structure: dict_keys(['units', 'forecastGenerator', 'generatedAt', 'updateTime', 'validTimes', 'elevation', 'periods'])
2025-06-11 15:14:17,884 - INFO - Successfully retrieved forecast for coordinates: 40.7128, -74.006
2025-06-11 15:14:17,884 - DEBUG - Response sent
2025-06-11 15:14:37,421 - DEBUG - Received message: <mcp.shared.session.RequestResponder object at 0x000001EAE2F86210>
2025-06-11 15:14:37,421 - INFO - Processing request of type ListToolsRequest
2025-06-11 15:14:37,421 - DEBUG - Dispatching request of type ListToolsRequest
2025-06-11 15:14:37,421 - DEBUG - Response sent
2025-06-11 16:13:27,434 - DEBUG - Received message: <mcp.shared.session.RequestResponder object at 0x000001EAE30B6FD0>
2025-06-11 16:13:27,439 - INFO - Processing request of type ListToolsRequest
2025-06-11 16:13:27,440 - DEBUG - Dispatching request of type ListToolsRequest
2025-06-11 16:13:27,443 - DEBUG - Response sent
2025-06-11 16:13:40,400 - DEBUG - Initializing server 'weather'
2025-06-11 16:13:40,400 - DEBUG - Registering handler for ListToolsRequest
2025-06-11 16:13:40,400 - DEBUG - Registering handler for CallToolRequest
2025-06-11 16:13:40,400 - DEBUG - Registering handler for ListResourcesRequest
2025-06-11 16:13:40,400 - DEBUG - Registering handler for ReadResourceRequest
2025-06-11 16:13:40,400 - DEBUG - Registering handler for PromptListRequest
2025-06-11 16:13:40,400 - DEBUG - Registering handler for GetPromptRequest
2025-06-11 16:13:40,401 - DEBUG - Registering handler for ListResourceTemplatesRequest
2025-06-11 16:13:40,416 - INFO - Starting weather server
2025-06-11 16:13:40,421 - DEBUG - Using proactor: IocpProactor
2025-06-11 16:13:40,431 - DEBUG - Received message: root=InitializedNotification(method='notifications/initialized', params=None, jsonrpc='2.0')
2025-06-11 16:13:40,432 - DEBUG - Received message: <mcp.shared.session.RequestResponder object at 0x000001A5C70C5790>
2025-06-11 16:13:40,432 - INFO - Processing request of type ListToolsRequest
2025-06-11 16:13:40,432 - DEBUG - Dispatching request of type ListToolsRequest
2025-06-11 16:13:40,433 - DEBUG - Response sent
2025-06-11 16:13:53,142 - DEBUG - Received message: <mcp.shared.session.RequestResponder object at 0x000001A5C710EBD0>
2025-06-11 16:13:53,143 - INFO - Processing request of type ListToolsRequest
2025-06-11 16:13:53,143 - DEBUG - Dispatching request of type ListToolsRequest
2025-06-11 16:13:53,143 - DEBUG - Response sent
2025-06-11 16:58:34,828 - DEBUG - Initializing server 'weather'
2025-06-11 16:58:34,829 - DEBUG - Registering handler for ListToolsRequest
2025-06-11 16:58:34,829 - DEBUG - Registering handler for CallToolRequest
2025-06-11 16:58:34,829 - DEBUG - Registering handler for ListResourcesRequest
2025-06-11 16:58:34,829 - DEBUG - Registering handler for ReadResourceRequest
2025-06-11 16:58:34,829 - DEBUG - Registering handler for PromptListRequest
2025-06-11 16:58:34,829 - DEBUG - Registering handler for GetPromptRequest
2025-06-11 16:58:34,829 - DEBUG - Registering handler for ListResourceTemplatesRequest
2025-06-11 16:58:34,830 - INFO - Starting weather server
2025-06-11 16:58:34,834 - DEBUG - Using proactor: IocpProactor
2025-06-11 16:58:34,840 - DEBUG - Received message: root=InitializedNotification(method='notifications/initialized', params=None, jsonrpc='2.0')
2025-06-11 16:58:34,841 - DEBUG - Received message: <mcp.shared.session.RequestResponder object at 0x000001EEF72B8B10>
2025-06-11 16:58:34,841 - INFO - Processing request of type ListToolsRequest
2025-06-11 16:58:34,841 - DEBUG - Dispatching request of type ListToolsRequest
2025-06-11 16:58:34,841 - DEBUG - Response sent
2025-06-11 16:58:38,256 - DEBUG - Received message: <mcp.shared.session.RequestResponder object at 0x000001EEF72CC9D0>
2025-06-11 16:58:38,256 - INFO - Processing request of type ListToolsRequest
2025-06-11 16:58:38,257 - DEBUG - Dispatching request of type ListToolsRequest
2025-06-11 16:58:38,257 - DEBUG - Response sent
2025-06-11 16:59:06,743 - DEBUG - Initializing server 'weather'
2025-06-11 16:59:06,744 - DEBUG - Registering handler for ListToolsRequest
2025-06-11 16:59:06,744 - DEBUG - Registering handler for CallToolRequest
2025-06-11 16:59:06,744 - DEBUG - Registering handler for ListResourcesRequest
2025-06-11 16:59:06,744 - DEBUG - Registering handler for ReadResourceRequest
2025-06-11 16:59:06,744 - DEBUG - Registering handler for PromptListRequest
2025-06-11 16:59:06,744 - DEBUG - Registering handler for GetPromptRequest
2025-06-11 16:59:06,744 - DEBUG - Registering handler for ListResourceTemplatesRequest
2025-06-11 16:59:46,462 - DEBUG - Initializing server 'weather'
2025-06-11 16:59:46,462 - DEBUG - Registering handler for ListToolsRequest
2025-06-11 16:59:46,462 - DEBUG - Registering handler for CallToolRequest
2025-06-11 16:59:46,462 - DEBUG - Registering handler for ListResourcesRequest
2025-06-11 16:59:46,462 - DEBUG - Registering handler for ReadResourceRequest
2025-06-11 16:59:46,463 - DEBUG - Registering handler for PromptListRequest
2025-06-11 16:59:46,463 - DEBUG - Registering handler for GetPromptRequest
2025-06-11 16:59:46,463 - DEBUG - Registering handler for ListResourceTemplatesRequest
2025-06-11 16:59:46,465 - INFO - Starting weather server
2025-06-11 16:59:46,468 - DEBUG - Using proactor: IocpProactor
2025-06-11 16:59:46,474 - DEBUG - Received message: root=InitializedNotification(method='notifications/initialized', params=None, jsonrpc='2.0')
2025-06-11 16:59:46,474 - DEBUG - Received message: <mcp.shared.session.RequestResponder object at 0x00000184DCF8C950>
2025-06-11 16:59:46,474 - INFO - Processing request of type ListToolsRequest
2025-06-11 16:59:46,474 - DEBUG - Dispatching request of type ListToolsRequest
2025-06-11 16:59:46,475 - DEBUG - Response sent
2025-06-11 16:59:48,354 - DEBUG - Received message: <mcp.shared.session.RequestResponder object at 0x00000184DBAE25D0>
2025-06-11 16:59:48,354 - INFO - Processing request of type ListToolsRequest
2025-06-11 16:59:48,354 - DEBUG - Dispatching request of type ListToolsRequest
2025-06-11 16:59:48,355 - DEBUG - Response sent
2025-06-11 17:00:04,228 - DEBUG - Received message: <mcp.shared.session.RequestResponder object at 0x00000184DCFEA150>
2025-06-11 17:00:04,228 - INFO - Processing request of type ListToolsRequest
2025-06-11 17:00:04,228 - DEBUG - Dispatching request of type ListToolsRequest
2025-06-11 17:00:04,228 - DEBUG - Response sent
2025-06-11 17:00:19,488 - DEBUG - Received message: <mcp.shared.session.RequestResponder object at 0x00000184DCFEAC90>
2025-06-11 17:00:19,488 - INFO - Processing request of type ListToolsRequest
2025-06-11 17:00:19,488 - DEBUG - Dispatching request of type ListToolsRequest
2025-06-11 17:00:19,488 - DEBUG - Response sent
2025-06-11 17:00:22,222 - DEBUG - Received message: <mcp.shared.session.RequestResponder object at 0x00000184DCF63DD0>
2025-06-11 17:00:22,223 - INFO - Processing request of type CallToolRequest
2025-06-11 17:00:22,223 - DEBUG - Dispatching request of type CallToolRequest
2025-06-11 17:00:22,223 - INFO - Getting forecast for coordinates: 37.8857, -122.118
2025-06-11 17:00:22,223 - DEBUG - Making NWS request to: https://api.weather.gov/points/37.8857,-122.118
2025-06-11 17:00:22,248 - DEBUG - connect_tcp.started host='api.weather.gov' port=443 local_address=None timeout=30.0 socket_options=None
2025-06-11 17:00:22,294 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x00000184DCFF41D0>
2025-06-11 17:00:22,294 - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x00000184DD0322A0> server_hostname='api.weather.gov' timeout=30.0
2025-06-11 17:00:22,324 - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x00000184DCFF4B50>
2025-06-11 17:00:22,324 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-06-11 17:00:22,325 - DEBUG - send_request_headers.complete
2025-06-11 17:00:22,325 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-06-11 17:00:22,326 - DEBUG - send_request_body.complete
2025-06-11 17:00:22,326 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-06-11 17:00:22,368 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Server', b'nginx/1.20.1'), (b'Content-Type', b'application/geo+json'), (b'X-Powered-By', b'PHP/8.0.30'), (b'Access-Control-Allow-Origin', b'*'), (b'Access-Control-Expose-Headers', b'X-Correlation-Id, X-Request-Id, X-Server-Id'), (b'X-Request-ID', b'4d368994-5811-4a69-bceb-f0f109ddae66'), (b'X-Correlation-ID', b'6d164c07'), (b'X-Server-ID', b'vm-lnx-nids-apiapp4.ncep.noaa.gov'), (b'Content-Encoding', b'gzip'), (b'Content-Length', b'803'), (b'Cache-Control', b'public, max-age=79995, s-maxage=120'), (b'Expires', b'Thu, 12 Jun 2025 22:13:36 GMT'), (b'Date', b'Thu, 12 Jun 2025 00:00:21 GMT'), (b'Connection', b'keep-alive'), (b'Vary', b'Accept-Encoding'), (b'X-Edge-Request-ID', b'17e35b77'), (b'Vary', b'Accept,Feature-Flags,Accept-Language'), (b'Strict-Transport-Security', b'max-age=31536000 ; includeSubDomains ; preload')])
2025-06-11 17:00:22,370 - INFO - HTTP Request: GET https://api.weather.gov/points/37.8857,-122.118 "HTTP/1.1 200 OK"
2025-06-11 17:00:22,370 - DEBUG - receive_response_body.started request=<Request [b'GET']>
2025-06-11 17:00:22,370 - DEBUG - receive_response_body.complete
2025-06-11 17:00:22,370 - DEBUG - response_closed.started
2025-06-11 17:00:22,371 - DEBUG - response_closed.complete
2025-06-11 17:00:22,371 - DEBUG - Successful response from NWS API: 200
2025-06-11 17:00:22,372 - DEBUG - close.started
2025-06-11 17:00:22,372 - DEBUG - close.complete
2025-06-11 17:00:22,372 - DEBUG - Making NWS request to: https://api.weather.gov/gridpoints/MTR/96,108/forecast
2025-06-11 17:00:22,384 - DEBUG - connect_tcp.started host='api.weather.gov' port=443 local_address=None timeout=30.0 socket_options=None
2025-06-11 17:00:22,401 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x00000184DE4030D0>
2025-06-11 17:00:22,401 - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x00000184DD032840> server_hostname='api.weather.gov' timeout=30.0
2025-06-11 17:00:22,426 - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x00000184DE4031D0>
2025-06-11 17:00:22,426 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-06-11 17:00:22,427 - DEBUG - send_request_headers.complete
2025-06-11 17:00:22,427 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-06-11 17:00:22,427 - DEBUG - send_request_body.complete
2025-06-11 17:00:22,427 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-06-11 17:00:22,586 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Server', b'nginx/1.20.1'), (b'Content-Type', b'application/geo+json'), (b'X-Powered-By', b'PHP/8.0.30'), (b'Last-Modified', b'Wed, 11 Jun 2025 20:26:56 GMT'), (b'Access-Control-Allow-Origin', b'*'), (b'Access-Control-Expose-Headers', b'X-Correlation-Id, X-Request-Id, X-Server-Id'), (b'X-Request-ID', b'bd15efad-51fd-4aa1-814b-a5cdb5a84ff7'), (b'X-Correlation-ID', b'633389'), (b'X-Server-ID', b'vm-lnx-nids-apiapp12.ncep.noaa.gov'), (b'Content-Encoding', b'gzip'), (b'Content-Length', b'1305'), (b'Cache-Control', b'public, max-age=900, s-maxage=3600'), (b'Expires', b'Thu, 12 Jun 2025 00:15:21 GMT'), (b'Date', b'Thu, 12 Jun 2025 00:00:21 GMT'), (b'Connection', b'keep-alive'), (b'Vary', b'Accept-Encoding'), (b'X-Edge-Request-ID', b'a5ea47c'), (b'Vary', b'Accept,Feature-Flags,Accept-Language'), (b'Strict-Transport-Security', b'max-age=31536000 ; includeSubDomains ; preload')])
2025-06-11 17:00:22,586 - INFO - HTTP Request: GET https://api.weather.gov/gridpoints/MTR/96,108/forecast "HTTP/1.1 200 OK"
2025-06-11 17:00:22,586 - DEBUG - receive_response_body.started request=<Request [b'GET']>
2025-06-11 17:00:22,587 - DEBUG - receive_response_body.complete
2025-06-11 17:00:22,587 - DEBUG - response_closed.started
2025-06-11 17:00:22,587 - DEBUG - response_closed.complete
2025-06-11 17:00:22,587 - DEBUG - Successful response from NWS API: 200
2025-06-11 17:00:22,587 - DEBUG - close.started
2025-06-11 17:00:22,587 - DEBUG - close.complete
2025-06-11 17:00:22,587 - DEBUG - Forecast data structure: dict_keys(['@context', 'type', 'geometry', 'properties'])
2025-06-11 17:00:22,587 - DEBUG - Forecast properties structure: dict_keys(['units', 'forecastGenerator', 'generatedAt', 'updateTime', 'validTimes', 'elevation', 'periods'])
2025-06-11 17:00:22,588 - INFO - Successfully retrieved forecast for coordinates: 37.8857, -122.118
2025-06-11 17:00:22,588 - DEBUG - Response sent
2025-06-11 17:00:33,411 - DEBUG - Received message: <mcp.shared.session.RequestResponder object at 0x00000184DCFF4BD0>
2025-06-11 17:00:33,412 - INFO - Processing request of type ListToolsRequest
2025-06-11 17:00:33,412 - DEBUG - Dispatching request of type ListToolsRequest
2025-06-11 17:00:33,412 - DEBUG - Response sent
2025-06-11 17:01:05,130 - DEBUG - Received message: <mcp.shared.session.RequestResponder object at 0x00000184DD0A4FD0>
2025-06-11 17:01:05,130 - INFO - Processing request of type ListToolsRequest
2025-06-11 17:01:05,130 - DEBUG - Dispatching request of type ListToolsRequest
2025-06-11 17:01:05,130 - DEBUG - Response sent
2025-06-11 17:01:23,651 - DEBUG - Received message: <mcp.shared.session.RequestResponder object at 0x00000184DCF8C950>
2025-06-11 17:01:23,651 - INFO - Processing request of type ListToolsRequest
2025-06-11 17:01:23,651 - DEBUG - Dispatching request of type ListToolsRequest
2025-06-11 17:01:23,651 - DEBUG - Response sent
2025-06-11 17:01:26,582 - DEBUG - Received message: <mcp.shared.session.RequestResponder object at 0x00000184DCF79110>
2025-06-11 17:01:26,582 - INFO - Processing request of type CallToolRequest
2025-06-11 17:01:26,582 - DEBUG - Dispatching request of type CallToolRequest
2025-06-11 17:01:26,582 - INFO - Getting forecast for coordinates: 37.8857, -122.118
2025-06-11 17:01:26,583 - DEBUG - Making NWS request to: https://api.weather.gov/points/37.8857,-122.118
2025-06-11 17:01:26,589 - DEBUG - connect_tcp.started host='api.weather.gov' port=443 local_address=None timeout=30.0 socket_options=None
2025-06-11 17:01:26,630 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x00000184DE410DD0>
2025-06-11 17:01:26,630 - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x00000184DCDD51C0> server_hostname='api.weather.gov' timeout=30.0
2025-06-11 17:01:26,659 - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x00000184DCFF4650>
2025-06-11 17:01:26,659 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-06-11 17:01:26,659 - DEBUG - send_request_headers.complete
2025-06-11 17:01:26,659 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-06-11 17:01:26,659 - DEBUG - send_request_body.complete
2025-06-11 17:01:26,659 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-06-11 17:01:26,682 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Server', b'nginx/1.20.1'), (b'Content-Type', b'application/geo+json'), (b'X-Powered-By', b'PHP/8.0.30'), (b'Access-Control-Allow-Origin', b'*'), (b'Access-Control-Expose-Headers', b'X-Correlation-Id, X-Request-Id, X-Server-Id'), (b'X-Request-ID', b'4d368994-5811-4a69-bceb-f0f109ddae66'), (b'X-Correlation-ID', b'6d164c07'), (b'X-Server-ID', b'vm-lnx-nids-apiapp4.ncep.noaa.gov'), (b'Content-Encoding', b'gzip'), (b'Content-Length', b'803'), (b'Cache-Control', b'public, max-age=79931, s-maxage=120'), (b'Expires', b'Thu, 12 Jun 2025 22:13:36 GMT'), (b'Date', b'Thu, 12 Jun 2025 00:01:25 GMT'), (b'Connection', b'keep-alive'), (b'Vary', b'Accept-Encoding'), (b'X-Edge-Request-ID', b'17e4d8b8'), (b'Vary', b'Accept,Feature-Flags,Accept-Language'), (b'Strict-Transport-Security', b'max-age=31536000 ; includeSubDomains ; preload')])
2025-06-11 17:01:26,682 - INFO - HTTP Request: GET https://api.weather.gov/points/37.8857,-122.118 "HTTP/1.1 200 OK"
2025-06-11 17:01:26,682 - DEBUG - receive_response_body.started request=<Request [b'GET']>
2025-06-11 17:01:26,682 - DEBUG - receive_response_body.complete
2025-06-11 17:01:26,682 - DEBUG - response_closed.started
2025-06-11 17:01:26,682 - DEBUG - response_closed.complete
2025-06-11 17:01:26,682 - DEBUG - Successful response from NWS API: 200
2025-06-11 17:01:26,683 - DEBUG - close.started
2025-06-11 17:01:26,683 - DEBUG - close.complete
2025-06-11 17:01:26,683 - DEBUG - Making NWS request to: https://api.weather.gov/gridpoints/MTR/96,108/forecast
2025-06-11 17:01:26,689 - DEBUG - connect_tcp.started host='api.weather.gov' port=443 local_address=None timeout=30.0 socket_options=None
2025-06-11 17:01:26,708 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x00000184DE413050>
2025-06-11 17:01:26,708 - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x00000184DD0328D0> server_hostname='api.weather.gov' timeout=30.0
2025-06-11 17:01:26,738 - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x00000184DE413C50>
2025-06-11 17:01:26,738 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-06-11 17:01:26,738 - DEBUG - send_request_headers.complete
2025-06-11 17:01:26,738 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-06-11 17:01:26,738 - DEBUG - send_request_body.complete
2025-06-11 17:01:26,738 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-06-11 17:01:26,765 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Server', b'nginx/1.20.1'), (b'Content-Type', b'application/geo+json'), (b'X-Powered-By', b'PHP/8.0.30'), (b'Last-Modified', b'Wed, 11 Jun 2025 20:26:56 GMT'), (b'Access-Control-Allow-Origin', b'*'), (b'Access-Control-Expose-Headers', b'X-Correlation-Id, X-Request-Id, X-Server-Id'), (b'X-Request-ID', b'bd15efad-51fd-4aa1-814b-a5cdb5a84ff7'), (b'X-Correlation-ID', b'633389'), (b'X-Server-ID', b'vm-lnx-nids-apiapp12.ncep.noaa.gov'), (b'Content-Encoding', b'gzip'), (b'Content-Length', b'1305'), (b'Cache-Control', b'public, max-age=836, s-maxage=3600'), (b'Expires', b'Thu, 12 Jun 2025 00:15:21 GMT'), (b'Date', b'Thu, 12 Jun 2025 00:01:25 GMT'), (b'Connection', b'keep-alive'), (b'Vary', b'Accept-Encoding'), (b'X-Edge-Request-ID', b'a627aac'), (b'Vary', b'Accept,Feature-Flags,Accept-Language'), (b'Strict-Transport-Security', b'max-age=31536000 ; includeSubDomains ; preload')])
2025-06-11 17:01:26,765 - INFO - HTTP Request: GET https://api.weather.gov/gridpoints/MTR/96,108/forecast "HTTP/1.1 200 OK"
2025-06-11 17:01:26,766 - DEBUG - receive_response_body.started request=<Request [b'GET']>
2025-06-11 17:01:26,766 - DEBUG - receive_response_body.complete
2025-06-11 17:01:26,766 - DEBUG - response_closed.started
2025-06-11 17:01:26,766 - DEBUG - response_closed.complete
2025-06-11 17:01:26,766 - DEBUG - Successful response from NWS API: 200
2025-06-11 17:01:26,766 - DEBUG - close.started
2025-06-11 17:01:26,767 - DEBUG - close.complete
2025-06-11 17:01:26,767 - DEBUG - Forecast data structure: dict_keys(['@context', 'type', 'geometry', 'properties'])
2025-06-11 17:01:26,767 - DEBUG - Forecast properties structure: dict_keys(['units', 'forecastGenerator', 'generatedAt', 'updateTime', 'validTimes', 'elevation', 'periods'])
2025-06-11 17:01:26,767 - INFO - Successfully retrieved forecast for coordinates: 37.8857, -122.118
2025-06-11 17:01:26,767 - DEBUG - Response sent
2025-06-11 17:01:40,880 - DEBUG - Received message: <mcp.shared.session.RequestResponder object at 0x00000184DCFF4B10>
2025-06-11 17:01:40,881 - INFO - Processing request of type ListToolsRequest
2025-06-11 17:01:40,881 - DEBUG - Dispatching request of type ListToolsRequest
2025-06-11 17:01:40,881 - DEBUG - Response sent
2025-06-11 22:44:10,884 - DEBUG - Received message: <mcp.shared.session.RequestResponder object at 0x00000184DCF8F1D0>
2025-06-11 22:44:10,888 - INFO - Processing request of type ListToolsRequest
2025-06-11 22:44:10,888 - DEBUG - Dispatching request of type ListToolsRequest
2025-06-11 22:44:10,890 - DEBUG - Response sent
2025-06-11 22:45:23,513 - DEBUG - Initializing server 'weather'
2025-06-11 22:45:23,514 - DEBUG - Registering handler for ListToolsRequest
2025-06-11 22:45:23,514 - DEBUG - Registering handler for CallToolRequest
2025-06-11 22:45:23,514 - DEBUG - Registering handler for ListResourcesRequest
2025-06-11 22:45:23,514 - DEBUG - Registering handler for ReadResourceRequest
2025-06-11 22:45:23,514 - DEBUG - Registering handler for PromptListRequest
2025-06-11 22:45:23,514 - DEBUG - Registering handler for GetPromptRequest
2025-06-11 22:45:23,514 - DEBUG - Registering handler for ListResourceTemplatesRequest
2025-06-11 22:45:23,518 - INFO - Starting weather server
2025-06-11 22:45:23,523 - DEBUG - Using proactor: IocpProactor
2025-06-11 22:45:23,532 - DEBUG - Received message: root=InitializedNotification(method='notifications/initialized', params=None, jsonrpc='2.0')
2025-06-11 22:45:23,533 - DEBUG - Received message: <mcp.shared.session.RequestResponder object at 0x000001DC360FB0D0>
2025-06-11 22:45:23,534 - INFO - Processing request of type ListToolsRequest
2025-06-11 22:45:23,534 - DEBUG - Dispatching request of type ListToolsRequest
2025-06-11 22:45:23,534 - DEBUG - Response sent
2025-06-11 22:45:29,010 - DEBUG - Received message: <mcp.shared.session.RequestResponder object at 0x000001DC36169110>
2025-06-11 22:45:29,011 - INFO - Processing request of type ListToolsRequest
2025-06-11 22:45:29,011 - DEBUG - Dispatching request of type ListToolsRequest
2025-06-11 22:45:29,011 - DEBUG - Response sent
2025-06-11 22:45:32,013 - DEBUG - Received message: <mcp.shared.session.RequestResponder object at 0x000001DC3616A710>
2025-06-11 22:45:32,013 - INFO - Processing request of type CallToolRequest
2025-06-11 22:45:32,013 - DEBUG - Dispatching request of type CallToolRequest
2025-06-11 22:45:32,013 - INFO - Getting forecast for coordinates: 37.8857, -122.118
2025-06-11 22:45:32,023 - DEBUG - Making NWS request to: https://api.weather.gov/points/37.8857,-122.118
2025-06-11 22:45:32,077 - DEBUG - connect_tcp.started host='api.weather.gov' port=443 local_address=None timeout=30.0 socket_options=None
2025-06-11 22:45:32,125 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x000001DC360F8F50>
2025-06-11 22:45:32,125 - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x000001DC361BA210> server_hostname='api.weather.gov' timeout=30.0
2025-06-11 22:45:32,164 - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x000001DC3616BBD0>
2025-06-11 22:45:32,164 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-06-11 22:45:32,165 - DEBUG - send_request_headers.complete
2025-06-11 22:45:32,165 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-06-11 22:45:32,165 - DEBUG - send_request_body.complete
2025-06-11 22:45:32,165 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-06-11 22:45:32,214 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Server', b'nginx/1.20.1'), (b'Content-Type', b'application/geo+json'), (b'X-Powered-By', b'PHP/8.0.30'), (b'Access-Control-Allow-Origin', b'*'), (b'Access-Control-Expose-Headers', b'X-Correlation-Id, X-Request-Id, X-Server-Id'), (b'X-Request-ID', b'4d368994-5811-4a69-bceb-f0f109ddae66'), (b'X-Correlation-ID', b'6d164c07'), (b'X-Server-ID', b'vm-lnx-nids-apiapp4.ncep.noaa.gov'), (b'Content-Encoding', b'gzip'), (b'Content-Length', b'803'), (b'Cache-Control', b'public, max-age=59284, s-maxage=120'), (b'Expires', b'Thu, 12 Jun 2025 22:13:36 GMT'), (b'Date', b'Thu, 12 Jun 2025 05:45:32 GMT'), (b'Connection', b'keep-alive'), (b'Vary', b'Accept-Encoding'), (b'X-Edge-Request-ID', b'f6006b1'), (b'Vary', b'Accept,Feature-Flags,Accept-Language'), (b'Strict-Transport-Security', b'max-age=31536000 ; includeSubDomains ; preload')])
2025-06-11 22:45:32,215 - INFO - HTTP Request: GET https://api.weather.gov/points/37.8857,-122.118 "HTTP/1.1 200 OK"
2025-06-11 22:45:32,215 - DEBUG - receive_response_body.started request=<Request [b'GET']>
2025-06-11 22:45:32,215 - DEBUG - receive_response_body.complete
2025-06-11 22:45:32,215 - DEBUG - response_closed.started
2025-06-11 22:45:32,215 - DEBUG - response_closed.complete
2025-06-11 22:45:32,215 - DEBUG - Successful response from NWS API: 200
2025-06-11 22:45:32,216 - DEBUG - close.started
2025-06-11 22:45:32,216 - DEBUG - close.complete
2025-06-11 22:45:32,216 - DEBUG - Making NWS request to: https://api.weather.gov/gridpoints/MTR/96,108/forecast
2025-06-11 22:45:32,228 - DEBUG - connect_tcp.started host='api.weather.gov' port=443 local_address=None timeout=30.0 socket_options=None
2025-06-11 22:45:32,250 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x000001DC3623F590>
2025-06-11 22:45:32,251 - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x000001DC361BA960> server_hostname='api.weather.gov' timeout=30.0
2025-06-11 22:45:32,280 - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x000001DC3623F690>
2025-06-11 22:45:32,280 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-06-11 22:45:32,281 - DEBUG - send_request_headers.complete
2025-06-11 22:45:32,281 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-06-11 22:45:32,281 - DEBUG - send_request_body.complete
2025-06-11 22:45:32,281 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-06-11 22:45:32,318 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Server', b'nginx/1.20.1'), (b'Content-Type', b'application/geo+json'), (b'X-Powered-By', b'PHP/8.0.30'), (b'Last-Modified', b'Wed, 11 Jun 2025 20:26:56 GMT'), (b'Access-Control-Allow-Origin', b'*'), (b'Access-Control-Expose-Headers', b'X-Correlation-Id, X-Request-Id, X-Server-Id'), (b'X-Request-ID', b'bd15efad-51fd-4aa1-814b-a5cdb5a84ff7'), (b'X-Correlation-ID', b'633389'), (b'X-Server-ID', b'vm-lnx-nids-apiapp12.ncep.noaa.gov'), (b'Content-Encoding', b'gzip'), (b'Content-Length', b'1305'), (b'Cache-Control', b'public, max-age=833, s-maxage=3600'), (b'Expires', b'Thu, 12 Jun 2025 05:59:25 GMT'), (b'Date', b'Thu, 12 Jun 2025 05:45:32 GMT'), (b'Connection', b'keep-alive'), (b'Vary', b'Accept-Encoding'), (b'X-Edge-Request-ID', b'1a50e0c6'), (b'Vary', b'Accept,Feature-Flags,Accept-Language'), (b'Strict-Transport-Security', b'max-age=31536000 ; includeSubDomains ; preload')])
2025-06-11 22:45:32,318 - INFO - HTTP Request: GET https://api.weather.gov/gridpoints/MTR/96,108/forecast "HTTP/1.1 200 OK"
2025-06-11 22:45:32,318 - DEBUG - receive_response_body.started request=<Request [b'GET']>
2025-06-11 22:45:32,318 - DEBUG - receive_response_body.complete
2025-06-11 22:45:32,318 - DEBUG - response_closed.started
2025-06-11 22:45:32,319 - DEBUG - response_closed.complete
2025-06-11 22:45:32,319 - DEBUG - Successful response from NWS API: 200
2025-06-11 22:45:32,319 - DEBUG - close.started
2025-06-11 22:45:32,319 - DEBUG - close.complete
2025-06-11 22:45:32,319 - DEBUG - Forecast data structure: dict_keys(['@context', 'type', 'geometry', 'properties'])
2025-06-11 22:45:32,320 - DEBUG - Forecast properties structure: dict_keys(['units', 'forecastGenerator', 'generatedAt', 'updateTime', 'validTimes', 'elevation', 'periods'])
2025-06-11 22:45:32,320 - INFO - Successfully retrieved forecast for coordinates: 37.8857, -122.118
2025-06-11 22:45:32,320 - DEBUG - Response sent
2025-06-11 22:45:39,724 - DEBUG - Received message: <mcp.shared.session.RequestResponder object at 0x000001DC360F8DD0>
2025-06-11 22:45:39,725 - INFO - Processing request of type ListToolsRequest
2025-06-11 22:45:39,725 - DEBUG - Dispatching request of type ListToolsRequest
2025-06-11 22:45:39,725 - DEBUG - Response sent
2025-06-11 22:46:45,155 - DEBUG - Initializing server 'weather'
2025-06-11 22:46:45,155 - DEBUG - Registering handler for ListToolsRequest
2025-06-11 22:46:45,155 - DEBUG - Registering handler for CallToolRequest
2025-06-11 22:46:45,155 - DEBUG - Registering handler for ListResourcesRequest
2025-06-11 22:46:45,155 - DEBUG - Registering handler for ReadResourceRequest
2025-06-11 22:46:45,155 - DEBUG - Registering handler for PromptListRequest
2025-06-11 22:46:45,155 - DEBUG - Registering handler for GetPromptRequest
2025-06-11 22:46:45,155 - DEBUG - Registering handler for ListResourceTemplatesRequest
2025-06-11 22:46:45,160 - INFO - Starting weather server
2025-06-11 22:46:45,169 - DEBUG - Using proactor: IocpProactor
2025-06-11 22:46:45,178 - DEBUG - Received message: root=InitializedNotification(method='notifications/initialized', params=None, jsonrpc='2.0')
2025-06-11 22:46:45,179 - DEBUG - Received message: <mcp.shared.session.RequestResponder object at 0x00000239823DCB50>
2025-06-11 22:46:45,180 - INFO - Processing request of type ListToolsRequest
2025-06-11 22:46:45,180 - DEBUG - Dispatching request of type ListToolsRequest
2025-06-11 22:46:45,180 - DEBUG - Response sent
2025-06-11 22:46:48,262 - DEBUG - Received message: <mcp.shared.session.RequestResponder object at 0x000002398243A990>
2025-06-11 22:46:48,262 - INFO - Processing request of type ListToolsRequest
2025-06-11 22:46:48,262 - DEBUG - Dispatching request of type ListToolsRequest
2025-06-11 22:46:48,263 - DEBUG - Response sent
2025-06-11 23:00:47,566 - DEBUG - Initializing server 'weather'
2025-06-11 23:00:47,566 - DEBUG - Registering handler for ListToolsRequest
2025-06-11 23:00:47,567 - DEBUG - Registering handler for CallToolRequest
2025-06-11 23:00:47,567 - DEBUG - Registering handler for ListResourcesRequest
2025-06-11 23:00:47,567 - DEBUG - Registering handler for ReadResourceRequest
2025-06-11 23:00:47,567 - DEBUG - Registering handler for PromptListRequest
2025-06-11 23:00:47,567 - DEBUG - Registering handler for GetPromptRequest
2025-06-11 23:00:47,567 - DEBUG - Registering handler for ListResourceTemplatesRequest
2025-06-11 23:00:47,570 - INFO - Starting weather server
2025-06-11 23:00:47,576 - DEBUG - Using proactor: IocpProactor
2025-06-11 23:00:47,584 - DEBUG - Received message: root=InitializedNotification(method='notifications/initialized', params=None, jsonrpc='2.0')
2025-06-11 23:00:47,585 - DEBUG - Received message: <mcp.shared.session.RequestResponder object at 0x000002027BA52FD0>
2025-06-11 23:00:47,586 - INFO - Processing request of type ListToolsRequest
2025-06-11 23:00:47,586 - DEBUG - Dispatching request of type ListToolsRequest
2025-06-11 23:00:47,586 - DEBUG - Response sent
2025-06-11 23:00:49,976 - DEBUG - Received message: <mcp.shared.session.RequestResponder object at 0x000002027BA74610>
2025-06-11 23:00:49,976 - INFO - Processing request of type ListToolsRequest
2025-06-11 23:00:49,976 - DEBUG - Dispatching request of type ListToolsRequest
2025-06-11 23:00:49,976 - DEBUG - Response sent
2025-06-11 23:01:12,728 - DEBUG - Received message: <mcp.shared.session.RequestResponder object at 0x000002027BA52FD0>
2025-06-11 23:01:12,729 - INFO - Processing request of type ListToolsRequest
2025-06-11 23:01:12,729 - DEBUG - Dispatching request of type ListToolsRequest
2025-06-11 23:01:12,729 - DEBUG - Response sent
2025-06-11 23:01:28,413 - DEBUG - Received message: <mcp.shared.session.RequestResponder object at 0x000002027BACBE90>
2025-06-11 23:01:28,414 - INFO - Processing request of type ListToolsRequest
2025-06-11 23:01:28,414 - DEBUG - Dispatching request of type ListToolsRequest
2025-06-11 23:01:28,414 - DEBUG - Response sent
2025-06-11 23:01:31,768 - DEBUG - Received message: <mcp.shared.session.RequestResponder object at 0x000002027BAD9B10>
2025-06-11 23:01:31,768 - INFO - Processing request of type CallToolRequest
2025-06-11 23:01:31,768 - DEBUG - Dispatching request of type CallToolRequest
2025-06-11 23:01:31,770 - INFO - Getting forecast for coordinates: 37.8857, -122.118
2025-06-11 23:01:31,770 - DEBUG - Making NWS request to: https://api.weather.gov/points/37.8857,-122.118
2025-06-11 23:01:31,827 - DEBUG - connect_tcp.started host='api.weather.gov' port=443 local_address=None timeout=30.0 socket_options=None
2025-06-11 23:01:31,914 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x000002027BB94510>
2025-06-11 23:01:31,914 - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x000002027BB1E330> server_hostname='api.weather.gov' timeout=30.0
2025-06-11 23:01:31,949 - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x000002027BA68D10>
2025-06-11 23:01:31,950 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-06-11 23:01:31,950 - DEBUG - send_request_headers.complete
2025-06-11 23:01:31,950 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-06-11 23:01:31,951 - DEBUG - send_request_body.complete
2025-06-11 23:01:31,951 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-06-11 23:01:31,977 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Server', b'nginx/1.20.1'), (b'Content-Type', b'application/geo+json'), (b'X-Powered-By', b'PHP/8.0.30'), (b'Access-Control-Allow-Origin', b'*'), (b'Access-Control-Expose-Headers', b'X-Correlation-Id, X-Request-Id, X-Server-Id'), (b'X-Request-ID', b'4d368994-5811-4a69-bceb-f0f109ddae66'), (b'X-Correlation-ID', b'6d164c07'), (b'X-Server-ID', b'vm-lnx-nids-apiapp4.ncep.noaa.gov'), (b'Content-Encoding', b'gzip'), (b'Content-Length', b'803'), (b'Cache-Control', b'public, max-age=58325, s-maxage=120'), (b'Expires', b'Thu, 12 Jun 2025 22:13:36 GMT'), (b'Date', b'Thu, 12 Jun 2025 06:01:31 GMT'), (b'Connection', b'keep-alive'), (b'Vary', b'Accept-Encoding'), (b'X-Edge-Request-ID', b'f99f508'), (b'Vary', b'Accept,Feature-Flags,Accept-Language'), (b'Strict-Transport-Security', b'max-age=31536000 ; includeSubDomains ; preload')])
2025-06-11 23:01:31,978 - INFO - HTTP Request: GET https://api.weather.gov/points/37.8857,-122.118 "HTTP/1.1 200 OK"
2025-06-11 23:01:31,979 - DEBUG - receive_response_body.started request=<Request [b'GET']>
2025-06-11 23:01:31,979 - DEBUG - receive_response_body.complete
2025-06-11 23:01:31,979 - DEBUG - response_closed.started
2025-06-11 23:01:31,979 - DEBUG - response_closed.complete
2025-06-11 23:01:31,979 - DEBUG - Successful response from NWS API: 200
2025-06-11 23:01:31,980 - DEBUG - close.started
2025-06-11 23:01:31,980 - DEBUG - close.complete
2025-06-11 23:01:31,981 - DEBUG - Making NWS request to: https://api.weather.gov/gridpoints/MTR/96,108/forecast
2025-06-11 23:01:31,994 - DEBUG - connect_tcp.started host='api.weather.gov' port=443 local_address=None timeout=30.0 socket_options=None
2025-06-11 23:01:32,012 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x000002027BAE4CD0>
2025-06-11 23:01:32,012 - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x000002027BB1E8D0> server_hostname='api.weather.gov' timeout=30.0
2025-06-11 23:01:32,040 - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x000002027CEC6490>
2025-06-11 23:01:32,040 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-06-11 23:01:32,040 - DEBUG - send_request_headers.complete
2025-06-11 23:01:32,040 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-06-11 23:01:32,040 - DEBUG - send_request_body.complete
2025-06-11 23:01:32,040 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-06-11 23:01:32,589 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Server', b'nginx/1.20.1'), (b'Content-Type', b'application/geo+json'), (b'X-Powered-By', b'PHP/8.0.30'), (b'Last-Modified', b'Wed, 11 Jun 2025 20:26:56 GMT'), (b'Access-Control-Allow-Origin', b'*'), (b'Access-Control-Expose-Headers', b'X-Correlation-Id, X-Request-Id, X-Server-Id'), (b'X-Request-ID', b'bd15efad-51fd-4aa1-814b-a5cdb5a84ff7'), (b'X-Correlation-ID', b'633389'), (b'X-Server-ID', b'vm-lnx-nids-apiapp12.ncep.noaa.gov'), (b'Content-Encoding', b'gzip'), (b'Content-Length', b'1305'), (b'Cache-Control', b'public, max-age=900, s-maxage=3600'), (b'Expires', b'Thu, 12 Jun 2025 06:16:32 GMT'), (b'Date', b'Thu, 12 Jun 2025 06:01:32 GMT'), (b'Connection', b'keep-alive'), (b'Vary', b'Accept-Encoding'), (b'X-Edge-Request-ID', b'1a6527d7'), (b'Vary', b'Accept,Feature-Flags,Accept-Language'), (b'Strict-Transport-Security', b'max-age=31536000 ; includeSubDomains ; preload')])
2025-06-11 23:01:32,590 - INFO - HTTP Request: GET https://api.weather.gov/gridpoints/MTR/96,108/forecast "HTTP/1.1 200 OK"
2025-06-11 23:01:32,590 - DEBUG - receive_response_body.started request=<Request [b'GET']>
2025-06-11 23:01:32,590 - DEBUG - receive_response_body.complete
2025-06-11 23:01:32,590 - DEBUG - response_closed.started
2025-06-11 23:01:32,591 - DEBUG - response_closed.complete
2025-06-11 23:01:32,591 - DEBUG - Successful response from NWS API: 200
2025-06-11 23:01:32,592 - DEBUG - close.started
2025-06-11 23:01:32,592 - DEBUG - close.complete
2025-06-11 23:01:32,593 - DEBUG - Forecast data structure: dict_keys(['@context', 'type', 'geometry', 'properties'])
2025-06-11 23:01:32,593 - DEBUG - Forecast properties structure: dict_keys(['units', 'forecastGenerator', 'generatedAt', 'updateTime', 'validTimes', 'elevation', 'periods'])
2025-06-11 23:01:32,594 - INFO - Successfully retrieved forecast for coordinates: 37.8857, -122.118
2025-06-11 23:01:32,594 - DEBUG - Response sent
2025-06-11 23:01:32,600 - DEBUG - Received message: <mcp.shared.session.RequestResponder object at 0x000002027BACBE90>
2025-06-11 23:01:32,600 - INFO - Processing request of type CallToolRequest
2025-06-11 23:01:32,600 - DEBUG - Dispatching request of type CallToolRequest
2025-06-11 23:01:32,604 - DEBUG - Response sent
2025-06-12 13:48:32,003 - DEBUG - Received message: <mcp.shared.session.RequestResponder object at 0x000002027BB94310>
2025-06-12 13:48:32,008 - INFO - Processing request of type ListToolsRequest
2025-06-12 13:48:32,008 - DEBUG - Dispatching request of type ListToolsRequest
2025-06-12 13:48:32,011 - DEBUG - Response sent
2025-06-12 13:48:42,082 - DEBUG - Received message: <mcp.shared.session.RequestResponder object at 0x000002027BACB490>
2025-06-12 13:48:42,082 - INFO - Processing request of type ListToolsRequest
2025-06-12 13:48:42,082 - DEBUG - Dispatching request of type ListToolsRequest
2025-06-12 13:48:42,083 - DEBUG - Response sent
2025-06-12 13:48:44,798 - DEBUG - Received message: <mcp.shared.session.RequestResponder object at 0x000002027BACA150>
2025-06-12 13:48:44,798 - INFO - Processing request of type CallToolRequest
2025-06-12 13:48:44,798 - DEBUG - Dispatching request of type CallToolRequest
2025-06-12 13:48:44,800 - INFO - Getting forecast for coordinates: 37.8857, -122.118
2025-06-12 13:48:44,800 - DEBUG - Making NWS request to: https://api.weather.gov/points/37.8857,-122.118
2025-06-12 13:48:44,823 - DEBUG - connect_tcp.started host='api.weather.gov' port=443 local_address=None timeout=30.0 socket_options=None
2025-06-12 13:48:44,890 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x000002027CEC4F50>
2025-06-12 13:48:44,890 - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x000002027B8C5490> server_hostname='api.weather.gov' timeout=30.0
2025-06-12 13:48:44,922 - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x000002027BAE4B10>
2025-06-12 13:48:44,923 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-06-12 13:48:44,924 - DEBUG - send_request_headers.complete
2025-06-12 13:48:44,924 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-06-12 13:48:44,924 - DEBUG - send_request_body.complete
2025-06-12 13:48:44,924 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-06-12 13:48:44,947 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Server', b'nginx/1.20.1'), (b'Content-Type', b'application/geo+json'), (b'X-Powered-By', b'PHP/8.0.30'), (b'Access-Control-Allow-Origin', b'*'), (b'Access-Control-Expose-Headers', b'X-Correlation-Id, X-Request-Id, X-Server-Id'), (b'X-Request-ID', b'4d368994-5811-4a69-bceb-f0f109ddae66'), (b'X-Correlation-ID', b'6d164c07'), (b'X-Server-ID', b'vm-lnx-nids-apiapp4.ncep.noaa.gov'), (b'Content-Encoding', b'gzip'), (b'Content-Length', b'803'), (b'Cache-Control', b'public, max-age=5092, s-maxage=120'), (b'Expires', b'Thu, 12 Jun 2025 22:13:36 GMT'), (b'Date', b'Thu, 12 Jun 2025 20:48:44 GMT'), (b'Connection', b'keep-alive'), (b'Vary', b'Accept-Encoding'), (b'X-Edge-Request-ID', b'19fbbbef'), (b'Vary', b'Accept,Feature-Flags,Accept-Language'), (b'Strict-Transport-Security', b'max-age=31536000 ; includeSubDomains ; preload')])
2025-06-12 13:48:44,949 - INFO - HTTP Request: GET https://api.weather.gov/points/37.8857,-122.118 "HTTP/1.1 200 OK"
2025-06-12 13:48:44,949 - DEBUG - receive_response_body.started request=<Request [b'GET']>
2025-06-12 13:48:44,949 - DEBUG - receive_response_body.complete
2025-06-12 13:48:44,949 - DEBUG - response_closed.started
2025-06-12 13:48:44,950 - DEBUG - response_closed.complete
2025-06-12 13:48:44,950 - DEBUG - Successful response from NWS API: 200
2025-06-12 13:48:44,951 - DEBUG - close.started
2025-06-12 13:48:44,951 - DEBUG - close.complete
2025-06-12 13:48:44,951 - DEBUG - Making NWS request to: https://api.weather.gov/gridpoints/MTR/96,108/forecast
2025-06-12 13:48:44,967 - DEBUG - connect_tcp.started host='api.weather.gov' port=443 local_address=None timeout=30.0 socket_options=None
2025-06-12 13:48:44,988 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x000002027CED2CD0>
2025-06-12 13:48:44,989 - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x000002027BB1E840> server_hostname='api.weather.gov' timeout=30.0
2025-06-12 13:48:45,015 - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x000002027CED2D10>
2025-06-12 13:48:45,016 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-06-12 13:48:45,016 - DEBUG - send_request_headers.complete
2025-06-12 13:48:45,016 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-06-12 13:48:45,016 - DEBUG - send_request_body.complete
2025-06-12 13:48:45,016 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-06-12 13:48:45,091 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Server', b'nginx/1.20.1'), (b'Content-Type', b'application/geo+json'), (b'X-Powered-By', b'PHP/8.0.30'), (b'Last-Modified', b'Thu, 12 Jun 2025 20:30:08 GMT'), (b'Access-Control-Allow-Origin', b'*'), (b'Access-Control-Expose-Headers', b'X-Correlation-Id, X-Request-Id, X-Server-Id'), (b'X-Request-ID', b'28dc6a9c-6f47-4d9d-add3-d4b0e14d43b8'), (b'X-Correlation-ID', b'1178b8e4'), (b'X-Server-ID', b'vm-lnx-nids-apiapp2.ncep.noaa.gov'), (b'Content-Encoding', b'gzip'), (b'Content-Length', b'1280'), (b'Cache-Control', b'public, max-age=664, s-maxage=3600'), (b'Expires', b'Thu, 12 Jun 2025 20:59:48 GMT'), (b'Date', b'Thu, 12 Jun 2025 20:48:44 GMT'), (b'Connection', b'keep-alive'), (b'Vary', b'Accept-Encoding'), (b'X-Edge-Request-ID', b'1e27512d'), (b'Vary', b'Accept,Feature-Flags,Accept-Language'), (b'Strict-Transport-Security', b'max-age=31536000 ; includeSubDomains ; preload')])
2025-06-12 13:48:45,091 - INFO - HTTP Request: GET https://api.weather.gov/gridpoints/MTR/96,108/forecast "HTTP/1.1 200 OK"
2025-06-12 13:48:45,093 - DEBUG - receive_response_body.started request=<Request [b'GET']>
2025-06-12 13:48:45,093 - DEBUG - receive_response_body.complete
2025-06-12 13:48:45,093 - DEBUG - response_closed.started
2025-06-12 13:48:45,093 - DEBUG - response_closed.complete
2025-06-12 13:48:45,093 - DEBUG - Successful response from NWS API: 200
2025-06-12 13:48:45,094 - DEBUG - close.started
2025-06-12 13:48:45,094 - DEBUG - close.complete
2025-06-12 13:48:45,094 - DEBUG - Forecast data structure: dict_keys(['@context', 'type', 'geometry', 'properties'])
2025-06-12 13:48:45,095 - DEBUG - Forecast properties structure: dict_keys(['units', 'forecastGenerator', 'generatedAt', 'updateTime', 'validTimes', 'elevation', 'periods'])
2025-06-12 13:48:45,095 - INFO - Successfully retrieved forecast for coordinates: 37.8857, -122.118
2025-06-12 13:48:45,096 - DEBUG - Response sent
2025-06-12 13:48:45,098 - DEBUG - Received message: <mcp.shared.session.RequestResponder object at 0x000002027BA680D0>
2025-06-12 13:48:45,098 - INFO - Processing request of type CallToolRequest
2025-06-12 13:48:45,098 - DEBUG - Dispatching request of type CallToolRequest
2025-06-12 13:48:45,099 - DEBUG - Response sent
2025-06-12 13:52:39,506 - DEBUG - Initializing server 'weather'
2025-06-12 13:52:39,507 - DEBUG - Registering handler for ListToolsRequest
2025-06-12 13:52:39,507 - DEBUG - Registering handler for CallToolRequest
2025-06-12 13:52:39,507 - DEBUG - Registering handler for ListResourcesRequest
2025-06-12 13:52:39,507 - DEBUG - Registering handler for ReadResourceRequest
2025-06-12 13:52:39,507 - DEBUG - Registering handler for PromptListRequest
2025-06-12 13:52:39,507 - DEBUG - Registering handler for GetPromptRequest
2025-06-12 13:52:39,507 - DEBUG - Registering handler for ListResourceTemplatesRequest
2025-06-12 13:52:39,512 - INFO - Starting weather server
2025-06-12 13:52:39,517 - DEBUG - Using proactor: IocpProactor
2025-06-12 13:52:39,527 - DEBUG - Received message: root=InitializedNotification(method='notifications/initialized', params=None, jsonrpc='2.0')
2025-06-12 13:52:39,528 - DEBUG - Received message: <mcp.shared.session.RequestResponder object at 0x00000210D5C4D290>
2025-06-12 13:52:39,528 - INFO - Processing request of type ListToolsRequest
2025-06-12 13:52:39,528 - DEBUG - Dispatching request of type ListToolsRequest
2025-06-12 13:52:39,528 - DEBUG - Response sent
2025-06-12 13:52:41,103 - DEBUG - Received message: <mcp.shared.session.RequestResponder object at 0x00000210D5C384D0>
2025-06-12 13:52:41,103 - INFO - Processing request of type ListToolsRequest
2025-06-12 13:52:41,103 - DEBUG - Dispatching request of type ListToolsRequest
2025-06-12 13:52:41,104 - DEBUG - Response sent
2025-06-12 13:52:47,350 - DEBUG - Received message: <mcp.shared.session.RequestResponder object at 0x00000210D5C23B10>
2025-06-12 13:52:47,351 - INFO - Processing request of type ListToolsRequest
2025-06-12 13:52:47,351 - DEBUG - Dispatching request of type ListToolsRequest
2025-06-12 13:52:47,351 - DEBUG - Response sent
2025-06-12 13:52:57,767 - DEBUG - Received message: <mcp.shared.session.RequestResponder object at 0x00000210D5C39050>
2025-06-12 13:52:57,767 - INFO - Processing request of type ListToolsRequest
2025-06-12 13:52:57,767 - DEBUG - Dispatching request of type ListToolsRequest
2025-06-12 13:52:57,768 - DEBUG - Response sent
2025-06-12 13:53:00,492 - DEBUG - Received message: <mcp.shared.session.RequestResponder object at 0x00000210D5C23B10>
2025-06-12 13:53:00,492 - INFO - Processing request of type CallToolRequest
2025-06-12 13:53:00,492 - DEBUG - Dispatching request of type CallToolRequest
2025-06-12 13:53:00,493 - INFO - Getting forecast for coordinates: 37.8857, -122.118
2025-06-12 13:53:00,493 - DEBUG - Making NWS request to: https://api.weather.gov/points/37.8857,-122.118
2025-06-12 13:53:00,538 - DEBUG - connect_tcp.started host='api.weather.gov' port=443 local_address=None timeout=30.0 socket_options=None
2025-06-12 13:53:00,591 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x00000210D5D5FF10>
2025-06-12 13:53:00,591 - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x00000210D5CEA2A0> server_hostname='api.weather.gov' timeout=30.0
2025-06-12 13:53:00,617 - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x00000210D5C45810>
2025-06-12 13:53:00,618 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-06-12 13:53:00,619 - DEBUG - send_request_headers.complete
2025-06-12 13:53:00,619 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-06-12 13:53:00,619 - DEBUG - send_request_body.complete
2025-06-12 13:53:00,619 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-06-12 13:53:00,643 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Server', b'nginx/1.20.1'), (b'Content-Type', b'application/geo+json'), (b'X-Powered-By', b'PHP/8.0.30'), (b'Access-Control-Allow-Origin', b'*'), (b'Access-Control-Expose-Headers', b'X-Correlation-Id, X-Request-Id, X-Server-Id'), (b'X-Request-ID', b'4d368994-5811-4a69-bceb-f0f109ddae66'), (b'X-Correlation-ID', b'6d164c07'), (b'X-Server-ID', b'vm-lnx-nids-apiapp4.ncep.noaa.gov'), (b'Content-Encoding', b'gzip'), (b'Content-Length', b'803'), (b'Cache-Control', b'public, max-age=4836, s-maxage=120'), (b'Expires', b'Thu, 12 Jun 2025 22:13:36 GMT'), (b'Date', b'Thu, 12 Jun 2025 20:53:00 GMT'), (b'Connection', b'keep-alive'), (b'Vary', b'Accept-Encoding'), (b'X-Edge-Request-ID', b'1e2d0a96'), (b'Vary', b'Accept,Feature-Flags,Accept-Language'), (b'Strict-Transport-Security', b'max-age=31536000 ; includeSubDomains ; preload')])
2025-06-12 13:53:00,644 - INFO - HTTP Request: GET https://api.weather.gov/points/37.8857,-122.118 "HTTP/1.1 200 OK"
2025-06-12 13:53:00,644 - DEBUG - receive_response_body.started request=<Request [b'GET']>
2025-06-12 13:53:00,644 - DEBUG - receive_response_body.complete
2025-06-12 13:53:00,645 - DEBUG - response_closed.started
2025-06-12 13:53:00,645 - DEBUG - response_closed.complete
2025-06-12 13:53:00,645 - DEBUG - Successful response from NWS API: 200
2025-06-12 13:53:00,646 - DEBUG - close.started
2025-06-12 13:53:00,646 - DEBUG - close.complete
2025-06-12 13:53:00,646 - DEBUG - Making NWS request to: https://api.weather.gov/gridpoints/MTR/96,108/forecast
2025-06-12 13:53:00,662 - DEBUG - connect_tcp.started host='api.weather.gov' port=443 local_address=None timeout=30.0 socket_options=None
2025-06-12 13:53:00,684 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x00000210D70C9C50>
2025-06-12 13:53:00,684 - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x00000210D5CEA840> server_hostname='api.weather.gov' timeout=30.0
2025-06-12 13:53:00,714 - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x00000210D70C9D50>
2025-06-12 13:53:00,714 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-06-12 13:53:00,715 - DEBUG - send_request_headers.complete
2025-06-12 13:53:00,715 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-06-12 13:53:00,715 - DEBUG - send_request_body.complete
2025-06-12 13:53:00,715 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-06-12 13:53:00,765 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Server', b'nginx/1.20.1'), (b'Content-Type', b'application/geo+json'), (b'X-Powered-By', b'PHP/8.0.30'), (b'Last-Modified', b'Thu, 12 Jun 2025 20:30:08 GMT'), (b'Access-Control-Allow-Origin', b'*'), (b'Access-Control-Expose-Headers', b'X-Correlation-Id, X-Request-Id, X-Server-Id'), (b'X-Request-ID', b'28dc6a9c-6f47-4d9d-add3-d4b0e14d43b8'), (b'X-Correlation-ID', b'1178b8e4'), (b'X-Server-ID', b'vm-lnx-nids-apiapp2.ncep.noaa.gov'), (b'Content-Encoding', b'gzip'), (b'Content-Length', b'1280'), (b'Cache-Control', b'public, max-age=408, s-maxage=3600'), (b'Expires', b'Thu, 12 Jun 2025 20:59:48 GMT'), (b'Date', b'Thu, 12 Jun 2025 20:53:00 GMT'), (b'Connection', b'keep-alive'), (b'Vary', b'Accept-Encoding'), (b'X-Edge-Request-ID', b'1a09925c'), (b'Vary', b'Accept,Feature-Flags,Accept-Language'), (b'Strict-Transport-Security', b'max-age=31536000 ; includeSubDomains ; preload')])
2025-06-12 13:53:00,766 - INFO - HTTP Request: GET https://api.weather.gov/gridpoints/MTR/96,108/forecast "HTTP/1.1 200 OK"
2025-06-12 13:53:00,766 - DEBUG - receive_response_body.started request=<Request [b'GET']>
2025-06-12 13:53:00,766 - DEBUG - receive_response_body.complete
2025-06-12 13:53:00,767 - DEBUG - response_closed.started
2025-06-12 13:53:00,767 - DEBUG - response_closed.complete
2025-06-12 13:53:00,767 - DEBUG - Successful response from NWS API: 200
2025-06-12 13:53:00,767 - DEBUG - close.started
2025-06-12 13:53:00,767 - DEBUG - close.complete
2025-06-12 13:53:00,767 - DEBUG - Forecast data structure: dict_keys(['@context', 'type', 'geometry', 'properties'])
2025-06-12 13:53:00,768 - DEBUG - Forecast properties structure: dict_keys(['units', 'forecastGenerator', 'generatedAt', 'updateTime', 'validTimes', 'elevation', 'periods'])
2025-06-12 13:53:00,768 - INFO - Successfully retrieved forecast for coordinates: 37.8857, -122.118
2025-06-12 13:53:00,769 - DEBUG - Response sent
2025-06-12 13:53:00,771 - DEBUG - Received message: <mcp.shared.session.RequestResponder object at 0x00000210D5CA9650>
2025-06-12 13:53:00,772 - INFO - Processing request of type CallToolRequest
2025-06-12 13:53:00,772 - DEBUG - Dispatching request of type CallToolRequest
2025-06-12 13:53:00,772 - DEBUG - Response sent
2025-06-12 13:59:00,188 - DEBUG - Initializing server 'weather'
2025-06-12 13:59:00,189 - DEBUG - Registering handler for ListToolsRequest
2025-06-12 13:59:00,189 - DEBUG - Registering handler for CallToolRequest
2025-06-12 13:59:00,189 - DEBUG - Registering handler for ListResourcesRequest
2025-06-12 13:59:00,189 - DEBUG - Registering handler for ReadResourceRequest
2025-06-12 13:59:00,189 - DEBUG - Registering handler for PromptListRequest
2025-06-12 13:59:00,189 - DEBUG - Registering handler for GetPromptRequest
2025-06-12 13:59:00,189 - DEBUG - Registering handler for ListResourceTemplatesRequest
2025-06-12 13:59:00,192 - INFO - Starting weather server
2025-06-12 13:59:00,199 - DEBUG - Using proactor: IocpProactor
2025-06-12 13:59:00,209 - DEBUG - Received message: root=InitializedNotification(method='notifications/initialized', params=None, jsonrpc='2.0')
2025-06-12 13:59:00,210 - DEBUG - Received message: <mcp.shared.session.RequestResponder object at 0x00000227805B8410>
2025-06-12 13:59:00,210 - INFO - Processing request of type ListToolsRequest
2025-06-12 13:59:00,210 - DEBUG - Dispatching request of type ListToolsRequest
2025-06-12 13:59:00,210 - DEBUG - Response sent
2025-06-12 13:59:02,973 - DEBUG - Received message: <mcp.shared.session.RequestResponder object at 0x00000227805A3390>
2025-06-12 13:59:02,973 - INFO - Processing request of type ListToolsRequest
2025-06-12 13:59:02,973 - DEBUG - Dispatching request of type ListToolsRequest
2025-06-12 13:59:02,973 - DEBUG - Response sent
2025-06-12 13:59:15,624 - DEBUG - Received message: <mcp.shared.session.RequestResponder object at 0x0000022780130650>
2025-06-12 13:59:15,625 - INFO - Processing request of type ListToolsRequest
2025-06-12 13:59:15,625 - DEBUG - Dispatching request of type ListToolsRequest
2025-06-12 13:59:15,625 - DEBUG - Response sent
2025-06-12 13:59:18,045 - DEBUG - Received message: <mcp.shared.session.RequestResponder object at 0x00000227805A3390>
2025-06-12 13:59:18,045 - INFO - Processing request of type CallToolRequest
2025-06-12 13:59:18,045 - DEBUG - Dispatching request of type CallToolRequest
2025-06-12 13:59:18,046 - INFO - Getting forecast for coordinates: 37.8857, -122.118
2025-06-12 13:59:18,046 - DEBUG - Making NWS request to: https://api.weather.gov/points/37.8857,-122.118
2025-06-12 13:59:18,094 - DEBUG - connect_tcp.started host='api.weather.gov' port=443 local_address=None timeout=30.0 socket_options=None
2025-06-12 13:59:18,146 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x00000227805A35D0>
2025-06-12 13:59:18,146 - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x000002278066E2A0> server_hostname='api.weather.gov' timeout=30.0
2025-06-12 13:59:18,181 - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x00000227805E2B90>
2025-06-12 13:59:18,182 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-06-12 13:59:18,182 - DEBUG - send_request_headers.complete
2025-06-12 13:59:18,182 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-06-12 13:59:18,183 - DEBUG - send_request_body.complete
2025-06-12 13:59:18,183 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-06-12 13:59:18,208 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Server', b'nginx/1.20.1'), (b'Content-Type', b'application/geo+json'), (b'X-Powered-By', b'PHP/8.0.30'), (b'Access-Control-Allow-Origin', b'*'), (b'Access-Control-Expose-Headers', b'X-Correlation-Id, X-Request-Id, X-Server-Id'), (b'X-Request-ID', b'86877d61-9a31-4699-b167-7a390bd1d578'), (b'X-Correlation-ID', b'562eb56'), (b'X-Server-ID', b'vm-lnx-nids-apiapp5.ncep.noaa.gov'), (b'Content-Encoding', b'gzip'), (b'Content-Length', b'803'), (b'Cache-Control', b'public, max-age=85767, s-maxage=120'), (b'Expires', b'Fri, 13 Jun 2025 20:48:44 GMT'), (b'Date', b'Thu, 12 Jun 2025 20:59:17 GMT'), (b'Connection', b'keep-alive'), (b'Vary', b'Accept-Encoding'), (b'X-Edge-Request-ID', b'1e35af4f'), (b'Vary', b'Accept,Feature-Flags,Accept-Language'), (b'Strict-Transport-Security', b'max-age=31536000 ; includeSubDomains ; preload')])
2025-06-12 13:59:18,209 - INFO - HTTP Request: GET https://api.weather.gov/points/37.8857,-122.118 "HTTP/1.1 200 OK"
2025-06-12 13:59:18,209 - DEBUG - receive_response_body.started request=<Request [b'GET']>
2025-06-12 13:59:18,210 - DEBUG - receive_response_body.complete
2025-06-12 13:59:18,210 - DEBUG - response_closed.started
2025-06-12 13:59:18,210 - DEBUG - response_closed.complete
2025-06-12 13:59:18,210 - DEBUG - Successful response from NWS API: 200
2025-06-12 13:59:18,211 - DEBUG - close.started
2025-06-12 13:59:18,211 - DEBUG - close.complete
2025-06-12 13:59:18,211 - DEBUG - Making NWS request to: https://api.weather.gov/gridpoints/MTR/96,108/forecast
2025-06-12 13:59:18,229 - DEBUG - connect_tcp.started host='api.weather.gov' port=443 local_address=None timeout=30.0 socket_options=None
2025-06-12 13:59:18,255 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x0000022781A163D0>
2025-06-12 13:59:18,255 - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x000002278066E840> server_hostname='api.weather.gov' timeout=30.0
2025-06-12 13:59:18,283 - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x0000022781A164D0>
2025-06-12 13:59:18,284 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-06-12 13:59:18,284 - DEBUG - send_request_headers.complete
2025-06-12 13:59:18,284 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-06-12 13:59:18,284 - DEBUG - send_request_body.complete
2025-06-12 13:59:18,284 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-06-12 13:59:18,311 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Server', b'nginx/1.20.1'), (b'Content-Type', b'application/geo+json'), (b'X-Powered-By', b'PHP/8.0.30'), (b'Last-Modified', b'Thu, 12 Jun 2025 20:30:08 GMT'), (b'Access-Control-Allow-Origin', b'*'), (b'Access-Control-Expose-Headers', b'X-Correlation-Id, X-Request-Id, X-Server-Id'), (b'X-Request-ID', b'28dc6a9c-6f47-4d9d-add3-d4b0e14d43b8'), (b'X-Correlation-ID', b'1178b8e4'), (b'X-Server-ID', b'vm-lnx-nids-apiapp2.ncep.noaa.gov'), (b'Content-Encoding', b'gzip'), (b'Content-Length', b'1280'), (b'Cache-Control', b'public, max-age=30, s-maxage=3600'), (b'Expires', b'Thu, 12 Jun 2025 20:59:48 GMT'), (b'Date', b'Thu, 12 Jun 2025 20:59:18 GMT'), (b'Connection', b'keep-alive'), (b'Vary', b'Accept-Encoding'), (b'X-Edge-Request-ID', b'1e35afaf'), (b'Vary', b'Accept,Feature-Flags,Accept-Language'), (b'Strict-Transport-Security', b'max-age=31536000 ; includeSubDomains ; preload')])
2025-06-12 13:59:18,311 - INFO - HTTP Request: GET https://api.weather.gov/gridpoints/MTR/96,108/forecast "HTTP/1.1 200 OK"
2025-06-12 13:59:18,312 - DEBUG - receive_response_body.started request=<Request [b'GET']>
2025-06-12 13:59:18,312 - DEBUG - receive_response_body.complete
2025-06-12 13:59:18,312 - DEBUG - response_closed.started
2025-06-12 13:59:18,312 - DEBUG - response_closed.complete
2025-06-12 13:59:18,312 - DEBUG - Successful response from NWS API: 200
2025-06-12 13:59:18,313 - DEBUG - close.started
2025-06-12 13:59:18,313 - DEBUG - close.complete
2025-06-12 13:59:18,314 - DEBUG - Forecast data structure: dict_keys(['@context', 'type', 'geometry', 'properties'])
2025-06-12 13:59:18,314 - DEBUG - Forecast properties structure: dict_keys(['units', 'forecastGenerator', 'generatedAt', 'updateTime', 'validTimes', 'elevation', 'periods'])
2025-06-12 13:59:18,314 - INFO - Successfully retrieved forecast for coordinates: 37.8857, -122.118
2025-06-12 13:59:18,315 - DEBUG - Response sent
2025-06-12 13:59:18,318 - DEBUG - Received message: <mcp.shared.session.RequestResponder object at 0x0000022780634BD0>
2025-06-12 13:59:18,319 - INFO - Processing request of type CallToolRequest
2025-06-12 13:59:18,319 - DEBUG - Dispatching request of type CallToolRequest
2025-06-12 13:59:18,319 - DEBUG - Response sent
2025-06-12 14:01:37,737 - DEBUG - Initializing server 'weather'
2025-06-12 14:01:37,737 - DEBUG - Registering handler for ListToolsRequest
2025-06-12 14:01:37,737 - DEBUG - Registering handler for CallToolRequest
2025-06-12 14:01:37,737 - DEBUG - Registering handler for ListResourcesRequest
2025-06-12 14:01:37,737 - DEBUG - Registering handler for ReadResourceRequest
2025-06-12 14:01:37,737 - DEBUG - Registering handler for PromptListRequest
2025-06-12 14:01:37,737 - DEBUG - Registering handler for GetPromptRequest
2025-06-12 14:01:37,737 - DEBUG - Registering handler for ListResourceTemplatesRequest
2025-06-12 14:01:37,741 - INFO - Starting weather server
2025-06-12 14:01:37,747 - DEBUG - Using proactor: IocpProactor
2025-06-12 14:01:37,756 - DEBUG - Received message: root=InitializedNotification(method='notifications/initialized', params=None, jsonrpc='2.0')
2025-06-12 14:01:37,757 - DEBUG - Received message: <mcp.shared.session.RequestResponder object at 0x000001AD6B828D90>
2025-06-12 14:01:37,757 - INFO - Processing request of type ListToolsRequest
2025-06-12 14:01:37,757 - DEBUG - Dispatching request of type ListToolsRequest
2025-06-12 14:01:37,757 - DEBUG - Response sent
2025-06-12 14:01:39,816 - DEBUG - Received message: <mcp.shared.session.RequestResponder object at 0x000001AD6B8363D0>
2025-06-12 14:01:39,817 - INFO - Processing request of type ListToolsRequest
2025-06-12 14:01:39,817 - DEBUG - Dispatching request of type ListToolsRequest
2025-06-12 14:01:39,817 - DEBUG - Response sent
2025-06-12 14:01:49,901 - DEBUG - Received message: <mcp.shared.session.RequestResponder object at 0x000001AD6B89B2D0>
2025-06-12 14:01:49,902 - INFO - Processing request of type ListToolsRequest
2025-06-12 14:01:49,902 - DEBUG - Dispatching request of type ListToolsRequest
2025-06-12 14:01:49,903 - DEBUG - Response sent
2025-06-12 14:01:52,746 - DEBUG - Received message: <mcp.shared.session.RequestResponder object at 0x000001AD6B88BD10>
2025-06-12 14:01:52,747 - INFO - Processing request of type CallToolRequest
2025-06-12 14:01:52,747 - DEBUG - Dispatching request of type CallToolRequest
2025-06-12 14:01:52,747 - INFO - Getting forecast for coordinates: 37.8857, -122.118
2025-06-12 14:01:52,748 - DEBUG - Making NWS request to: https://api.weather.gov/points/37.8857,-122.118
2025-06-12 14:01:52,797 - DEBUG - connect_tcp.started host='api.weather.gov' port=443 local_address=None timeout=30.0 socket_options=None
2025-06-12 14:01:52,841 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x000001AD6B8535D0>
2025-06-12 14:01:52,843 - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x000001AD6B8DE2A0> server_hostname='api.weather.gov' timeout=30.0
2025-06-12 14:01:52,868 - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x000001AD6B813A90>
2025-06-12 14:01:52,868 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-06-12 14:01:52,869 - DEBUG - send_request_headers.complete
2025-06-12 14:01:52,869 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-06-12 14:01:52,869 - DEBUG - send_request_body.complete
2025-06-12 14:01:52,869 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-06-12 14:01:52,891 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Server', b'nginx/1.20.1'), (b'Content-Type', b'application/geo+json'), (b'X-Powered-By', b'PHP/8.0.30'), (b'Access-Control-Allow-Origin', b'*'), (b'Access-Control-Expose-Headers', b'X-Correlation-Id, X-Request-Id, X-Server-Id'), (b'X-Request-ID', b'86877d61-9a31-4699-b167-7a390bd1d578'), (b'X-Correlation-ID', b'562eb56'), (b'X-Server-ID', b'vm-lnx-nids-apiapp5.ncep.noaa.gov'), (b'Content-Encoding', b'gzip'), (b'Content-Length', b'803'), (b'Cache-Control', b'public, max-age=85612, s-maxage=120'), (b'Expires', b'Fri, 13 Jun 2025 20:48:44 GMT'), (b'Date', b'Thu, 12 Jun 2025 21:01:52 GMT'), (b'Connection', b'keep-alive'), (b'Vary', b'Accept-Encoding'), (b'X-Edge-Request-ID', b'1a255d38'), (b'Vary', b'Accept,Feature-Flags,Accept-Language'), (b'Strict-Transport-Security', b'max-age=31536000 ; includeSubDomains ; preload')])
2025-06-12 14:01:52,892 - INFO - HTTP Request: GET https://api.weather.gov/points/37.8857,-122.118 "HTTP/1.1 200 OK"
2025-06-12 14:01:52,892 - DEBUG - receive_response_body.started request=<Request [b'GET']>
2025-06-12 14:01:52,892 - DEBUG - receive_response_body.complete
2025-06-12 14:01:52,892 - DEBUG - response_closed.started
2025-06-12 14:01:52,892 - DEBUG - response_closed.complete
2025-06-12 14:01:52,893 - DEBUG - Successful response from NWS API: 200
2025-06-12 14:01:52,894 - DEBUG - close.started
2025-06-12 14:01:52,894 - DEBUG - close.complete
2025-06-12 14:01:52,894 - DEBUG - Making NWS request to: https://api.weather.gov/gridpoints/MTR/96,108/forecast
2025-06-12 14:01:52,906 - DEBUG - connect_tcp.started host='api.weather.gov' port=443 local_address=None timeout=30.0 socket_options=None
2025-06-12 14:01:52,923 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x000001AD6CCB5750>
2025-06-12 14:01:52,923 - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x000001AD6B8DE840> server_hostname='api.weather.gov' timeout=30.0
2025-06-12 14:01:52,954 - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x000001AD6CCB6390>
2025-06-12 14:01:52,954 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-06-12 14:01:52,955 - DEBUG - send_request_headers.complete
2025-06-12 14:01:52,955 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-06-12 14:01:52,955 - DEBUG - send_request_body.complete
2025-06-12 14:01:52,955 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-06-12 14:01:52,984 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Server', b'nginx/1.20.1'), (b'Content-Type', b'application/geo+json'), (b'X-Powered-By', b'PHP/8.0.30'), (b'Last-Modified', b'Thu, 12 Jun 2025 20:30:08 GMT'), (b'Access-Control-Allow-Origin', b'*'), (b'Access-Control-Expose-Headers', b'X-Correlation-Id, X-Request-Id, X-Server-Id'), (b'X-Request-ID', b'28dc6a9c-6f47-4d9d-add3-d4b0e14d43b8'), (b'X-Correlation-ID', b'1178b8e4'), (b'X-Server-ID', b'vm-lnx-nids-apiapp2.ncep.noaa.gov'), (b'Content-Encoding', b'gzip'), (b'Content-Length', b'1280'), (b'Cache-Control', b'public, max-age=746, s-maxage=3600'), (b'Expires', b'Thu, 12 Jun 2025 21:14:18 GMT'), (b'Date', b'Thu, 12 Jun 2025 21:01:52 GMT'), (b'Connection', b'keep-alive'), (b'Vary', b'Accept-Encoding'), (b'X-Edge-Request-ID', b'1e3944d3'), (b'Vary', b'Accept,Feature-Flags,Accept-Language'), (b'Strict-Transport-Security', b'max-age=31536000 ; includeSubDomains ; preload')])
2025-06-12 14:01:52,985 - INFO - HTTP Request: GET https://api.weather.gov/gridpoints/MTR/96,108/forecast "HTTP/1.1 200 OK"
2025-06-12 14:01:52,985 - DEBUG - receive_response_body.started request=<Request [b'GET']>
2025-06-12 14:01:52,985 - DEBUG - receive_response_body.complete
2025-06-12 14:01:52,985 - DEBUG - response_closed.started
2025-06-12 14:01:52,985 - DEBUG - response_closed.complete
2025-06-12 14:01:52,985 - DEBUG - Successful response from NWS API: 200
2025-06-12 14:01:52,986 - DEBUG - close.started
2025-06-12 14:01:52,986 - DEBUG - close.complete
2025-06-12 14:01:52,986 - DEBUG - Forecast data structure: dict_keys(['@context', 'type', 'geometry', 'properties'])
2025-06-12 14:01:52,986 - DEBUG - Forecast properties structure: dict_keys(['units', 'forecastGenerator', 'generatedAt', 'updateTime', 'validTimes', 'elevation', 'periods'])
2025-06-12 14:01:52,987 - INFO - Successfully retrieved forecast for coordinates: 37.8857, -122.118
2025-06-12 14:01:52,987 - DEBUG - Response sent
2025-06-12 14:01:52,990 - DEBUG - Received message: <mcp.shared.session.RequestResponder object at 0x000001AD6B828E50>
2025-06-12 14:01:52,990 - INFO - Processing request of type CallToolRequest
2025-06-12 14:01:52,990 - DEBUG - Dispatching request of type CallToolRequest
2025-06-12 14:01:52,990 - INFO - Getting outfit based on weather forecast
2025-06-12 14:01:53,005 - DEBUG - Request options: {'method': 'post', 'url': '/v1/messages', 'timeout': Timeout(connect=5.0, read=600, write=600, pool=600), 'files': None, 'idempotency_key': 'stainless-python-retry-27ca3fdb-5afa-4c37-ab9a-d7ba300919b0', 'json_data': {'max_tokens': 1000, 'messages': [{'role': 'user', 'content': "\n    Based on the following weather forecast, suggest an appropriate outfit:\n    \n    [TextContent(type='text', text='\\n            This Afternoon:\\n            Temperature: 73F\\n            Wind: 13 mph SW\\n            Forecast: Sunny. High near 73, with temperatures falling to around 71 in the afternoon. Southwest wind around 13 mph.\\n\\n---\\n\\n            Tonight:\\n            Temperature: 51F\\n            Wind: 14 mph SW\\n            Forecast: Mostly clear, with a low around 51. Southwest wind around 14 mph.\\n\\n---\\n\\n            Friday:\\n            Temperature: 74F\\n            Wind: 15 mph SW\\n            Forecast: Sunny, with a high near 74. Southwest wind around 15 mph, with gusts as high as 18 mph.\\n\\n---\\n\\n            Friday Night:\\n            Temperature: 51F\\n            Wind: 13 mph SW\\n            Forecast: Mostly clear, with a low around 51. Southwest wind around 13 mph.\\n\\n---\\n\\n            Saturday:\\n            Temperature: 76F\\n            Wind: 9 to 13 mph SW\\n            Forecast: Mostly sunny, with a high near 76. Southwest wind 9 to 13 mph.\\n', annotations=None)]\n    \n    Please provide specific clothing recommendations based on the temperature, wind conditions, and forecast.\n    "}], 'model': 'claude-3-5-sonnet-20241022'}}
2025-06-12 14:01:53,068 - DEBUG - Response sent
2025-06-12 14:03:20,843 - DEBUG - Initializing server 'weather'
2025-06-12 14:03:20,843 - DEBUG - Registering handler for ListToolsRequest
2025-06-12 14:03:20,843 - DEBUG - Registering handler for CallToolRequest
2025-06-12 14:03:20,843 - DEBUG - Registering handler for ListResourcesRequest
2025-06-12 14:03:20,843 - DEBUG - Registering handler for ReadResourceRequest
2025-06-12 14:03:20,843 - DEBUG - Registering handler for PromptListRequest
2025-06-12 14:03:20,844 - DEBUG - Registering handler for GetPromptRequest
2025-06-12 14:03:20,844 - DEBUG - Registering handler for ListResourceTemplatesRequest
2025-06-12 14:03:20,848 - INFO - Starting weather server
2025-06-12 14:03:20,853 - DEBUG - Using proactor: IocpProactor
2025-06-12 14:03:20,863 - DEBUG - Received message: root=InitializedNotification(method='notifications/initialized', params=None, jsonrpc='2.0')
2025-06-12 14:03:20,864 - DEBUG - Received message: <mcp.shared.session.RequestResponder object at 0x000001066CF613D0>
2025-06-12 14:03:20,864 - INFO - Processing request of type ListToolsRequest
2025-06-12 14:03:20,864 - DEBUG - Dispatching request of type ListToolsRequest
2025-06-12 14:03:20,864 - DEBUG - Response sent
2025-06-12 14:04:32,315 - DEBUG - Received message: <mcp.shared.session.RequestResponder object at 0x000001066CF68750>
2025-06-12 14:04:32,316 - INFO - Processing request of type ListToolsRequest
2025-06-12 14:04:32,316 - DEBUG - Dispatching request of type ListToolsRequest
2025-06-12 14:04:32,316 - DEBUG - Response sent
2025-06-12 14:04:34,777 - DEBUG - Received message: <mcp.shared.session.RequestResponder object at 0x000001066CF3E750>
2025-06-12 14:04:34,778 - INFO - Processing request of type CallToolRequest
2025-06-12 14:04:34,778 - DEBUG - Dispatching request of type CallToolRequest
2025-06-12 14:04:34,778 - INFO - Getting forecast for coordinates: 37.8857, -122.118
2025-06-12 14:04:34,779 - DEBUG - Making NWS request to: https://api.weather.gov/points/37.8857,-122.118
2025-06-12 14:04:34,827 - DEBUG - connect_tcp.started host='api.weather.gov' port=443 local_address=None timeout=30.0 socket_options=None
2025-06-12 14:04:34,876 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x000001066CFCB610>
2025-06-12 14:04:34,876 - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x000001066D016210> server_hostname='api.weather.gov' timeout=30.0
2025-06-12 14:04:34,908 - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x000001066CFC8E10>
2025-06-12 14:04:34,908 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-06-12 14:04:34,908 - DEBUG - send_request_headers.complete
2025-06-12 14:04:34,908 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-06-12 14:04:34,909 - DEBUG - send_request_body.complete
2025-06-12 14:04:34,909 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-06-12 14:04:34,943 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Server', b'nginx/1.20.1'), (b'Content-Type', b'application/geo+json'), (b'X-Powered-By', b'PHP/8.0.30'), (b'Access-Control-Allow-Origin', b'*'), (b'Access-Control-Expose-Headers', b'X-Correlation-Id, X-Request-Id, X-Server-Id'), (b'X-Request-ID', b'86877d61-9a31-4699-b167-7a390bd1d578'), (b'X-Correlation-ID', b'562eb56'), (b'X-Server-ID', b'vm-lnx-nids-apiapp5.ncep.noaa.gov'), (b'Content-Encoding', b'gzip'), (b'Content-Length', b'803'), (b'Cache-Control', b'public, max-age=85450, s-maxage=120'), (b'Expires', b'Fri, 13 Jun 2025 20:48:44 GMT'), (b'Date', b'Thu, 12 Jun 2025 21:04:34 GMT'), (b'Connection', b'keep-alive'), (b'Vary', b'Accept-Encoding'), (b'X-Edge-Request-ID', b'1a2dce39'), (b'Vary', b'Accept,Feature-Flags,Accept-Language'), (b'Strict-Transport-Security', b'max-age=31536000 ; includeSubDomains ; preload')])
2025-06-12 14:04:34,944 - INFO - HTTP Request: GET https://api.weather.gov/points/37.8857,-122.118 "HTTP/1.1 200 OK"
2025-06-12 14:04:34,944 - DEBUG - receive_response_body.started request=<Request [b'GET']>
2025-06-12 14:04:34,944 - DEBUG - receive_response_body.complete
2025-06-12 14:04:34,944 - DEBUG - response_closed.started
2025-06-12 14:04:34,944 - DEBUG - response_closed.complete
2025-06-12 14:04:34,944 - DEBUG - Successful response from NWS API: 200
2025-06-12 14:04:34,945 - DEBUG - close.started
2025-06-12 14:04:34,945 - DEBUG - close.complete
2025-06-12 14:04:34,945 - DEBUG - Making NWS request to: https://api.weather.gov/gridpoints/MTR/96,108/forecast
2025-06-12 14:04:34,957 - DEBUG - connect_tcp.started host='api.weather.gov' port=443 local_address=None timeout=30.0 socket_options=None
2025-06-12 14:04:34,975 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x000001066E3E6E10>
2025-06-12 14:04:34,975 - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x000001066D016960> server_hostname='api.weather.gov' timeout=30.0
2025-06-12 14:04:35,006 - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x000001066E3E6F10>
2025-06-12 14:04:35,006 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-06-12 14:04:35,007 - DEBUG - send_request_headers.complete
2025-06-12 14:04:35,007 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-06-12 14:04:35,007 - DEBUG - send_request_body.complete
2025-06-12 14:04:35,007 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-06-12 14:04:35,034 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Server', b'nginx/1.20.1'), (b'Content-Type', b'application/geo+json'), (b'X-Powered-By', b'PHP/8.0.30'), (b'Last-Modified', b'Thu, 12 Jun 2025 20:30:08 GMT'), (b'Access-Control-Allow-Origin', b'*'), (b'Access-Control-Expose-Headers', b'X-Correlation-Id, X-Request-Id, X-Server-Id'), (b'X-Request-ID', b'28dc6a9c-6f47-4d9d-add3-d4b0e14d43b8'), (b'X-Correlation-ID', b'1178b8e4'), (b'X-Server-ID', b'vm-lnx-nids-apiapp2.ncep.noaa.gov'), (b'Content-Encoding', b'gzip'), (b'Content-Length', b'1280'), (b'Cache-Control', b'public, max-age=584, s-maxage=3600'), (b'Expires', b'Thu, 12 Jun 2025 21:14:18 GMT'), (b'Date', b'Thu, 12 Jun 2025 21:04:34 GMT'), (b'Connection', b'keep-alive'), (b'Vary', b'Accept-Encoding'), (b'X-Edge-Request-ID', b'1e3e1737'), (b'Vary', b'Accept,Feature-Flags,Accept-Language'), (b'Strict-Transport-Security', b'max-age=31536000 ; includeSubDomains ; preload')])
2025-06-12 14:04:35,034 - INFO - HTTP Request: GET https://api.weather.gov/gridpoints/MTR/96,108/forecast "HTTP/1.1 200 OK"
2025-06-12 14:04:35,034 - DEBUG - receive_response_body.started request=<Request [b'GET']>
2025-06-12 14:04:35,034 - DEBUG - receive_response_body.complete
2025-06-12 14:04:35,034 - DEBUG - response_closed.started
2025-06-12 14:04:35,034 - DEBUG - response_closed.complete
2025-06-12 14:04:35,035 - DEBUG - Successful response from NWS API: 200
2025-06-12 14:04:35,035 - DEBUG - close.started
2025-06-12 14:04:35,035 - DEBUG - close.complete
2025-06-12 14:04:35,036 - DEBUG - Forecast data structure: dict_keys(['@context', 'type', 'geometry', 'properties'])
2025-06-12 14:04:35,036 - DEBUG - Forecast properties structure: dict_keys(['units', 'forecastGenerator', 'generatedAt', 'updateTime', 'validTimes', 'elevation', 'periods'])
2025-06-12 14:04:35,036 - INFO - Successfully retrieved forecast for coordinates: 37.8857, -122.118
2025-06-12 14:04:35,036 - DEBUG - Response sent
2025-06-12 14:04:35,039 - DEBUG - Received message: <mcp.shared.session.RequestResponder object at 0x000001066CFC9F50>
2025-06-12 14:04:35,039 - INFO - Processing request of type CallToolRequest
2025-06-12 14:04:35,040 - DEBUG - Dispatching request of type CallToolRequest
2025-06-12 14:04:35,040 - DEBUG - Response sent
2025-06-12 14:06:08,330 - DEBUG - Initializing server 'weather'
2025-06-12 14:06:08,330 - DEBUG - Registering handler for ListToolsRequest
2025-06-12 14:06:08,330 - DEBUG - Registering handler for CallToolRequest
2025-06-12 14:06:08,330 - DEBUG - Registering handler for ListResourcesRequest
2025-06-12 14:06:08,330 - DEBUG - Registering handler for ReadResourceRequest
2025-06-12 14:06:08,330 - DEBUG - Registering handler for PromptListRequest
2025-06-12 14:06:08,330 - DEBUG - Registering handler for GetPromptRequest
2025-06-12 14:06:08,330 - DEBUG - Registering handler for ListResourceTemplatesRequest
2025-06-12 14:06:08,334 - INFO - Starting weather server
2025-06-12 14:06:08,341 - DEBUG - Using proactor: IocpProactor
2025-06-12 14:06:08,351 - DEBUG - Received message: root=InitializedNotification(method='notifications/initialized', params=None, jsonrpc='2.0')
2025-06-12 14:06:08,352 - DEBUG - Received message: <mcp.shared.session.RequestResponder object at 0x000001DD58F26750>
2025-06-12 14:06:08,352 - INFO - Processing request of type ListToolsRequest
2025-06-12 14:06:08,352 - DEBUG - Dispatching request of type ListToolsRequest
2025-06-12 14:06:08,353 - DEBUG - Response sent
2025-06-12 14:06:10,438 - DEBUG - Received message: <mcp.shared.session.RequestResponder object at 0x000001DD5961A510>
2025-06-12 14:06:10,439 - INFO - Processing request of type ListToolsRequest
2025-06-12 14:06:10,439 - DEBUG - Dispatching request of type ListToolsRequest
2025-06-12 14:06:10,439 - DEBUG - Response sent
2025-06-12 14:06:21,139 - DEBUG - Received message: <mcp.shared.session.RequestResponder object at 0x000001DD595C1A50>
2025-06-12 14:06:21,139 - INFO - Processing request of type ListToolsRequest
2025-06-12 14:06:21,139 - DEBUG - Dispatching request of type ListToolsRequest
2025-06-12 14:06:21,140 - DEBUG - Response sent
2025-06-12 14:06:24,670 - DEBUG - Received message: <mcp.shared.session.RequestResponder object at 0x000001DD5961A510>
2025-06-12 14:06:24,671 - INFO - Processing request of type CallToolRequest
2025-06-12 14:06:24,671 - DEBUG - Dispatching request of type CallToolRequest
2025-06-12 14:06:24,671 - INFO - Getting forecast for coordinates: 37.8857, -122.118
2025-06-12 14:06:24,671 - DEBUG - Making NWS request to: https://api.weather.gov/points/37.8857,-122.118
2025-06-12 14:06:24,720 - DEBUG - connect_tcp.started host='api.weather.gov' port=443 local_address=None timeout=30.0 socket_options=None
2025-06-12 14:06:24,766 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x000001DD59629950>
2025-06-12 14:06:24,766 - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x000001DD59676210> server_hostname='api.weather.gov' timeout=30.0
2025-06-12 14:06:24,813 - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x000001DD595C9D10>
2025-06-12 14:06:24,814 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-06-12 14:06:24,814 - DEBUG - send_request_headers.complete
2025-06-12 14:06:24,814 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-06-12 14:06:24,814 - DEBUG - send_request_body.complete
2025-06-12 14:06:24,814 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-06-12 14:06:24,855 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Server', b'nginx/1.20.1'), (b'Content-Type', b'application/geo+json'), (b'X-Powered-By', b'PHP/8.0.30'), (b'Access-Control-Allow-Origin', b'*'), (b'Access-Control-Expose-Headers', b'X-Correlation-Id, X-Request-Id, X-Server-Id'), (b'X-Request-ID', b'86877d61-9a31-4699-b167-7a390bd1d578'), (b'X-Correlation-ID', b'562eb56'), (b'X-Server-ID', b'vm-lnx-nids-apiapp5.ncep.noaa.gov'), (b'Content-Encoding', b'gzip'), (b'Content-Length', b'803'), (b'Cache-Control', b'public, max-age=85340, s-maxage=120'), (b'Expires', b'Fri, 13 Jun 2025 20:48:44 GMT'), (b'Date', b'Thu, 12 Jun 2025 21:06:24 GMT'), (b'Connection', b'keep-alive'), (b'Vary', b'Accept-Encoding'), (b'X-Edge-Request-ID', b'1e418f78'), (b'Vary', b'Accept,Feature-Flags,Accept-Language'), (b'Strict-Transport-Security', b'max-age=31536000 ; includeSubDomains ; preload')])
2025-06-12 14:06:24,856 - INFO - HTTP Request: GET https://api.weather.gov/points/37.8857,-122.118 "HTTP/1.1 200 OK"
2025-06-12 14:06:24,856 - DEBUG - receive_response_body.started request=<Request [b'GET']>
2025-06-12 14:06:24,856 - DEBUG - receive_response_body.complete
2025-06-12 14:06:24,856 - DEBUG - response_closed.started
2025-06-12 14:06:24,856 - DEBUG - response_closed.complete
2025-06-12 14:06:24,857 - DEBUG - Successful response from NWS API: 200
2025-06-12 14:06:24,857 - DEBUG - close.started
2025-06-12 14:06:24,857 - DEBUG - close.complete
2025-06-12 14:06:24,857 - DEBUG - Making NWS request to: https://api.weather.gov/gridpoints/MTR/96,108/forecast
2025-06-12 14:06:24,869 - DEBUG - connect_tcp.started host='api.weather.gov' port=443 local_address=None timeout=30.0 socket_options=None
2025-06-12 14:06:24,888 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x000001DD5AA43290>
2025-06-12 14:06:24,888 - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x000001DD596767B0> server_hostname='api.weather.gov' timeout=30.0
2025-06-12 14:06:24,917 - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x000001DD5AA432D0>
2025-06-12 14:06:24,917 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-06-12 14:06:24,918 - DEBUG - send_request_headers.complete
2025-06-12 14:06:24,918 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-06-12 14:06:24,918 - DEBUG - send_request_body.complete
2025-06-12 14:06:24,918 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-06-12 14:06:24,967 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Server', b'nginx/1.20.1'), (b'Content-Type', b'application/geo+json'), (b'X-Powered-By', b'PHP/8.0.30'), (b'Last-Modified', b'Thu, 12 Jun 2025 20:30:08 GMT'), (b'Access-Control-Allow-Origin', b'*'), (b'Access-Control-Expose-Headers', b'X-Correlation-Id, X-Request-Id, X-Server-Id'), (b'X-Request-ID', b'28dc6a9c-6f47-4d9d-add3-d4b0e14d43b8'), (b'X-Correlation-ID', b'1178b8e4'), (b'X-Server-ID', b'vm-lnx-nids-apiapp2.ncep.noaa.gov'), (b'Content-Encoding', b'gzip'), (b'Content-Length', b'1280'), (b'Cache-Control', b'public, max-age=474, s-maxage=3600'), (b'Expires', b'Thu, 12 Jun 2025 21:14:18 GMT'), (b'Date', b'Thu, 12 Jun 2025 21:06:24 GMT'), (b'Connection', b'keep-alive'), (b'Vary', b'Accept-Encoding'), (b'X-Edge-Request-ID', b'1e41904a'), (b'Vary', b'Accept,Feature-Flags,Accept-Language'), (b'Strict-Transport-Security', b'max-age=31536000 ; includeSubDomains ; preload')])
2025-06-12 14:06:24,967 - INFO - HTTP Request: GET https://api.weather.gov/gridpoints/MTR/96,108/forecast "HTTP/1.1 200 OK"
2025-06-12 14:06:24,967 - DEBUG - receive_response_body.started request=<Request [b'GET']>
2025-06-12 14:06:24,968 - DEBUG - receive_response_body.complete
2025-06-12 14:06:24,968 - DEBUG - response_closed.started
2025-06-12 14:06:24,968 - DEBUG - response_closed.complete
2025-06-12 14:06:24,968 - DEBUG - Successful response from NWS API: 200
2025-06-12 14:06:24,968 - DEBUG - close.started
2025-06-12 14:06:24,969 - DEBUG - close.complete
2025-06-12 14:06:24,969 - DEBUG - Forecast data structure: dict_keys(['@context', 'type', 'geometry', 'properties'])
2025-06-12 14:06:24,969 - DEBUG - Forecast properties structure: dict_keys(['units', 'forecastGenerator', 'generatedAt', 'updateTime', 'validTimes', 'elevation', 'periods'])
2025-06-12 14:06:24,969 - INFO - Successfully retrieved forecast for coordinates: 37.8857, -122.118
2025-06-12 14:06:24,970 - DEBUG - Response sent
2025-06-12 14:08:06,280 - DEBUG - Initializing server 'weather'
2025-06-12 14:08:06,280 - DEBUG - Registering handler for ListToolsRequest
2025-06-12 14:08:06,280 - DEBUG - Registering handler for CallToolRequest
2025-06-12 14:08:06,280 - DEBUG - Registering handler for ListResourcesRequest
2025-06-12 14:08:06,280 - DEBUG - Registering handler for ReadResourceRequest
2025-06-12 14:08:06,281 - DEBUG - Registering handler for PromptListRequest
2025-06-12 14:08:06,281 - DEBUG - Registering handler for GetPromptRequest
2025-06-12 14:08:06,281 - DEBUG - Registering handler for ListResourceTemplatesRequest
2025-06-12 14:08:06,284 - INFO - Starting weather server
2025-06-12 14:08:06,290 - DEBUG - Using proactor: IocpProactor
2025-06-12 14:08:06,298 - DEBUG - Received message: root=InitializedNotification(method='notifications/initialized', params=None, jsonrpc='2.0')
2025-06-12 14:08:06,299 - DEBUG - Received message: <mcp.shared.session.RequestResponder object at 0x0000020176B86990>
2025-06-12 14:08:06,299 - INFO - Processing request of type ListToolsRequest
2025-06-12 14:08:06,299 - DEBUG - Dispatching request of type ListToolsRequest
2025-06-12 14:08:06,300 - DEBUG - Response sent
2025-06-12 14:08:08,450 - DEBUG - Received message: <mcp.shared.session.RequestResponder object at 0x0000020176B86BD0>
2025-06-12 14:08:08,450 - INFO - Processing request of type ListToolsRequest
2025-06-12 14:08:08,450 - DEBUG - Dispatching request of type ListToolsRequest
2025-06-12 14:08:08,451 - DEBUG - Response sent
2025-06-12 14:08:22,648 - DEBUG - Received message: <mcp.shared.session.RequestResponder object at 0x0000020176B9B250>
2025-06-12 14:08:22,648 - INFO - Processing request of type ListToolsRequest
2025-06-12 14:08:22,648 - DEBUG - Dispatching request of type ListToolsRequest
2025-06-12 14:08:22,649 - DEBUG - Response sent
2025-06-12 14:08:24,874 - DEBUG - Received message: <mcp.shared.session.RequestResponder object at 0x0000020176B86BD0>
2025-06-12 14:08:24,874 - INFO - Processing request of type CallToolRequest
2025-06-12 14:08:24,874 - DEBUG - Dispatching request of type CallToolRequest
2025-06-12 14:08:24,875 - INFO - Getting forecast for coordinates: 37.8857, -122.118
2025-06-12 14:08:24,875 - DEBUG - Making NWS request to: https://api.weather.gov/points/37.8857,-122.118
2025-06-12 14:08:24,922 - DEBUG - connect_tcp.started host='api.weather.gov' port=443 local_address=None timeout=30.0 socket_options=None
2025-06-12 14:08:24,974 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x0000020176CB4750>
2025-06-12 14:08:24,974 - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x0000020176C422A0> server_hostname='api.weather.gov' timeout=30.0
2025-06-12 14:08:24,995 - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x0000020176BEB450>
2025-06-12 14:08:24,996 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-06-12 14:08:24,996 - DEBUG - send_request_headers.complete
2025-06-12 14:08:24,996 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-06-12 14:08:24,996 - DEBUG - send_request_body.complete
2025-06-12 14:08:24,996 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-06-12 14:08:25,023 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Server', b'nginx/1.20.1'), (b'Content-Type', b'application/geo+json'), (b'X-Powered-By', b'PHP/8.0.30'), (b'Access-Control-Allow-Origin', b'*'), (b'Access-Control-Expose-Headers', b'X-Correlation-Id, X-Request-Id, X-Server-Id'), (b'X-Request-ID', b'86877d61-9a31-4699-b167-7a390bd1d578'), (b'X-Correlation-ID', b'562eb56'), (b'X-Server-ID', b'vm-lnx-nids-apiapp5.ncep.noaa.gov'), (b'Content-Encoding', b'gzip'), (b'Content-Length', b'803'), (b'Cache-Control', b'public, max-age=85220, s-maxage=120'), (b'Expires', b'Fri, 13 Jun 2025 20:48:44 GMT'), (b'Date', b'Thu, 12 Jun 2025 21:08:24 GMT'), (b'Connection', b'keep-alive'), (b'Vary', b'Accept-Encoding'), (b'X-Edge-Request-ID', b'1a3b69e6'), (b'Vary', b'Accept,Feature-Flags,Accept-Language'), (b'Strict-Transport-Security', b'max-age=31536000 ; includeSubDomains ; preload')])
2025-06-12 14:08:25,023 - INFO - HTTP Request: GET https://api.weather.gov/points/37.8857,-122.118 "HTTP/1.1 200 OK"
2025-06-12 14:08:25,024 - DEBUG - receive_response_body.started request=<Request [b'GET']>
2025-06-12 14:08:25,024 - DEBUG - receive_response_body.complete
2025-06-12 14:08:25,024 - DEBUG - response_closed.started
2025-06-12 14:08:25,024 - DEBUG - response_closed.complete
2025-06-12 14:08:25,024 - DEBUG - Successful response from NWS API: 200
2025-06-12 14:08:25,025 - DEBUG - close.started
2025-06-12 14:08:25,025 - DEBUG - close.complete
2025-06-12 14:08:25,025 - DEBUG - Making NWS request to: https://api.weather.gov/gridpoints/MTR/96,108/forecast
2025-06-12 14:08:25,037 - DEBUG - connect_tcp.started host='api.weather.gov' port=443 local_address=None timeout=30.0 socket_options=None
2025-06-12 14:08:25,058 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x00000201780163D0>
2025-06-12 14:08:25,058 - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x0000020176C42840> server_hostname='api.weather.gov' timeout=30.0
2025-06-12 14:08:25,088 - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x00000201780164D0>
2025-06-12 14:08:25,088 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-06-12 14:08:25,088 - DEBUG - send_request_headers.complete
2025-06-12 14:08:25,089 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-06-12 14:08:25,089 - DEBUG - send_request_body.complete
2025-06-12 14:08:25,089 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-06-12 14:08:25,113 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Server', b'nginx/1.20.1'), (b'Content-Type', b'application/geo+json'), (b'X-Powered-By', b'PHP/8.0.30'), (b'Last-Modified', b'Thu, 12 Jun 2025 20:30:08 GMT'), (b'Access-Control-Allow-Origin', b'*'), (b'Access-Control-Expose-Headers', b'X-Correlation-Id, X-Request-Id, X-Server-Id'), (b'X-Request-ID', b'28dc6a9c-6f47-4d9d-add3-d4b0e14d43b8'), (b'X-Correlation-ID', b'1178b8e4'), (b'X-Server-ID', b'vm-lnx-nids-apiapp2.ncep.noaa.gov'), (b'Content-Encoding', b'gzip'), (b'Content-Length', b'1280'), (b'Cache-Control', b'public, max-age=354, s-maxage=3600'), (b'Expires', b'Thu, 12 Jun 2025 21:14:18 GMT'), (b'Date', b'Thu, 12 Jun 2025 21:08:24 GMT'), (b'Connection', b'keep-alive'), (b'Vary', b'Accept-Encoding'), (b'X-Edge-Request-ID', b'1e455c1b'), (b'Vary', b'Accept,Feature-Flags,Accept-Language'), (b'Strict-Transport-Security', b'max-age=31536000 ; includeSubDomains ; preload')])
2025-06-12 14:08:25,114 - INFO - HTTP Request: GET https://api.weather.gov/gridpoints/MTR/96,108/forecast "HTTP/1.1 200 OK"
2025-06-12 14:08:25,114 - DEBUG - receive_response_body.started request=<Request [b'GET']>
2025-06-12 14:08:25,115 - DEBUG - receive_response_body.complete
2025-06-12 14:08:25,115 - DEBUG - response_closed.started
2025-06-12 14:08:25,115 - DEBUG - response_closed.complete
2025-06-12 14:08:25,115 - DEBUG - Successful response from NWS API: 200
2025-06-12 14:08:25,115 - DEBUG - close.started
2025-06-12 14:08:25,116 - DEBUG - close.complete
2025-06-12 14:08:25,116 - DEBUG - Forecast data structure: dict_keys(['@context', 'type', 'geometry', 'properties'])
2025-06-12 14:08:25,116 - DEBUG - Forecast properties structure: dict_keys(['units', 'forecastGenerator', 'generatedAt', 'updateTime', 'validTimes', 'elevation', 'periods'])
2025-06-12 14:08:25,116 - INFO - Successfully retrieved forecast for coordinates: 37.8857, -122.118
2025-06-12 14:08:25,117 - DEBUG - Response sent
2025-06-12 14:08:25,120 - DEBUG - Received message: <mcp.shared.session.RequestResponder object at 0x0000020176BF9DD0>
2025-06-12 14:08:25,120 - INFO - Processing request of type CallToolRequest
2025-06-12 14:08:25,120 - DEBUG - Dispatching request of type CallToolRequest
2025-06-12 14:08:25,121 - INFO - Getting outfit based on weather forecast
2025-06-12 14:08:25,133 - DEBUG - Request options: {'method': 'post', 'url': '/v1/messages', 'timeout': Timeout(connect=5.0, read=600, write=600, pool=600), 'files': None, 'idempotency_key': 'stainless-python-retry-cf509bdf-5ff1-4a2a-aca7-33d2053985e2', 'json_data': {'max_tokens': 1000, 'messages': [{'role': 'user', 'content': "\n    Based on the following weather forecast, suggest an appropriate outfit:\n    \n    [TextContent(type='text', text='\\n            This Afternoon:\\n            Temperature: 73F\\n            Wind: 13 mph SW\\n            Forecast: Sunny. High near 73, with temperatures falling to around 71 in the afternoon. Southwest wind around 13 mph.\\n\\n---\\n\\n            Tonight:\\n            Temperature: 51F\\n            Wind: 14 mph SW\\n            Forecast: Mostly clear, with a low around 51. Southwest wind around 14 mph.\\n\\n---\\n\\n            Friday:\\n            Temperature: 74F\\n            Wind: 15 mph SW\\n            Forecast: Sunny, with a high near 74. Southwest wind around 15 mph, with gusts as high as 18 mph.\\n\\n---\\n\\n            Friday Night:\\n            Temperature: 51F\\n            Wind: 13 mph SW\\n            Forecast: Mostly clear, with a low around 51. Southwest wind around 13 mph.\\n\\n---\\n\\n            Saturday:\\n            Temperature: 76F\\n            Wind: 9 to 13 mph SW\\n            Forecast: Mostly sunny, with a high near 76. Southwest wind 9 to 13 mph.\\n', annotations=None)]\n    \n    Please provide specific clothing recommendations based on the temperature, wind conditions, and forecast.\n    "}], 'model': 'claude-3-5-sonnet-20241022'}}
2025-06-12 14:08:25,203 - ERROR - Error getting outfit recommendations: "Could not resolve authentication method. Expected either api_key or auth_token to be set. Or for one of the `X-Api-Key` or `Authorization` headers to be explicitly omitted"
Traceback (most recent call last):
  File "C:\Software-Projects\mcp-tutorial\weather\weather.py", line 113, in get_outfit
    response = client.messages.create(
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Software-Projects\mcp-tutorial\client\mcp-client\.venv\Lib\site-packages\anthropic\_utils\_utils.py", line 283, in wrapper
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Software-Projects\mcp-tutorial\client\mcp-client\.venv\Lib\site-packages\anthropic\resources\messages\messages.py", line 978, in create
    return self._post(
           ^^^^^^^^^^^
  File "C:\Software-Projects\mcp-tutorial\client\mcp-client\.venv\Lib\site-packages\anthropic\_base_client.py", line 1293, in post
    return cast(ResponseT, self.request(cast_to, opts, stream=stream, stream_cls=stream_cls))
                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Software-Projects\mcp-tutorial\client\mcp-client\.venv\Lib\site-packages\anthropic\_base_client.py", line 1009, in request
    request = self._build_request(options, retries_taken=retries_taken)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Software-Projects\mcp-tutorial\client\mcp-client\.venv\Lib\site-packages\anthropic\_base_client.py", line 505, in _build_request
    headers = self._build_headers(options, retries_taken=retries_taken)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Software-Projects\mcp-tutorial\client\mcp-client\.venv\Lib\site-packages\anthropic\_base_client.py", line 446, in _build_headers
    self._validate_headers(headers_dict, custom_headers)
  File "C:\Software-Projects\mcp-tutorial\client\mcp-client\.venv\Lib\site-packages\anthropic\_client.py", line 196, in _validate_headers
    raise TypeError(
TypeError: "Could not resolve authentication method. Expected either api_key or auth_token to be set. Or for one of the `X-Api-Key` or `Authorization` headers to be explicitly omitted"
2025-06-12 14:08:25,231 - DEBUG - Response sent
2025-06-12 14:10:03,521 - DEBUG - Initializing server 'weather'
2025-06-12 14:10:03,522 - DEBUG - Registering handler for ListToolsRequest
2025-06-12 14:10:03,522 - DEBUG - Registering handler for CallToolRequest
2025-06-12 14:10:03,522 - DEBUG - Registering handler for ListResourcesRequest
2025-06-12 14:10:03,522 - DEBUG - Registering handler for ReadResourceRequest
2025-06-12 14:10:03,522 - DEBUG - Registering handler for PromptListRequest
2025-06-12 14:10:03,522 - DEBUG - Registering handler for GetPromptRequest
2025-06-12 14:10:03,522 - DEBUG - Registering handler for ListResourceTemplatesRequest
2025-06-12 14:10:03,526 - INFO - Starting weather server
2025-06-12 14:10:03,532 - DEBUG - Using proactor: IocpProactor
2025-06-12 14:10:03,541 - DEBUG - Received message: root=InitializedNotification(method='notifications/initialized', params=None, jsonrpc='2.0')
2025-06-12 14:10:03,542 - DEBUG - Received message: <mcp.shared.session.RequestResponder object at 0x0000015DA216BB90>
2025-06-12 14:10:03,542 - INFO - Processing request of type ListToolsRequest
2025-06-12 14:10:03,542 - DEBUG - Dispatching request of type ListToolsRequest
2025-06-12 14:10:03,542 - DEBUG - Response sent
2025-06-12 14:10:10,065 - DEBUG - Received message: <mcp.shared.session.RequestResponder object at 0x0000015DA2104590>
2025-06-12 14:10:10,066 - INFO - Processing request of type ListToolsRequest
2025-06-12 14:10:10,066 - DEBUG - Dispatching request of type ListToolsRequest
2025-06-12 14:10:10,066 - DEBUG - Response sent
2025-06-12 14:10:13,954 - DEBUG - Received message: <mcp.shared.session.RequestResponder object at 0x0000015DA08A8410>
2025-06-12 14:10:13,955 - INFO - Processing request of type CallToolRequest
2025-06-12 14:10:13,955 - DEBUG - Dispatching request of type CallToolRequest
2025-06-12 14:10:13,955 - INFO - Getting forecast for coordinates: 37.8857, -122.118
2025-06-12 14:10:13,956 - DEBUG - Making NWS request to: https://api.weather.gov/points/37.8857,-122.118
2025-06-12 14:10:14,012 - DEBUG - connect_tcp.started host='api.weather.gov' port=443 local_address=None timeout=30.0 socket_options=None
2025-06-12 14:10:14,059 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x0000015DA20EF190>
2025-06-12 14:10:14,059 - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x0000015DA21C2210> server_hostname='api.weather.gov' timeout=30.0
2025-06-12 14:10:14,090 - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x0000015DA20EFD10>
2025-06-12 14:10:14,090 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-06-12 14:10:14,091 - DEBUG - send_request_headers.complete
2025-06-12 14:10:14,091 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-06-12 14:10:14,091 - DEBUG - send_request_body.complete
2025-06-12 14:10:14,091 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-06-12 14:10:14,126 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Server', b'nginx/1.20.1'), (b'Content-Type', b'application/geo+json'), (b'X-Powered-By', b'PHP/8.0.30'), (b'Access-Control-Allow-Origin', b'*'), (b'Access-Control-Expose-Headers', b'X-Correlation-Id, X-Request-Id, X-Server-Id'), (b'X-Request-ID', b'86877d61-9a31-4699-b167-7a390bd1d578'), (b'X-Correlation-ID', b'562eb56'), (b'X-Server-ID', b'vm-lnx-nids-apiapp5.ncep.noaa.gov'), (b'Content-Encoding', b'gzip'), (b'Content-Length', b'803'), (b'Cache-Control', b'public, max-age=85111, s-maxage=120'), (b'Expires', b'Fri, 13 Jun 2025 20:48:44 GMT'), (b'Date', b'Thu, 12 Jun 2025 21:10:13 GMT'), (b'Connection', b'keep-alive'), (b'Vary', b'Accept-Encoding'), (b'X-Edge-Request-ID', b'1a4209e9'), (b'Vary', b'Accept,Feature-Flags,Accept-Language'), (b'Strict-Transport-Security', b'max-age=31536000 ; includeSubDomains ; preload')])
2025-06-12 14:10:14,126 - INFO - HTTP Request: GET https://api.weather.gov/points/37.8857,-122.118 "HTTP/1.1 200 OK"
2025-06-12 14:10:14,126 - DEBUG - receive_response_body.started request=<Request [b'GET']>
2025-06-12 14:10:14,127 - DEBUG - receive_response_body.complete
2025-06-12 14:10:14,127 - DEBUG - response_closed.started
2025-06-12 14:10:14,127 - DEBUG - response_closed.complete
2025-06-12 14:10:14,127 - DEBUG - Successful response from NWS API: 200
2025-06-12 14:10:14,127 - DEBUG - close.started
2025-06-12 14:10:14,128 - DEBUG - close.complete
2025-06-12 14:10:14,128 - DEBUG - Making NWS request to: https://api.weather.gov/gridpoints/MTR/96,108/forecast
2025-06-12 14:10:14,140 - DEBUG - connect_tcp.started host='api.weather.gov' port=443 local_address=None timeout=30.0 socket_options=None
2025-06-12 14:10:14,157 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x0000015DA3596290>
2025-06-12 14:10:14,157 - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x0000015DA21C2570> server_hostname='api.weather.gov' timeout=30.0
2025-06-12 14:10:14,183 - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x0000015DA3596390>
2025-06-12 14:10:14,184 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-06-12 14:10:14,184 - DEBUG - send_request_headers.complete
2025-06-12 14:10:14,184 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-06-12 14:10:14,184 - DEBUG - send_request_body.complete
2025-06-12 14:10:14,184 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-06-12 14:10:14,220 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Server', b'nginx/1.20.1'), (b'Content-Type', b'application/geo+json'), (b'X-Powered-By', b'PHP/8.0.30'), (b'Last-Modified', b'Thu, 12 Jun 2025 20:30:08 GMT'), (b'Access-Control-Allow-Origin', b'*'), (b'Access-Control-Expose-Headers', b'X-Correlation-Id, X-Request-Id, X-Server-Id'), (b'X-Request-ID', b'28dc6a9c-6f47-4d9d-add3-d4b0e14d43b8'), (b'X-Correlation-ID', b'1178b8e4'), (b'X-Server-ID', b'vm-lnx-nids-apiapp2.ncep.noaa.gov'), (b'Content-Encoding', b'gzip'), (b'Content-Length', b'1280'), (b'Cache-Control', b'public, max-age=245, s-maxage=3600'), (b'Expires', b'Thu, 12 Jun 2025 21:14:18 GMT'), (b'Date', b'Thu, 12 Jun 2025 21:10:13 GMT'), (b'Connection', b'keep-alive'), (b'Vary', b'Accept-Encoding'), (b'X-Edge-Request-ID', b'1e4900ae'), (b'Vary', b'Accept,Feature-Flags,Accept-Language'), (b'Strict-Transport-Security', b'max-age=31536000 ; includeSubDomains ; preload')])
2025-06-12 14:10:14,220 - INFO - HTTP Request: GET https://api.weather.gov/gridpoints/MTR/96,108/forecast "HTTP/1.1 200 OK"
2025-06-12 14:10:14,221 - DEBUG - receive_response_body.started request=<Request [b'GET']>
2025-06-12 14:10:14,221 - DEBUG - receive_response_body.complete
2025-06-12 14:10:14,221 - DEBUG - response_closed.started
2025-06-12 14:10:14,221 - DEBUG - response_closed.complete
2025-06-12 14:10:14,221 - DEBUG - Successful response from NWS API: 200
2025-06-12 14:10:14,222 - DEBUG - close.started
2025-06-12 14:10:14,222 - DEBUG - close.complete
2025-06-12 14:10:14,222 - DEBUG - Forecast data structure: dict_keys(['@context', 'type', 'geometry', 'properties'])
2025-06-12 14:10:14,223 - DEBUG - Forecast properties structure: dict_keys(['units', 'forecastGenerator', 'generatedAt', 'updateTime', 'validTimes', 'elevation', 'periods'])
2025-06-12 14:10:14,225 - INFO - Successfully retrieved forecast for coordinates: 37.8857, -122.118
2025-06-12 14:10:14,225 - DEBUG - Response sent
2025-06-12 14:10:14,229 - DEBUG - Received message: <mcp.shared.session.RequestResponder object at 0x0000015DA2184190>
2025-06-12 14:10:14,229 - INFO - Processing request of type CallToolRequest
2025-06-12 14:10:14,229 - DEBUG - Dispatching request of type CallToolRequest
2025-06-12 14:10:14,229 - INFO - Getting outfit based on weather forecast
2025-06-12 14:10:14,229 - ERROR - ANTHROPIC_API_KEY not found in environment variables
2025-06-12 14:10:14,230 - DEBUG - Response sent
2025-06-12 14:11:49,609 - DEBUG - Looking for .env file at: C:\Software-Projects\mcp-tutorial\.env
2025-06-12 14:11:49,609 - WARNING - .env file not found at C:\Software-Projects\mcp-tutorial\.env
2025-06-12 14:11:49,613 - DEBUG - Initializing server 'weather'
2025-06-12 14:11:49,613 - DEBUG - Registering handler for ListToolsRequest
2025-06-12 14:11:49,613 - DEBUG - Registering handler for CallToolRequest
2025-06-12 14:11:49,613 - DEBUG - Registering handler for ListResourcesRequest
2025-06-12 14:11:49,613 - DEBUG - Registering handler for ReadResourceRequest
2025-06-12 14:11:49,613 - DEBUG - Registering handler for PromptListRequest
2025-06-12 14:11:49,613 - DEBUG - Registering handler for GetPromptRequest
2025-06-12 14:11:49,614 - DEBUG - Registering handler for ListResourceTemplatesRequest
2025-06-12 14:11:49,617 - INFO - Starting weather server
2025-06-12 14:11:49,623 - DEBUG - Using proactor: IocpProactor
2025-06-12 14:11:49,631 - DEBUG - Received message: root=InitializedNotification(method='notifications/initialized', params=None, jsonrpc='2.0')
2025-06-12 14:11:49,632 - DEBUG - Received message: <mcp.shared.session.RequestResponder object at 0x000002B2B071BF10>
2025-06-12 14:11:49,632 - INFO - Processing request of type ListToolsRequest
2025-06-12 14:11:49,632 - DEBUG - Dispatching request of type ListToolsRequest
2025-06-12 14:11:49,633 - DEBUG - Response sent
2025-06-12 14:11:56,905 - DEBUG - Received message: <mcp.shared.session.RequestResponder object at 0x000002B2B071AB10>
2025-06-12 14:11:56,906 - INFO - Processing request of type ListToolsRequest
2025-06-12 14:11:56,906 - DEBUG - Dispatching request of type ListToolsRequest
2025-06-12 14:11:56,906 - DEBUG - Response sent
2025-06-12 14:11:59,453 - DEBUG - Received message: <mcp.shared.session.RequestResponder object at 0x000002B2B071BF10>
2025-06-12 14:11:59,454 - INFO - Processing request of type CallToolRequest
2025-06-12 14:11:59,454 - DEBUG - Dispatching request of type CallToolRequest
2025-06-12 14:11:59,454 - INFO - Getting forecast for coordinates: 37.8857, -122.118
2025-06-12 14:11:59,455 - DEBUG - Making NWS request to: https://api.weather.gov/points/37.8857,-122.118
2025-06-12 14:11:59,509 - DEBUG - connect_tcp.started host='api.weather.gov' port=443 local_address=None timeout=30.0 socket_options=None
2025-06-12 14:11:59,557 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x000002B2B072BC90>
2025-06-12 14:11:59,557 - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x000002B2B077A210> server_hostname='api.weather.gov' timeout=30.0
2025-06-12 14:11:59,587 - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x000002B2B07348D0>
2025-06-12 14:11:59,587 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-06-12 14:11:59,588 - DEBUG - send_request_headers.complete
2025-06-12 14:11:59,588 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-06-12 14:11:59,588 - DEBUG - send_request_body.complete
2025-06-12 14:11:59,588 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-06-12 14:11:59,610 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Server', b'nginx/1.20.1'), (b'Content-Type', b'application/geo+json'), (b'X-Powered-By', b'PHP/8.0.30'), (b'Access-Control-Allow-Origin', b'*'), (b'Access-Control-Expose-Headers', b'X-Correlation-Id, X-Request-Id, X-Server-Id'), (b'X-Request-ID', b'86877d61-9a31-4699-b167-7a390bd1d578'), (b'X-Correlation-ID', b'562eb56'), (b'X-Server-ID', b'vm-lnx-nids-apiapp5.ncep.noaa.gov'), (b'Content-Encoding', b'gzip'), (b'Content-Length', b'803'), (b'Cache-Control', b'public, max-age=85005, s-maxage=120'), (b'Expires', b'Fri, 13 Jun 2025 20:48:44 GMT'), (b'Date', b'Thu, 12 Jun 2025 21:11:59 GMT'), (b'Connection', b'keep-alive'), (b'Vary', b'Accept-Encoding'), (b'X-Edge-Request-ID', b'1a48bae3'), (b'Vary', b'Accept,Feature-Flags,Accept-Language'), (b'Strict-Transport-Security', b'max-age=31536000 ; includeSubDomains ; preload')])
2025-06-12 14:11:59,610 - INFO - HTTP Request: GET https://api.weather.gov/points/37.8857,-122.118 "HTTP/1.1 200 OK"
2025-06-12 14:11:59,611 - DEBUG - receive_response_body.started request=<Request [b'GET']>
2025-06-12 14:11:59,611 - DEBUG - receive_response_body.complete
2025-06-12 14:11:59,611 - DEBUG - response_closed.started
2025-06-12 14:11:59,611 - DEBUG - response_closed.complete
2025-06-12 14:11:59,611 - DEBUG - Successful response from NWS API: 200
2025-06-12 14:11:59,612 - DEBUG - close.started
2025-06-12 14:11:59,612 - DEBUG - close.complete
2025-06-12 14:11:59,613 - DEBUG - Making NWS request to: https://api.weather.gov/gridpoints/MTR/96,108/forecast
2025-06-12 14:11:59,626 - DEBUG - connect_tcp.started host='api.weather.gov' port=443 local_address=None timeout=30.0 socket_options=None
2025-06-12 14:11:59,646 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x000002B2B1B16210>
2025-06-12 14:11:59,646 - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x000002B2B077A960> server_hostname='api.weather.gov' timeout=30.0
2025-06-12 14:11:59,667 - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x000002B2B1B16310>
2025-06-12 14:11:59,667 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-06-12 14:11:59,667 - DEBUG - send_request_headers.complete
2025-06-12 14:11:59,668 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-06-12 14:11:59,668 - DEBUG - send_request_body.complete
2025-06-12 14:11:59,668 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-06-12 14:11:59,693 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Server', b'nginx/1.20.1'), (b'Content-Type', b'application/geo+json'), (b'X-Powered-By', b'PHP/8.0.30'), (b'Last-Modified', b'Thu, 12 Jun 2025 20:30:08 GMT'), (b'Access-Control-Allow-Origin', b'*'), (b'Access-Control-Expose-Headers', b'X-Correlation-Id, X-Request-Id, X-Server-Id'), (b'X-Request-ID', b'28dc6a9c-6f47-4d9d-add3-d4b0e14d43b8'), (b'X-Correlation-ID', b'1178b8e4'), (b'X-Server-ID', b'vm-lnx-nids-apiapp2.ncep.noaa.gov'), (b'Content-Encoding', b'gzip'), (b'Content-Length', b'1280'), (b'Cache-Control', b'public, max-age=139, s-maxage=3600'), (b'Expires', b'Thu, 12 Jun 2025 21:14:18 GMT'), (b'Date', b'Thu, 12 Jun 2025 21:11:59 GMT'), (b'Connection', b'keep-alive'), (b'Vary', b'Accept-Encoding'), (b'X-Edge-Request-ID', b'1e4c865c'), (b'Vary', b'Accept,Feature-Flags,Accept-Language'), (b'Strict-Transport-Security', b'max-age=31536000 ; includeSubDomains ; preload')])
2025-06-12 14:11:59,694 - INFO - HTTP Request: GET https://api.weather.gov/gridpoints/MTR/96,108/forecast "HTTP/1.1 200 OK"
2025-06-12 14:11:59,694 - DEBUG - receive_response_body.started request=<Request [b'GET']>
2025-06-12 14:11:59,694 - DEBUG - receive_response_body.complete
2025-06-12 14:11:59,694 - DEBUG - response_closed.started
2025-06-12 14:11:59,694 - DEBUG - response_closed.complete
2025-06-12 14:11:59,694 - DEBUG - Successful response from NWS API: 200
2025-06-12 14:11:59,695 - DEBUG - close.started
2025-06-12 14:11:59,695 - DEBUG - close.complete
2025-06-12 14:11:59,695 - DEBUG - Forecast data structure: dict_keys(['@context', 'type', 'geometry', 'properties'])
2025-06-12 14:11:59,695 - DEBUG - Forecast properties structure: dict_keys(['units', 'forecastGenerator', 'generatedAt', 'updateTime', 'validTimes', 'elevation', 'periods'])
2025-06-12 14:11:59,696 - INFO - Successfully retrieved forecast for coordinates: 37.8857, -122.118
2025-06-12 14:11:59,696 - DEBUG - Response sent
2025-06-12 14:11:59,698 - DEBUG - Received message: <mcp.shared.session.RequestResponder object at 0x000002B2B071AB10>
2025-06-12 14:11:59,699 - INFO - Processing request of type CallToolRequest
2025-06-12 14:11:59,699 - DEBUG - Dispatching request of type CallToolRequest
2025-06-12 14:11:59,699 - INFO - Getting outfit based on weather forecast
2025-06-12 14:11:59,699 - ERROR - ANTHROPIC_API_KEY not found in environment variables
2025-06-12 14:11:59,699 - DEBUG - Response sent
2025-06-12 14:24:11,656 - DEBUG - Looking for .env file at: C:\Software-Projects\mcp-tutorial\weather\.env
2025-06-12 14:24:11,657 - DEBUG - Found .env file
2025-06-12 14:24:11,660 - DEBUG - Initializing server 'weather'
2025-06-12 14:24:11,660 - DEBUG - Registering handler for ListToolsRequest
2025-06-12 14:24:11,661 - DEBUG - Registering handler for CallToolRequest
2025-06-12 14:24:11,661 - DEBUG - Registering handler for ListResourcesRequest
2025-06-12 14:24:11,661 - DEBUG - Registering handler for ReadResourceRequest
2025-06-12 14:24:11,661 - DEBUG - Registering handler for PromptListRequest
2025-06-12 14:24:11,661 - DEBUG - Registering handler for GetPromptRequest
2025-06-12 14:24:11,661 - DEBUG - Registering handler for ListResourceTemplatesRequest
2025-06-12 14:24:11,664 - INFO - Starting weather server
2025-06-12 14:24:11,670 - DEBUG - Using proactor: IocpProactor
2025-06-12 14:24:11,679 - DEBUG - Received message: root=InitializedNotification(method='notifications/initialized', params=None, jsonrpc='2.0')
2025-06-12 14:24:11,679 - DEBUG - Received message: <mcp.shared.session.RequestResponder object at 0x000001BA34312810>
2025-06-12 14:24:11,680 - INFO - Processing request of type ListToolsRequest
2025-06-12 14:24:11,680 - DEBUG - Dispatching request of type ListToolsRequest
2025-06-12 14:24:11,680 - DEBUG - Response sent
2025-06-12 14:24:14,921 - DEBUG - Received message: <mcp.shared.session.RequestResponder object at 0x000001BA349B9E10>
2025-06-12 14:24:14,921 - INFO - Processing request of type ListToolsRequest
2025-06-12 14:24:14,921 - DEBUG - Dispatching request of type ListToolsRequest
2025-06-12 14:24:14,921 - DEBUG - Response sent
2025-06-12 14:24:25,655 - DEBUG - Received message: <mcp.shared.session.RequestResponder object at 0x000001BA349A4D90>
2025-06-12 14:24:25,655 - INFO - Processing request of type ListToolsRequest
2025-06-12 14:24:25,655 - DEBUG - Dispatching request of type ListToolsRequest
2025-06-12 14:24:25,656 - DEBUG - Response sent
2025-06-12 14:24:28,571 - DEBUG - Received message: <mcp.shared.session.RequestResponder object at 0x000001BA34A19BD0>
2025-06-12 14:24:28,571 - INFO - Processing request of type CallToolRequest
2025-06-12 14:24:28,571 - DEBUG - Dispatching request of type CallToolRequest
2025-06-12 14:24:28,572 - INFO - Getting forecast for coordinates: 37.8857, -122.118
2025-06-12 14:24:28,572 - DEBUG - Making NWS request to: https://api.weather.gov/points/37.8857,-122.118
2025-06-12 14:24:28,618 - DEBUG - connect_tcp.started host='api.weather.gov' port=443 local_address=None timeout=30.0 socket_options=None
2025-06-12 14:24:28,661 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x000001BA34AD8710>
2025-06-12 14:24:28,661 - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x000001BA34A6A210> server_hostname='api.weather.gov' timeout=30.0
2025-06-12 14:24:28,696 - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x000001BA34A1AB50>
2025-06-12 14:24:28,696 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-06-12 14:24:28,697 - DEBUG - send_request_headers.complete
2025-06-12 14:24:28,697 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-06-12 14:24:28,697 - DEBUG - send_request_body.complete
2025-06-12 14:24:28,697 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-06-12 14:24:28,727 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Server', b'nginx/1.20.1'), (b'Content-Type', b'application/geo+json'), (b'X-Powered-By', b'PHP/8.0.30'), (b'Access-Control-Allow-Origin', b'*'), (b'Access-Control-Expose-Headers', b'X-Correlation-Id, X-Request-Id, X-Server-Id'), (b'X-Request-ID', b'86877d61-9a31-4699-b167-7a390bd1d578'), (b'X-Correlation-ID', b'562eb56'), (b'X-Server-ID', b'vm-lnx-nids-apiapp5.ncep.noaa.gov'), (b'Content-Encoding', b'gzip'), (b'Content-Length', b'803'), (b'Cache-Control', b'public, max-age=84256, s-maxage=120'), (b'Expires', b'Fri, 13 Jun 2025 20:48:44 GMT'), (b'Date', b'Thu, 12 Jun 2025 21:24:28 GMT'), (b'Connection', b'keep-alive'), (b'Vary', b'Accept-Encoding'), (b'X-Edge-Request-ID', b'1e607aaa'), (b'Vary', b'Accept,Feature-Flags,Accept-Language'), (b'Strict-Transport-Security', b'max-age=31536000 ; includeSubDomains ; preload')])
2025-06-12 14:24:28,728 - INFO - HTTP Request: GET https://api.weather.gov/points/37.8857,-122.118 "HTTP/1.1 200 OK"
2025-06-12 14:24:28,728 - DEBUG - receive_response_body.started request=<Request [b'GET']>
2025-06-12 14:24:28,728 - DEBUG - receive_response_body.complete
2025-06-12 14:24:28,728 - DEBUG - response_closed.started
2025-06-12 14:24:28,728 - DEBUG - response_closed.complete
2025-06-12 14:24:28,729 - DEBUG - Successful response from NWS API: 200
2025-06-12 14:24:28,729 - DEBUG - close.started
2025-06-12 14:24:28,729 - DEBUG - close.complete
2025-06-12 14:24:28,729 - DEBUG - Making NWS request to: https://api.weather.gov/gridpoints/MTR/96,108/forecast
2025-06-12 14:24:28,741 - DEBUG - connect_tcp.started host='api.weather.gov' port=443 local_address=None timeout=30.0 socket_options=None
2025-06-12 14:24:28,759 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x000001BA35E36450>
2025-06-12 14:24:28,760 - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x000001BA34A6A7B0> server_hostname='api.weather.gov' timeout=30.0
2025-06-12 14:24:28,790 - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x000001BA35E36550>
2025-06-12 14:24:28,791 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-06-12 14:24:28,791 - DEBUG - send_request_headers.complete
2025-06-12 14:24:28,791 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-06-12 14:24:28,791 - DEBUG - send_request_body.complete
2025-06-12 14:24:28,791 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-06-12 14:24:28,827 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Server', b'nginx/1.20.1'), (b'Content-Type', b'application/geo+json'), (b'X-Powered-By', b'PHP/8.0.30'), (b'Last-Modified', b'Thu, 12 Jun 2025 20:30:08 GMT'), (b'Access-Control-Allow-Origin', b'*'), (b'Access-Control-Expose-Headers', b'X-Correlation-Id, X-Request-Id, X-Server-Id'), (b'X-Request-ID', b'28dc6a9c-6f47-4d9d-add3-d4b0e14d43b8'), (b'X-Correlation-ID', b'1178b8e4'), (b'X-Server-ID', b'vm-lnx-nids-apiapp2.ncep.noaa.gov'), (b'Content-Encoding', b'gzip'), (b'Content-Length', b'1280'), (b'Cache-Control', b'public, max-age=322, s-maxage=3600'), (b'Expires', b'Thu, 12 Jun 2025 21:29:50 GMT'), (b'Date', b'Thu, 12 Jun 2025 21:24:28 GMT'), (b'Connection', b'keep-alive'), (b'Vary', b'Accept-Encoding'), (b'X-Edge-Request-ID', b'1e607b55'), (b'Vary', b'Accept,Feature-Flags,Accept-Language'), (b'Strict-Transport-Security', b'max-age=31536000 ; includeSubDomains ; preload')])
2025-06-12 14:24:28,827 - INFO - HTTP Request: GET https://api.weather.gov/gridpoints/MTR/96,108/forecast "HTTP/1.1 200 OK"
2025-06-12 14:24:28,828 - DEBUG - receive_response_body.started request=<Request [b'GET']>
2025-06-12 14:24:28,828 - DEBUG - receive_response_body.complete
2025-06-12 14:24:28,828 - DEBUG - response_closed.started
2025-06-12 14:24:28,828 - DEBUG - response_closed.complete
2025-06-12 14:24:28,828 - DEBUG - Successful response from NWS API: 200
2025-06-12 14:24:28,829 - DEBUG - close.started
2025-06-12 14:24:28,829 - DEBUG - close.complete
2025-06-12 14:24:28,829 - DEBUG - Forecast data structure: dict_keys(['@context', 'type', 'geometry', 'properties'])
2025-06-12 14:24:28,830 - DEBUG - Forecast properties structure: dict_keys(['units', 'forecastGenerator', 'generatedAt', 'updateTime', 'validTimes', 'elevation', 'periods'])
2025-06-12 14:24:28,830 - INFO - Successfully retrieved forecast for coordinates: 37.8857, -122.118
2025-06-12 14:24:28,830 - DEBUG - Response sent
2025-06-12 14:24:28,834 - DEBUG - Received message: <mcp.shared.session.RequestResponder object at 0x000001BA34A199D0>
2025-06-12 14:24:28,834 - INFO - Processing request of type CallToolRequest
2025-06-12 14:24:28,834 - DEBUG - Dispatching request of type CallToolRequest
2025-06-12 14:24:28,834 - INFO - Getting outfit based on weather forecast
2025-06-12 14:24:28,834 - DEBUG - Successfully loaded Anthropic API key
2025-06-12 14:24:28,845 - DEBUG - Successfully created Anthropic client
2025-06-12 14:24:28,846 - DEBUG - Sending request to Anthropic API
2025-06-12 14:24:28,848 - DEBUG - Request options: {'method': 'post', 'url': '/v1/messages', 'timeout': Timeout(connect=5.0, read=600, write=600, pool=600), 'files': None, 'idempotency_key': 'stainless-python-retry-595b9f12-5f74-454b-a4c8-1747e9f9b5f6', 'json_data': {'max_tokens': 1000, 'messages': [{'role': 'user', 'content': "\n        Based on the following weather forecast, suggest an appropriate outfit:\n        \n        [TextContent(type='text', text='\\n            This Afternoon:\\n            Temperature: 73F\\n            Wind: 13 mph SW\\n            Forecast: Sunny. High near 73, with temperatures falling to around 71 in the afternoon. Southwest wind around 13 mph.\\n\\n---\\n\\n            Tonight:\\n            Temperature: 51F\\n            Wind: 14 mph SW\\n            Forecast: Mostly clear, with a low around 51. Southwest wind around 14 mph.\\n\\n---\\n\\n            Friday:\\n            Temperature: 74F\\n            Wind: 15 mph SW\\n            Forecast: Sunny, with a high near 74. Southwest wind around 15 mph, with gusts as high as 18 mph.\\n\\n---\\n\\n            Friday Night:\\n            Temperature: 51F\\n            Wind: 13 mph SW\\n            Forecast: Mostly clear, with a low around 51. Southwest wind around 13 mph.\\n\\n---\\n\\n            Saturday:\\n            Temperature: 76F\\n            Wind: 9 to 13 mph SW\\n            Forecast: Mostly sunny, with a high near 76. Southwest wind 9 to 13 mph.\\n', annotations=None)]\n        \n        Please provide specific clothing recommendations based on the temperature, wind conditions, and forecast.\n        "}], 'model': 'claude-3-5-sonnet-20241022'}}
2025-06-12 14:24:28,910 - DEBUG - Sending HTTP Request: POST https://api.anthropic.com/v1/messages
2025-06-12 14:24:28,911 - DEBUG - connect_tcp.started host='api.anthropic.com' port=443 local_address=None timeout=5.0 socket_options=[(65535, 8, True), (6, 17, 60), (6, 16, 5), (6, 3, 60)]
2025-06-12 14:24:28,950 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000001BA35E41FD0>
2025-06-12 14:24:28,950 - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x000001BA34A6A2A0> server_hostname='api.anthropic.com' timeout=5.0
2025-06-12 14:24:28,981 - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000001BA34AC7B90>
2025-06-12 14:24:28,981 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-06-12 14:24:28,982 - DEBUG - send_request_headers.complete
2025-06-12 14:24:28,982 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-06-12 14:24:28,982 - DEBUG - send_request_body.complete
2025-06-12 14:24:28,982 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-06-12 14:24:36,750 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Thu, 12 Jun 2025 21:24:36 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'anthropic-ratelimit-input-tokens-limit', b'80000'), (b'anthropic-ratelimit-input-tokens-remaining', b'80000'), (b'anthropic-ratelimit-input-tokens-reset', b'2025-06-12T21:24:30Z'), (b'anthropic-ratelimit-output-tokens-limit', b'16000'), (b'anthropic-ratelimit-output-tokens-remaining', b'16000'), (b'anthropic-ratelimit-output-tokens-reset', b'2025-06-12T21:24:37Z'), (b'anthropic-ratelimit-requests-limit', b'1000'), (b'anthropic-ratelimit-requests-remaining', b'999'), (b'anthropic-ratelimit-requests-reset', b'2025-06-12T21:24:28Z'), (b'anthropic-ratelimit-tokens-limit', b'96000'), (b'anthropic-ratelimit-tokens-remaining', b'96000'), (b'anthropic-ratelimit-tokens-reset', b'2025-06-12T21:24:30Z'), (b'request-id', b'req_011CQ52oLVW6URXPzQWLJ7gj'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'anthropic-organization-id', b'35fcb693-6b61-46ff-aa3d-f5e86c0b1467'), (b'via', b'1.1 google'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Robots-Tag', b'none'), (b'Server', b'cloudflare'), (b'CF-RAY', b'94ec6a4f8821f9d4-SJC'), (b'Content-Encoding', b'gzip')])
2025-06-12 14:24:36,750 - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-06-12 14:24:36,751 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-06-12 14:24:36,753 - DEBUG - receive_response_body.complete
2025-06-12 14:24:36,753 - DEBUG - response_closed.started
2025-06-12 14:24:36,753 - DEBUG - response_closed.complete
2025-06-12 14:24:36,753 - DEBUG - HTTP Response: POST https://api.anthropic.com/v1/messages "200 OK" Headers({'date': 'Thu, 12 Jun 2025 21:24:36 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'anthropic-ratelimit-input-tokens-limit': '80000', 'anthropic-ratelimit-input-tokens-remaining': '80000', 'anthropic-ratelimit-input-tokens-reset': '2025-06-12T21:24:30Z', 'anthropic-ratelimit-output-tokens-limit': '16000', 'anthropic-ratelimit-output-tokens-remaining': '16000', 'anthropic-ratelimit-output-tokens-reset': '2025-06-12T21:24:37Z', 'anthropic-ratelimit-requests-limit': '1000', 'anthropic-ratelimit-requests-remaining': '999', 'anthropic-ratelimit-requests-reset': '2025-06-12T21:24:28Z', 'anthropic-ratelimit-tokens-limit': '96000', 'anthropic-ratelimit-tokens-remaining': '96000', 'anthropic-ratelimit-tokens-reset': '2025-06-12T21:24:30Z', 'request-id': 'req_011CQ52oLVW6URXPzQWLJ7gj', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'anthropic-organization-id': '35fcb693-6b61-46ff-aa3d-f5e86c0b1467', 'via': '1.1 google', 'cf-cache-status': 'DYNAMIC', 'x-robots-tag': 'none', 'server': 'cloudflare', 'cf-ray': '94ec6a4f8821f9d4-SJC', 'content-encoding': 'gzip'})
2025-06-12 14:24:36,753 - DEBUG - request_id: req_011CQ52oLVW6URXPzQWLJ7gj
2025-06-12 14:24:36,762 - DEBUG - Successfully received response from Anthropic API
2025-06-12 14:24:36,762 - DEBUG - Response sent
2025-06-12 14:24:54,599 - DEBUG - Received message: <mcp.shared.session.RequestResponder object at 0x000001BA34A0BE50>
2025-06-12 14:24:54,599 - INFO - Processing request of type ListToolsRequest
2025-06-12 14:24:54,599 - DEBUG - Dispatching request of type ListToolsRequest
2025-06-12 14:24:54,600 - DEBUG - Response sent
2025-06-12 14:24:58,584 - DEBUG - Received message: <mcp.shared.session.RequestResponder object at 0x000001BA35E34610>
2025-06-12 14:24:58,584 - INFO - Processing request of type ListToolsRequest
2025-06-12 14:24:58,584 - DEBUG - Dispatching request of type ListToolsRequest
2025-06-12 14:24:58,585 - DEBUG - Response sent
2025-06-12 14:26:51,876 - DEBUG - Looking for .env file at: C:\Software-Projects\mcp-tutorial\weather\.env
2025-06-12 14:26:51,876 - DEBUG - Found .env file
2025-06-12 14:26:51,880 - DEBUG - Initializing server 'weather'
2025-06-12 14:26:51,881 - DEBUG - Registering handler for ListToolsRequest
2025-06-12 14:26:51,881 - DEBUG - Registering handler for CallToolRequest
2025-06-12 14:26:51,881 - DEBUG - Registering handler for ListResourcesRequest
2025-06-12 14:26:51,881 - DEBUG - Registering handler for ReadResourceRequest
2025-06-12 14:26:51,881 - DEBUG - Registering handler for PromptListRequest
2025-06-12 14:26:51,881 - DEBUG - Registering handler for GetPromptRequest
2025-06-12 14:26:51,881 - DEBUG - Registering handler for ListResourceTemplatesRequest
2025-06-12 14:26:51,885 - INFO - Starting weather server
2025-06-12 14:26:51,890 - DEBUG - Using proactor: IocpProactor
2025-06-12 14:26:51,901 - DEBUG - Received message: root=InitializedNotification(method='notifications/initialized', params=None, jsonrpc='2.0')
2025-06-12 14:26:51,902 - DEBUG - Received message: <mcp.shared.session.RequestResponder object at 0x000001528DA82810>
2025-06-12 14:26:51,903 - INFO - Processing request of type ListToolsRequest
2025-06-12 14:26:51,903 - DEBUG - Dispatching request of type ListToolsRequest
2025-06-12 14:26:51,903 - DEBUG - Response sent
2025-06-12 14:26:58,968 - DEBUG - Received message: <mcp.shared.session.RequestResponder object at 0x000001528E113890>
2025-06-12 14:26:58,968 - INFO - Processing request of type ListToolsRequest
2025-06-12 14:26:58,968 - DEBUG - Dispatching request of type ListToolsRequest
2025-06-12 14:26:58,969 - DEBUG - Response sent
2025-06-12 14:27:01,762 - DEBUG - Received message: <mcp.shared.session.RequestResponder object at 0x000001528DA82810>
2025-06-12 14:27:01,762 - INFO - Processing request of type CallToolRequest
2025-06-12 14:27:01,763 - DEBUG - Dispatching request of type CallToolRequest
2025-06-12 14:27:01,763 - INFO - Getting forecast for coordinates: 37.8857, -122.118
2025-06-12 14:27:01,763 - DEBUG - Making NWS request to: https://api.weather.gov/points/37.8857,-122.118
2025-06-12 14:27:01,809 - DEBUG - connect_tcp.started host='api.weather.gov' port=443 local_address=None timeout=30.0 socket_options=None
2025-06-12 14:27:01,863 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x000001528E11A5D0>
2025-06-12 14:27:01,863 - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x000001528E1CA210> server_hostname='api.weather.gov' timeout=30.0
2025-06-12 14:27:01,893 - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x000001528E179650>
2025-06-12 14:27:01,893 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-06-12 14:27:01,893 - DEBUG - send_request_headers.complete
2025-06-12 14:27:01,893 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-06-12 14:27:01,893 - DEBUG - send_request_body.complete
2025-06-12 14:27:01,894 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-06-12 14:27:01,916 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Server', b'nginx/1.20.1'), (b'Content-Type', b'application/geo+json'), (b'X-Powered-By', b'PHP/8.0.30'), (b'Access-Control-Allow-Origin', b'*'), (b'Access-Control-Expose-Headers', b'X-Correlation-Id, X-Request-Id, X-Server-Id'), (b'X-Request-ID', b'86877d61-9a31-4699-b167-7a390bd1d578'), (b'X-Correlation-ID', b'562eb56'), (b'X-Server-ID', b'vm-lnx-nids-apiapp5.ncep.noaa.gov'), (b'Content-Encoding', b'gzip'), (b'Content-Length', b'803'), (b'Cache-Control', b'public, max-age=84103, s-maxage=120'), (b'Expires', b'Fri, 13 Jun 2025 20:48:44 GMT'), (b'Date', b'Thu, 12 Jun 2025 21:27:01 GMT'), (b'Connection', b'keep-alive'), (b'Vary', b'Accept-Encoding'), (b'X-Edge-Request-ID', b'1e64bcf6'), (b'Vary', b'Accept,Feature-Flags,Accept-Language'), (b'Strict-Transport-Security', b'max-age=31536000 ; includeSubDomains ; preload')])
2025-06-12 14:27:01,917 - INFO - HTTP Request: GET https://api.weather.gov/points/37.8857,-122.118 "HTTP/1.1 200 OK"
2025-06-12 14:27:01,917 - DEBUG - receive_response_body.started request=<Request [b'GET']>
2025-06-12 14:27:01,917 - DEBUG - receive_response_body.complete
2025-06-12 14:27:01,917 - DEBUG - response_closed.started
2025-06-12 14:27:01,917 - DEBUG - response_closed.complete
2025-06-12 14:27:01,917 - DEBUG - Successful response from NWS API: 200
2025-06-12 14:27:01,918 - DEBUG - close.started
2025-06-12 14:27:01,918 - DEBUG - close.complete
2025-06-12 14:27:01,918 - DEBUG - Making NWS request to: https://api.weather.gov/gridpoints/MTR/96,108/forecast
2025-06-12 14:27:01,930 - DEBUG - connect_tcp.started host='api.weather.gov' port=443 local_address=None timeout=30.0 socket_options=None
2025-06-12 14:27:01,948 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x000001528F596650>
2025-06-12 14:27:01,948 - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x000001528E1CA960> server_hostname='api.weather.gov' timeout=30.0
2025-06-12 14:27:01,978 - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x000001528F596750>
2025-06-12 14:27:01,979 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-06-12 14:27:01,979 - DEBUG - send_request_headers.complete
2025-06-12 14:27:01,979 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-06-12 14:27:01,980 - DEBUG - send_request_body.complete
2025-06-12 14:27:01,980 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-06-12 14:27:02,030 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Server', b'nginx/1.20.1'), (b'Content-Type', b'application/geo+json'), (b'X-Powered-By', b'PHP/8.0.30'), (b'Last-Modified', b'Thu, 12 Jun 2025 20:30:08 GMT'), (b'Access-Control-Allow-Origin', b'*'), (b'Access-Control-Expose-Headers', b'X-Correlation-Id, X-Request-Id, X-Server-Id'), (b'X-Request-ID', b'28dc6a9c-6f47-4d9d-add3-d4b0e14d43b8'), (b'X-Correlation-ID', b'1178b8e4'), (b'X-Server-ID', b'vm-lnx-nids-apiapp2.ncep.noaa.gov'), (b'Content-Encoding', b'gzip'), (b'Content-Length', b'1280'), (b'Cache-Control', b'public, max-age=169, s-maxage=3600'), (b'Expires', b'Thu, 12 Jun 2025 21:29:50 GMT'), (b'Date', b'Thu, 12 Jun 2025 21:27:01 GMT'), (b'Connection', b'keep-alive'), (b'Vary', b'Accept-Encoding'), (b'X-Edge-Request-ID', b'1a7cdb5e'), (b'Vary', b'Accept,Feature-Flags,Accept-Language'), (b'Strict-Transport-Security', b'max-age=31536000 ; includeSubDomains ; preload')])
2025-06-12 14:27:02,030 - INFO - HTTP Request: GET https://api.weather.gov/gridpoints/MTR/96,108/forecast "HTTP/1.1 200 OK"
2025-06-12 14:27:02,030 - DEBUG - receive_response_body.started request=<Request [b'GET']>
2025-06-12 14:27:02,030 - DEBUG - receive_response_body.complete
2025-06-12 14:27:02,030 - DEBUG - response_closed.started
2025-06-12 14:27:02,030 - DEBUG - response_closed.complete
2025-06-12 14:27:02,031 - DEBUG - Successful response from NWS API: 200
2025-06-12 14:27:02,031 - DEBUG - close.started
2025-06-12 14:27:02,031 - DEBUG - close.complete
2025-06-12 14:27:02,031 - DEBUG - Forecast data structure: dict_keys(['@context', 'type', 'geometry', 'properties'])
2025-06-12 14:27:02,032 - DEBUG - Forecast properties structure: dict_keys(['units', 'forecastGenerator', 'generatedAt', 'updateTime', 'validTimes', 'elevation', 'periods'])
2025-06-12 14:27:02,032 - INFO - Successfully retrieved forecast for coordinates: 37.8857, -122.118
2025-06-12 14:27:02,033 - DEBUG - Response sent
2025-06-12 14:27:02,035 - DEBUG - Received message: <mcp.shared.session.RequestResponder object at 0x000001528E184690>
2025-06-12 14:27:02,035 - INFO - Processing request of type CallToolRequest
2025-06-12 14:27:02,035 - DEBUG - Dispatching request of type CallToolRequest
2025-06-12 14:27:02,035 - INFO - Getting outfit based on weather forecast
2025-06-12 14:27:02,036 - DEBUG - Successfully loaded Anthropic API key
2025-06-12 14:27:02,047 - DEBUG - Successfully created Anthropic client
2025-06-12 14:27:02,047 - DEBUG - Sending request to Anthropic API
2025-06-12 14:27:02,049 - DEBUG - Request options: {'method': 'post', 'url': '/v1/messages', 'timeout': Timeout(connect=5.0, read=600, write=600, pool=600), 'files': None, 'idempotency_key': 'stainless-python-retry-f9135913-f243-4098-9ca6-e57dced70adf', 'json_data': {'max_tokens': 1000, 'messages': [{'role': 'user', 'content': "\n        Based on the following weather forecast, suggest an appropriate outfit:\n        \n        [TextContent(type='text', text='\\n            This Afternoon:\\n            Temperature: 73F\\n            Wind: 13 mph SW\\n            Forecast: Sunny. High near 73, with temperatures falling to around 71 in the afternoon. Southwest wind around 13 mph.\\n\\n---\\n\\n            Tonight:\\n            Temperature: 51F\\n            Wind: 14 mph SW\\n            Forecast: Mostly clear, with a low around 51. Southwest wind around 14 mph.\\n\\n---\\n\\n            Friday:\\n            Temperature: 74F\\n            Wind: 15 mph SW\\n            Forecast: Sunny, with a high near 74. Southwest wind around 15 mph, with gusts as high as 18 mph.\\n\\n---\\n\\n            Friday Night:\\n            Temperature: 51F\\n            Wind: 13 mph SW\\n            Forecast: Mostly clear, with a low around 51. Southwest wind around 13 mph.\\n\\n---\\n\\n            Saturday:\\n            Temperature: 76F\\n            Wind: 9 to 13 mph SW\\n            Forecast: Mostly sunny, with a high near 76. Southwest wind 9 to 13 mph.\\n', annotations=None)]\n        \n        Please provide specific clothing recommendations based on the temperature, wind conditions, and forecast.\n        "}], 'model': 'claude-3-5-sonnet-20241022'}}
2025-06-12 14:27:02,110 - DEBUG - Sending HTTP Request: POST https://api.anthropic.com/v1/messages
2025-06-12 14:27:02,110 - DEBUG - connect_tcp.started host='api.anthropic.com' port=443 local_address=None timeout=5.0 socket_options=[(65535, 8, True), (6, 17, 60), (6, 16, 5), (6, 3, 60)]
2025-06-12 14:27:02,152 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000001528F5A2250>
2025-06-12 14:27:02,152 - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x000001528DF69400> server_hostname='api.anthropic.com' timeout=5.0
2025-06-12 14:27:02,176 - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000001528E169E50>
2025-06-12 14:27:02,177 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-06-12 14:27:02,177 - DEBUG - send_request_headers.complete
2025-06-12 14:27:02,177 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-06-12 14:27:02,177 - DEBUG - send_request_body.complete
2025-06-12 14:27:02,177 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-06-12 14:27:08,367 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Thu, 12 Jun 2025 21:27:08 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'anthropic-ratelimit-input-tokens-limit', b'80000'), (b'anthropic-ratelimit-input-tokens-remaining', b'80000'), (b'anthropic-ratelimit-input-tokens-reset', b'2025-06-12T21:27:02Z'), (b'anthropic-ratelimit-output-tokens-limit', b'16000'), (b'anthropic-ratelimit-output-tokens-remaining', b'16000'), (b'anthropic-ratelimit-output-tokens-reset', b'2025-06-12T21:27:08Z'), (b'anthropic-ratelimit-requests-limit', b'1000'), (b'anthropic-ratelimit-requests-remaining', b'999'), (b'anthropic-ratelimit-requests-reset', b'2025-06-12T21:27:02Z'), (b'anthropic-ratelimit-tokens-limit', b'96000'), (b'anthropic-ratelimit-tokens-remaining', b'96000'), (b'anthropic-ratelimit-tokens-reset', b'2025-06-12T21:27:02Z'), (b'request-id', b'req_011CQ52zdSH7SVSsMEzVxHjg'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'anthropic-organization-id', b'35fcb693-6b61-46ff-aa3d-f5e86c0b1467'), (b'via', b'1.1 google'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Robots-Tag', b'none'), (b'Server', b'cloudflare'), (b'CF-RAY', b'94ec6e0d0db39441-SJC'), (b'Content-Encoding', b'gzip')])
2025-06-12 14:27:08,368 - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-06-12 14:27:08,368 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-06-12 14:27:08,368 - DEBUG - receive_response_body.complete
2025-06-12 14:27:08,369 - DEBUG - response_closed.started
2025-06-12 14:27:08,369 - DEBUG - response_closed.complete
2025-06-12 14:27:08,369 - DEBUG - HTTP Response: POST https://api.anthropic.com/v1/messages "200 OK" Headers({'date': 'Thu, 12 Jun 2025 21:27:08 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'anthropic-ratelimit-input-tokens-limit': '80000', 'anthropic-ratelimit-input-tokens-remaining': '80000', 'anthropic-ratelimit-input-tokens-reset': '2025-06-12T21:27:02Z', 'anthropic-ratelimit-output-tokens-limit': '16000', 'anthropic-ratelimit-output-tokens-remaining': '16000', 'anthropic-ratelimit-output-tokens-reset': '2025-06-12T21:27:08Z', 'anthropic-ratelimit-requests-limit': '1000', 'anthropic-ratelimit-requests-remaining': '999', 'anthropic-ratelimit-requests-reset': '2025-06-12T21:27:02Z', 'anthropic-ratelimit-tokens-limit': '96000', 'anthropic-ratelimit-tokens-remaining': '96000', 'anthropic-ratelimit-tokens-reset': '2025-06-12T21:27:02Z', 'request-id': 'req_011CQ52zdSH7SVSsMEzVxHjg', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'anthropic-organization-id': '35fcb693-6b61-46ff-aa3d-f5e86c0b1467', 'via': '1.1 google', 'cf-cache-status': 'DYNAMIC', 'x-robots-tag': 'none', 'server': 'cloudflare', 'cf-ray': '94ec6e0d0db39441-SJC', 'content-encoding': 'gzip'})
2025-06-12 14:27:08,369 - DEBUG - request_id: req_011CQ52zdSH7SVSsMEzVxHjg
2025-06-12 14:27:08,376 - DEBUG - Successfully received response from Anthropic API
2025-06-12 14:27:08,377 - DEBUG - Response sent
2025-06-12 14:27:18,399 - DEBUG - Received message: <mcp.shared.session.RequestResponder object at 0x000001528E238510>
2025-06-12 14:27:18,399 - INFO - Processing request of type ListToolsRequest
2025-06-12 14:27:18,399 - DEBUG - Dispatching request of type ListToolsRequest
2025-06-12 14:27:18,400 - DEBUG - Response sent
2025-06-12 15:38:20,500 - DEBUG - Received message: <mcp.shared.session.RequestResponder object at 0x000001528E113890>
2025-06-12 15:38:20,505 - INFO - Processing request of type ListToolsRequest
2025-06-12 15:38:20,505 - DEBUG - Dispatching request of type ListToolsRequest
2025-06-12 15:38:20,506 - DEBUG - Response sent
2025-06-13 16:11:13,461 - DEBUG - Looking for .env file at: C:\Software-Projects\mcp-tutorial\weather\.env
2025-06-13 16:11:13,464 - DEBUG - Found .env file
2025-06-13 16:11:13,467 - DEBUG - Initializing server 'weather'
2025-06-13 16:11:13,467 - DEBUG - Registering handler for ListToolsRequest
2025-06-13 16:11:13,467 - DEBUG - Registering handler for CallToolRequest
2025-06-13 16:11:13,467 - DEBUG - Registering handler for ListResourcesRequest
2025-06-13 16:11:13,467 - DEBUG - Registering handler for ReadResourceRequest
2025-06-13 16:11:13,467 - DEBUG - Registering handler for PromptListRequest
2025-06-13 16:11:13,467 - DEBUG - Registering handler for GetPromptRequest
2025-06-13 16:11:13,467 - DEBUG - Registering handler for ListResourceTemplatesRequest
2025-06-13 16:11:13,469 - INFO - Starting weather server
2025-06-13 16:11:13,473 - DEBUG - Using proactor: IocpProactor
2025-06-13 16:11:13,482 - DEBUG - Received message: root=InitializedNotification(method='notifications/initialized', params=None, jsonrpc='2.0')
2025-06-13 16:11:13,483 - DEBUG - Received message: <mcp.shared.session.RequestResponder object at 0x000001CCFC932810>
2025-06-13 16:11:13,483 - INFO - Processing request of type ListToolsRequest
2025-06-13 16:11:13,483 - DEBUG - Dispatching request of type ListToolsRequest
2025-06-13 16:11:13,483 - DEBUG - Response sent
2025-06-13 16:11:15,740 - DEBUG - Received message: <mcp.shared.session.RequestResponder object at 0x000001CCFCFAEB50>
2025-06-13 16:11:15,741 - INFO - Processing request of type ListToolsRequest
2025-06-13 16:11:15,741 - DEBUG - Dispatching request of type ListToolsRequest
2025-06-13 16:11:15,741 - DEBUG - Response sent
2025-06-13 16:11:39,670 - DEBUG - Received message: <mcp.shared.session.RequestResponder object at 0x000001CCFC932810>
2025-06-13 16:11:39,671 - INFO - Processing request of type ListToolsRequest
2025-06-13 16:11:39,671 - DEBUG - Dispatching request of type ListToolsRequest
2025-06-13 16:11:39,671 - DEBUG - Response sent
2025-06-13 16:11:42,718 - DEBUG - Received message: <mcp.shared.session.RequestResponder object at 0x000001CCFD039C90>
2025-06-13 16:11:42,719 - INFO - Processing request of type CallToolRequest
2025-06-13 16:11:42,719 - DEBUG - Dispatching request of type CallToolRequest
2025-06-13 16:11:42,719 - INFO - Getting forecast for coordinates: 37.8857, -122.118
2025-06-13 16:11:42,719 - DEBUG - Making NWS request to: https://api.weather.gov/points/37.8857,-122.118
2025-06-13 16:11:42,751 - DEBUG - connect_tcp.started host='api.weather.gov' port=443 local_address=None timeout=30.0 socket_options=None
2025-06-13 16:11:42,819 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x000001CCFD0E7690>
2025-06-13 16:11:42,819 - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x000001CCFD08A210> server_hostname='api.weather.gov' timeout=30.0
2025-06-13 16:11:42,848 - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x000001CCFD02BF50>
2025-06-13 16:11:42,849 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-06-13 16:11:42,849 - DEBUG - send_request_headers.complete
2025-06-13 16:11:42,849 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-06-13 16:11:42,849 - DEBUG - send_request_body.complete
2025-06-13 16:11:42,849 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-06-13 16:11:43,071 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Server', b'nginx/1.20.1'), (b'Content-Type', b'application/geo+json'), (b'X-Powered-By', b'PHP/8.0.30'), (b'Access-Control-Allow-Origin', b'*'), (b'Access-Control-Expose-Headers', b'X-Correlation-Id, X-Request-Id, X-Server-Id'), (b'X-Request-ID', b'd802072b-259b-46e4-92ad-fcd3f930eb1d'), (b'X-Correlation-ID', b'1b93a668'), (b'X-Server-ID', b'vm-lnx-nids-apiapp13.ncep.noaa.gov'), (b'Content-Encoding', b'gzip'), (b'Content-Length', b'803'), (b'Cache-Control', b'public, max-age=86400, s-maxage=120'), (b'Expires', b'Sat, 14 Jun 2025 23:11:42 GMT'), (b'Date', b'Fri, 13 Jun 2025 23:11:42 GMT'), (b'Connection', b'keep-alive'), (b'Vary', b'Accept-Encoding'), (b'X-Edge-Request-ID', b'264e3665'), (b'Vary', b'Accept,Feature-Flags,Accept-Language'), (b'Strict-Transport-Security', b'max-age=31536000 ; includeSubDomains ; preload')])
2025-06-13 16:11:43,072 - INFO - HTTP Request: GET https://api.weather.gov/points/37.8857,-122.118 "HTTP/1.1 200 OK"
2025-06-13 16:11:43,072 - DEBUG - receive_response_body.started request=<Request [b'GET']>
2025-06-13 16:11:43,072 - DEBUG - receive_response_body.complete
2025-06-13 16:11:43,072 - DEBUG - response_closed.started
2025-06-13 16:11:43,072 - DEBUG - response_closed.complete
2025-06-13 16:11:43,072 - DEBUG - Successful response from NWS API: 200
2025-06-13 16:11:43,073 - DEBUG - close.started
2025-06-13 16:11:43,073 - DEBUG - close.complete
2025-06-13 16:11:43,073 - DEBUG - Making NWS request to: https://api.weather.gov/gridpoints/MTR/96,108/forecast
2025-06-13 16:11:43,079 - DEBUG - connect_tcp.started host='api.weather.gov' port=443 local_address=None timeout=30.0 socket_options=None
2025-06-13 16:11:43,094 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x000001CCFE4566D0>
2025-06-13 16:11:43,094 - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x000001CCFD08A570> server_hostname='api.weather.gov' timeout=30.0
2025-06-13 16:11:43,145 - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x000001CCFE4567D0>
2025-06-13 16:11:43,145 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-06-13 16:11:43,146 - DEBUG - send_request_headers.complete
2025-06-13 16:11:43,146 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-06-13 16:11:43,147 - DEBUG - send_request_body.complete
2025-06-13 16:11:43,147 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-06-13 16:11:43,257 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Server', b'nginx/1.20.1'), (b'Content-Type', b'application/geo+json'), (b'X-Powered-By', b'PHP/8.0.30'), (b'Last-Modified', b'Fri, 13 Jun 2025 20:26:27 GMT'), (b'Access-Control-Allow-Origin', b'*'), (b'Access-Control-Expose-Headers', b'X-Correlation-Id, X-Request-Id, X-Server-Id'), (b'X-Request-ID', b'd379044b-3c91-48c4-b2a9-54e8379ad0ed'), (b'X-Correlation-ID', b'1988ed93'), (b'X-Server-ID', b'vm-lnx-nids-apiapp13.ncep.noaa.gov'), (b'Content-Encoding', b'gzip'), (b'Content-Length', b'1277'), (b'Cache-Control', b'public, max-age=509, s-maxage=3600'), (b'Expires', b'Fri, 13 Jun 2025 23:20:11 GMT'), (b'Date', b'Fri, 13 Jun 2025 23:11:42 GMT'), (b'Connection', b'keep-alive'), (b'Vary', b'Accept-Encoding'), (b'X-Edge-Request-ID', b'264e3804'), (b'Vary', b'Accept,Feature-Flags,Accept-Language'), (b'Strict-Transport-Security', b'max-age=31536000 ; includeSubDomains ; preload')])
2025-06-13 16:11:43,258 - INFO - HTTP Request: GET https://api.weather.gov/gridpoints/MTR/96,108/forecast "HTTP/1.1 200 OK"
2025-06-13 16:11:43,258 - DEBUG - receive_response_body.started request=<Request [b'GET']>
2025-06-13 16:11:43,259 - DEBUG - receive_response_body.complete
2025-06-13 16:11:43,259 - DEBUG - response_closed.started
2025-06-13 16:11:43,259 - DEBUG - response_closed.complete
2025-06-13 16:11:43,259 - DEBUG - Successful response from NWS API: 200
2025-06-13 16:11:43,261 - DEBUG - close.started
2025-06-13 16:11:43,261 - DEBUG - close.complete
2025-06-13 16:11:43,261 - DEBUG - Forecast data structure: dict_keys(['@context', 'type', 'geometry', 'properties'])
2025-06-13 16:11:43,262 - DEBUG - Forecast properties structure: dict_keys(['units', 'forecastGenerator', 'generatedAt', 'updateTime', 'validTimes', 'elevation', 'periods'])
2025-06-13 16:11:43,263 - INFO - Successfully retrieved forecast for coordinates: 37.8857, -122.118
2025-06-13 16:11:43,264 - DEBUG - Response sent
2025-06-13 16:11:43,267 - DEBUG - Received message: <mcp.shared.session.RequestResponder object at 0x000001CCFCFAEB50>
2025-06-13 16:11:43,268 - INFO - Processing request of type CallToolRequest
2025-06-13 16:11:43,268 - DEBUG - Dispatching request of type CallToolRequest
2025-06-13 16:11:43,268 - INFO - Getting outfit based on weather forecast
2025-06-13 16:11:43,269 - DEBUG - Successfully loaded Anthropic API key
2025-06-13 16:11:43,281 - DEBUG - Successfully created Anthropic client
2025-06-13 16:11:43,282 - DEBUG - Sending request to Anthropic API
2025-06-13 16:11:43,282 - DEBUG - Request options: {'method': 'post', 'url': '/v1/messages', 'timeout': Timeout(connect=5.0, read=600, write=600, pool=600), 'files': None, 'idempotency_key': 'stainless-python-retry-5e40b6ea-1f1e-448d-b95e-831a59e0e0da', 'json_data': {'max_tokens': 1000, 'messages': [{'role': 'user', 'content': "\n        Based on the following weather forecast, suggest an appropriate outfit:\n        \n        [TextContent(type='text', text='\\n            This Afternoon:\\n            Temperature: 74F\\n            Wind: 13 mph SW\\n            Forecast: Sunny. High near 74, with temperatures falling to around 72 in the afternoon. Southwest wind around 13 mph.\\n\\n---\\n\\n            Tonight:\\n            Temperature: 50F\\n            Wind: 12 mph SW\\n            Forecast: Mostly clear, with a low around 50. Southwest wind around 12 mph.\\n\\n---\\n\\n            Saturday:\\n            Temperature: 73F\\n            Wind: 8 to 12 mph SW\\n            Forecast: Mostly sunny, with a high near 73. Southwest wind 8 to 12 mph.\\n\\n---\\n\\n            Saturday Night:\\n            Temperature: 50F\\n            Wind: 12 mph SW\\n            Forecast: Mostly clear, with a low around 50. Southwest wind around 12 mph.\\n\\n---\\n\\n            Sunday:\\n            Temperature: 75F\\n            Wind: 12 mph SW\\n            Forecast: Sunny, with a high near 75. Southwest wind around 12 mph.\\n', annotations=None)]\n        \n        Please provide specific clothing recommendations based on the temperature, wind conditions, and forecast.\n        "}], 'model': 'claude-3-5-sonnet-20241022'}}
2025-06-13 16:11:43,337 - DEBUG - Sending HTTP Request: POST https://api.anthropic.com/v1/messages
2025-06-13 16:11:43,337 - DEBUG - connect_tcp.started host='api.anthropic.com' port=443 local_address=None timeout=5.0 socket_options=[(65535, 8, True), (6, 17, 60), (6, 16, 5), (6, 3, 60)]
2025-06-13 16:11:43,381 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000001CCFE462410>
2025-06-13 16:11:43,381 - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x000001CCFD08A2A0> server_hostname='api.anthropic.com' timeout=5.0
2025-06-13 16:11:43,410 - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000001CCFD03A450>
2025-06-13 16:11:43,410 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-06-13 16:11:43,411 - DEBUG - send_request_headers.complete
2025-06-13 16:11:43,411 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-06-13 16:11:43,411 - DEBUG - send_request_body.complete
2025-06-13 16:11:43,411 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-06-13 16:11:48,560 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Fri, 13 Jun 2025 23:11:47 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'anthropic-ratelimit-input-tokens-limit', b'80000'), (b'anthropic-ratelimit-input-tokens-remaining', b'80000'), (b'anthropic-ratelimit-input-tokens-reset', b'2025-06-13T23:11:43Z'), (b'anthropic-ratelimit-output-tokens-limit', b'16000'), (b'anthropic-ratelimit-output-tokens-remaining', b'16000'), (b'anthropic-ratelimit-output-tokens-reset', b'2025-06-13T23:11:48Z'), (b'anthropic-ratelimit-requests-limit', b'1000'), (b'anthropic-ratelimit-requests-remaining', b'999'), (b'anthropic-ratelimit-requests-reset', b'2025-06-13T23:11:42Z'), (b'anthropic-ratelimit-tokens-limit', b'96000'), (b'anthropic-ratelimit-tokens-remaining', b'96000'), (b'anthropic-ratelimit-tokens-reset', b'2025-06-13T23:11:43Z'), (b'request-id', b'req_011CQ74nX1Uuf2cE3vmeDsB2'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'anthropic-organization-id', b'35fcb693-6b61-46ff-aa3d-f5e86c0b1467'), (b'via', b'1.1 google'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Robots-Tag', b'none'), (b'Server', b'cloudflare'), (b'CF-RAY', b'94f544c31dcbceed-SJC'), (b'Content-Encoding', b'gzip')])
2025-06-13 16:11:48,561 - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-06-13 16:11:48,561 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-06-13 16:11:48,562 - DEBUG - receive_response_body.complete
2025-06-13 16:11:48,562 - DEBUG - response_closed.started
2025-06-13 16:11:48,562 - DEBUG - response_closed.complete
2025-06-13 16:11:48,562 - DEBUG - HTTP Response: POST https://api.anthropic.com/v1/messages "200 OK" Headers({'date': 'Fri, 13 Jun 2025 23:11:47 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'anthropic-ratelimit-input-tokens-limit': '80000', 'anthropic-ratelimit-input-tokens-remaining': '80000', 'anthropic-ratelimit-input-tokens-reset': '2025-06-13T23:11:43Z', 'anthropic-ratelimit-output-tokens-limit': '16000', 'anthropic-ratelimit-output-tokens-remaining': '16000', 'anthropic-ratelimit-output-tokens-reset': '2025-06-13T23:11:48Z', 'anthropic-ratelimit-requests-limit': '1000', 'anthropic-ratelimit-requests-remaining': '999', 'anthropic-ratelimit-requests-reset': '2025-06-13T23:11:42Z', 'anthropic-ratelimit-tokens-limit': '96000', 'anthropic-ratelimit-tokens-remaining': '96000', 'anthropic-ratelimit-tokens-reset': '2025-06-13T23:11:43Z', 'request-id': 'req_011CQ74nX1Uuf2cE3vmeDsB2', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'anthropic-organization-id': '35fcb693-6b61-46ff-aa3d-f5e86c0b1467', 'via': '1.1 google', 'cf-cache-status': 'DYNAMIC', 'x-robots-tag': 'none', 'server': 'cloudflare', 'cf-ray': '94f544c31dcbceed-SJC', 'content-encoding': 'gzip'})
2025-06-13 16:11:48,562 - DEBUG - request_id: req_011CQ74nX1Uuf2cE3vmeDsB2
2025-06-13 16:11:48,567 - DEBUG - Successfully received response from Anthropic API
2025-06-13 16:11:48,568 - DEBUG - Response sent
2025-06-13 16:15:14,929 - DEBUG - Received message: <mcp.shared.session.RequestResponder object at 0x000001CCFD0F86D0>
2025-06-13 16:15:14,929 - INFO - Processing request of type ListToolsRequest
2025-06-13 16:15:14,930 - DEBUG - Dispatching request of type ListToolsRequest
2025-06-13 16:15:14,930 - DEBUG - Response sent
2025-06-13 16:15:18,512 - DEBUG - Received message: <mcp.shared.session.RequestResponder object at 0x000001CCFD044510>
2025-06-13 16:15:18,513 - INFO - Processing request of type CallToolRequest
2025-06-13 16:15:18,513 - DEBUG - Dispatching request of type CallToolRequest
2025-06-13 16:15:18,513 - INFO - Getting outfit based on weather forecast
2025-06-13 16:15:18,513 - DEBUG - Successfully loaded Anthropic API key
2025-06-13 16:15:18,538 - DEBUG - Successfully created Anthropic client
2025-06-13 16:15:18,538 - DEBUG - Sending request to Anthropic API
2025-06-13 16:15:18,540 - DEBUG - Request options: {'method': 'post', 'url': '/v1/messages', 'timeout': Timeout(connect=5.0, read=600, write=600, pool=600), 'files': None, 'idempotency_key': 'stainless-python-retry-1464ba1b-a70e-4867-8141-c0881e2caec3', 'json_data': {'max_tokens': 1000, 'messages': [{'role': 'user', 'content': '\n        Based on the following weather forecast, suggest an appropriate outfit:\n        \n        For Lafayette, CA (37.8857, -122.118): Current conditions show clear skies with temperatures around 72-74F during the day, dropping to around 50F at night. Winds are moderate at 12-13 mph. Sunny conditions with no precipitation expected.\n        \n        Please provide specific clothing recommendations based on the temperature, wind conditions, and forecast.\n        '}], 'model': 'claude-3-5-sonnet-20241022'}}
2025-06-13 16:15:18,541 - DEBUG - Sending HTTP Request: POST https://api.anthropic.com/v1/messages
2025-06-13 16:15:18,542 - DEBUG - connect_tcp.started host='api.anthropic.com' port=443 local_address=None timeout=5.0 socket_options=[(65535, 8, True), (6, 17, 60), (6, 16, 5), (6, 3, 60)]
2025-06-13 16:15:18,583 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000001CCFE4784D0>
2025-06-13 16:15:18,583 - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x000001CCFD08A8D0> server_hostname='api.anthropic.com' timeout=5.0
2025-06-13 16:15:18,611 - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000001CCFE478490>
2025-06-13 16:15:18,611 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-06-13 16:15:18,612 - DEBUG - send_request_headers.complete
2025-06-13 16:15:18,612 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-06-13 16:15:18,612 - DEBUG - send_request_body.complete
2025-06-13 16:15:18,613 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-06-13 16:15:24,170 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Fri, 13 Jun 2025 23:15:23 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'anthropic-ratelimit-input-tokens-limit', b'80000'), (b'anthropic-ratelimit-input-tokens-remaining', b'80000'), (b'anthropic-ratelimit-input-tokens-reset', b'2025-06-13T23:15:18Z'), (b'anthropic-ratelimit-output-tokens-limit', b'16000'), (b'anthropic-ratelimit-output-tokens-remaining', b'16000'), (b'anthropic-ratelimit-output-tokens-reset', b'2025-06-13T23:15:24Z'), (b'anthropic-ratelimit-requests-limit', b'1000'), (b'anthropic-ratelimit-requests-remaining', b'999'), (b'anthropic-ratelimit-requests-reset', b'2025-06-13T23:15:17Z'), (b'anthropic-ratelimit-tokens-limit', b'96000'), (b'anthropic-ratelimit-tokens-remaining', b'96000'), (b'anthropic-ratelimit-tokens-reset', b'2025-06-13T23:15:18Z'), (b'request-id', b'req_011CQ754P4SXAxAxrT2jUSvY'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'anthropic-organization-id', b'35fcb693-6b61-46ff-aa3d-f5e86c0b1467'), (b'via', b'1.1 google'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Robots-Tag', b'none'), (b'Server', b'cloudflare'), (b'CF-RAY', b'94f54a040bae16a8-SJC'), (b'Content-Encoding', b'gzip')])
2025-06-13 16:15:24,170 - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-06-13 16:15:24,170 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-06-13 16:15:24,171 - DEBUG - receive_response_body.complete
2025-06-13 16:15:24,171 - DEBUG - response_closed.started
2025-06-13 16:15:24,171 - DEBUG - response_closed.complete
2025-06-13 16:15:24,171 - DEBUG - HTTP Response: POST https://api.anthropic.com/v1/messages "200 OK" Headers({'date': 'Fri, 13 Jun 2025 23:15:23 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'anthropic-ratelimit-input-tokens-limit': '80000', 'anthropic-ratelimit-input-tokens-remaining': '80000', 'anthropic-ratelimit-input-tokens-reset': '2025-06-13T23:15:18Z', 'anthropic-ratelimit-output-tokens-limit': '16000', 'anthropic-ratelimit-output-tokens-remaining': '16000', 'anthropic-ratelimit-output-tokens-reset': '2025-06-13T23:15:24Z', 'anthropic-ratelimit-requests-limit': '1000', 'anthropic-ratelimit-requests-remaining': '999', 'anthropic-ratelimit-requests-reset': '2025-06-13T23:15:17Z', 'anthropic-ratelimit-tokens-limit': '96000', 'anthropic-ratelimit-tokens-remaining': '96000', 'anthropic-ratelimit-tokens-reset': '2025-06-13T23:15:18Z', 'request-id': 'req_011CQ754P4SXAxAxrT2jUSvY', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'anthropic-organization-id': '35fcb693-6b61-46ff-aa3d-f5e86c0b1467', 'via': '1.1 google', 'cf-cache-status': 'DYNAMIC', 'x-robots-tag': 'none', 'server': 'cloudflare', 'cf-ray': '94f54a040bae16a8-SJC', 'content-encoding': 'gzip'})
2025-06-13 16:15:24,171 - DEBUG - request_id: req_011CQ754P4SXAxAxrT2jUSvY
2025-06-13 16:15:24,171 - DEBUG - Successfully received response from Anthropic API
2025-06-13 16:15:24,172 - DEBUG - Response sent
2025-06-13 16:15:46,469 - DEBUG - Received message: <mcp.shared.session.RequestResponder object at 0x000001CCFCFD0510>
2025-06-13 16:15:46,469 - INFO - Processing request of type ListToolsRequest
2025-06-13 16:15:46,469 - DEBUG - Dispatching request of type ListToolsRequest
2025-06-13 16:15:46,469 - DEBUG - Response sent
2025-06-13 16:15:49,201 - DEBUG - Received message: <mcp.shared.session.RequestResponder object at 0x000001CCFD0445D0>
2025-06-13 16:15:49,201 - INFO - Processing request of type CallToolRequest
2025-06-13 16:15:49,201 - DEBUG - Dispatching request of type CallToolRequest
2025-06-13 16:15:49,203 - INFO - Getting forecast for coordinates: 37.8857, -122.118
2025-06-13 16:15:49,203 - DEBUG - Making NWS request to: https://api.weather.gov/points/37.8857,-122.118
2025-06-13 16:15:49,214 - DEBUG - connect_tcp.started host='api.weather.gov' port=443 local_address=None timeout=30.0 socket_options=None
2025-06-13 16:15:49,259 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x000001CCFE4606D0>
2025-06-13 16:15:49,259 - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x000001CCFCE297F0> server_hostname='api.weather.gov' timeout=30.0
2025-06-13 16:15:49,287 - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x000001CCFD044090>
2025-06-13 16:15:49,287 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-06-13 16:15:49,288 - DEBUG - send_request_headers.complete
2025-06-13 16:15:49,288 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-06-13 16:15:49,288 - DEBUG - send_request_body.complete
2025-06-13 16:15:49,289 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-06-13 16:15:49,343 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Server', b'nginx/1.20.1'), (b'Content-Type', b'application/geo+json'), (b'X-Powered-By', b'PHP/8.0.30'), (b'Access-Control-Allow-Origin', b'*'), (b'Access-Control-Expose-Headers', b'X-Correlation-Id, X-Request-Id, X-Server-Id'), (b'X-Request-ID', b'd802072b-259b-46e4-92ad-fcd3f930eb1d'), (b'X-Correlation-ID', b'1b93a668'), (b'X-Server-ID', b'vm-lnx-nids-apiapp13.ncep.noaa.gov'), (b'Content-Encoding', b'gzip'), (b'Content-Length', b'803'), (b'Cache-Control', b'public, max-age=86154, s-maxage=120'), (b'Expires', b'Sat, 14 Jun 2025 23:11:42 GMT'), (b'Date', b'Fri, 13 Jun 2025 23:15:48 GMT'), (b'Connection', b'keep-alive'), (b'Vary', b'Accept-Encoding'), (b'X-Edge-Request-ID', b'2db88d0b'), (b'Vary', b'Accept,Feature-Flags,Accept-Language'), (b'Strict-Transport-Security', b'max-age=31536000 ; includeSubDomains ; preload')])
2025-06-13 16:15:49,344 - INFO - HTTP Request: GET https://api.weather.gov/points/37.8857,-122.118 "HTTP/1.1 200 OK"
2025-06-13 16:15:49,344 - DEBUG - receive_response_body.started request=<Request [b'GET']>
2025-06-13 16:15:49,344 - DEBUG - receive_response_body.complete
2025-06-13 16:15:49,344 - DEBUG - response_closed.started
2025-06-13 16:15:49,344 - DEBUG - response_closed.complete
2025-06-13 16:15:49,344 - DEBUG - Successful response from NWS API: 200
2025-06-13 16:15:49,345 - DEBUG - close.started
2025-06-13 16:15:49,345 - DEBUG - close.complete
2025-06-13 16:15:49,345 - DEBUG - Making NWS request to: https://api.weather.gov/gridpoints/MTR/96,108/forecast
2025-06-13 16:15:49,351 - DEBUG - connect_tcp.started host='api.weather.gov' port=443 local_address=None timeout=30.0 socket_options=None
2025-06-13 16:15:49,365 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x000001CCFE47CD50>
2025-06-13 16:15:49,365 - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x000001CCFD08ACC0> server_hostname='api.weather.gov' timeout=30.0
2025-06-13 16:15:49,398 - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x000001CCFE47CD90>
2025-06-13 16:15:49,398 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-06-13 16:15:49,399 - DEBUG - send_request_headers.complete
2025-06-13 16:15:49,399 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-06-13 16:15:49,399 - DEBUG - send_request_body.complete
2025-06-13 16:15:49,399 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-06-13 16:15:49,423 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Server', b'nginx/1.20.1'), (b'Content-Type', b'application/geo+json'), (b'X-Powered-By', b'PHP/8.0.30'), (b'Last-Modified', b'Fri, 13 Jun 2025 20:26:27 GMT'), (b'Access-Control-Allow-Origin', b'*'), (b'Access-Control-Expose-Headers', b'X-Correlation-Id, X-Request-Id, X-Server-Id'), (b'X-Request-ID', b'd379044b-3c91-48c4-b2a9-54e8379ad0ed'), (b'X-Correlation-ID', b'1988ed93'), (b'X-Server-ID', b'vm-lnx-nids-apiapp13.ncep.noaa.gov'), (b'Content-Encoding', b'gzip'), (b'Content-Length', b'1277'), (b'Cache-Control', b'public, max-age=263, s-maxage=3600'), (b'Expires', b'Fri, 13 Jun 2025 23:20:11 GMT'), (b'Date', b'Fri, 13 Jun 2025 23:15:48 GMT'), (b'Connection', b'keep-alive'), (b'Vary', b'Accept-Encoding'), (b'X-Edge-Request-ID', b'2654cee8'), (b'Vary', b'Accept,Feature-Flags,Accept-Language'), (b'Strict-Transport-Security', b'max-age=31536000 ; includeSubDomains ; preload')])
2025-06-13 16:15:49,424 - INFO - HTTP Request: GET https://api.weather.gov/gridpoints/MTR/96,108/forecast "HTTP/1.1 200 OK"
2025-06-13 16:15:49,424 - DEBUG - receive_response_body.started request=<Request [b'GET']>
2025-06-13 16:15:49,425 - DEBUG - receive_response_body.complete
2025-06-13 16:15:49,425 - DEBUG - response_closed.started
2025-06-13 16:15:49,425 - DEBUG - response_closed.complete
2025-06-13 16:15:49,425 - DEBUG - Successful response from NWS API: 200
2025-06-13 16:15:49,426 - DEBUG - close.started
2025-06-13 16:15:49,427 - DEBUG - close.complete
2025-06-13 16:15:49,427 - DEBUG - Forecast data structure: dict_keys(['@context', 'type', 'geometry', 'properties'])
2025-06-13 16:15:49,428 - DEBUG - Forecast properties structure: dict_keys(['units', 'forecastGenerator', 'generatedAt', 'updateTime', 'validTimes', 'elevation', 'periods'])
2025-06-13 16:15:49,428 - INFO - Successfully retrieved forecast for coordinates: 37.8857, -122.118
2025-06-13 16:15:49,429 - DEBUG - Response sent
2025-06-13 16:15:49,434 - DEBUG - Received message: <mcp.shared.session.RequestResponder object at 0x000001CCFCFD0510>
2025-06-13 16:15:49,434 - INFO - Processing request of type CallToolRequest
2025-06-13 16:15:49,434 - DEBUG - Dispatching request of type CallToolRequest
2025-06-13 16:15:49,435 - INFO - Getting outfit based on weather forecast
2025-06-13 16:15:49,435 - DEBUG - Successfully loaded Anthropic API key
2025-06-13 16:15:49,449 - DEBUG - Successfully created Anthropic client
2025-06-13 16:15:49,450 - DEBUG - Sending request to Anthropic API
2025-06-13 16:15:49,450 - DEBUG - Request options: {'method': 'post', 'url': '/v1/messages', 'timeout': Timeout(connect=5.0, read=600, write=600, pool=600), 'files': None, 'idempotency_key': 'stainless-python-retry-afd65417-4164-4481-a67d-2bcc05b57722', 'json_data': {'max_tokens': 1000, 'messages': [{'role': 'user', 'content': "\n        Based on the following weather forecast, suggest an appropriate outfit:\n        \n        [TextContent(type='text', text='\\n            This Afternoon:\\n            Temperature: 74F\\n            Wind: 13 mph SW\\n            Forecast: Sunny. High near 74, with temperatures falling to around 72 in the afternoon. Southwest wind around 13 mph.\\n\\n---\\n\\n            Tonight:\\n            Temperature: 50F\\n            Wind: 12 mph SW\\n            Forecast: Mostly clear, with a low around 50. Southwest wind around 12 mph.\\n\\n---\\n\\n            Saturday:\\n            Temperature: 73F\\n            Wind: 8 to 12 mph SW\\n            Forecast: Mostly sunny, with a high near 73. Southwest wind 8 to 12 mph.\\n\\n---\\n\\n            Saturday Night:\\n            Temperature: 50F\\n            Wind: 12 mph SW\\n            Forecast: Mostly clear, with a low around 50. Southwest wind around 12 mph.\\n\\n---\\n\\n            Sunday:\\n            Temperature: 75F\\n            Wind: 12 mph SW\\n            Forecast: Sunny, with a high near 75. Southwest wind around 12 mph.\\n', annotations=None)]\n        \n        Please provide specific clothing recommendations based on the temperature, wind conditions, and forecast.\n        "}], 'model': 'claude-3-5-sonnet-20241022'}}
2025-06-13 16:15:49,450 - DEBUG - Sending HTTP Request: POST https://api.anthropic.com/v1/messages
2025-06-13 16:15:49,450 - DEBUG - connect_tcp.started host='api.anthropic.com' port=443 local_address=None timeout=5.0 socket_options=[(65535, 8, True), (6, 17, 60), (6, 16, 5), (6, 3, 60)]
2025-06-13 16:15:49,491 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000001CCFE47E910>
2025-06-13 16:15:49,491 - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x000001CCFD08A960> server_hostname='api.anthropic.com' timeout=5.0
2025-06-13 16:15:49,530 - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000001CCFE47E950>
2025-06-13 16:15:49,530 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-06-13 16:15:49,531 - DEBUG - close.started
2025-06-13 16:15:49,531 - DEBUG - close.complete
2025-06-13 16:15:49,535 - DEBUG - send_request_headers.complete
2025-06-13 16:15:49,535 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-06-13 16:15:49,535 - DEBUG - send_request_body.complete
2025-06-13 16:15:49,535 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-06-13 16:15:54,356 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Fri, 13 Jun 2025 23:15:53 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'anthropic-ratelimit-input-tokens-limit', b'80000'), (b'anthropic-ratelimit-input-tokens-remaining', b'80000'), (b'anthropic-ratelimit-input-tokens-reset', b'2025-06-13T23:15:49Z'), (b'anthropic-ratelimit-output-tokens-limit', b'16000'), (b'anthropic-ratelimit-output-tokens-remaining', b'16000'), (b'anthropic-ratelimit-output-tokens-reset', b'2025-06-13T23:15:54Z'), (b'anthropic-ratelimit-requests-limit', b'1000'), (b'anthropic-ratelimit-requests-remaining', b'999'), (b'anthropic-ratelimit-requests-reset', b'2025-06-13T23:15:48Z'), (b'anthropic-ratelimit-tokens-limit', b'96000'), (b'anthropic-ratelimit-tokens-remaining', b'96000'), (b'anthropic-ratelimit-tokens-reset', b'2025-06-13T23:15:49Z'), (b'request-id', b'req_011CQ756fHZkgkZzbAhtM9ek'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'anthropic-organization-id', b'35fcb693-6b61-46ff-aa3d-f5e86c0b1467'), (b'via', b'1.1 google'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Robots-Tag', b'none'), (b'Server', b'cloudflare'), (b'CF-RAY', b'94f54ac5592ece5c-SJC'), (b'Content-Encoding', b'gzip')])
2025-06-13 16:15:54,357 - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-06-13 16:15:54,357 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-06-13 16:15:54,359 - DEBUG - receive_response_body.complete
2025-06-13 16:15:54,360 - DEBUG - response_closed.started
2025-06-13 16:15:54,360 - DEBUG - response_closed.complete
2025-06-13 16:15:54,360 - DEBUG - HTTP Response: POST https://api.anthropic.com/v1/messages "200 OK" Headers({'date': 'Fri, 13 Jun 2025 23:15:53 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'anthropic-ratelimit-input-tokens-limit': '80000', 'anthropic-ratelimit-input-tokens-remaining': '80000', 'anthropic-ratelimit-input-tokens-reset': '2025-06-13T23:15:49Z', 'anthropic-ratelimit-output-tokens-limit': '16000', 'anthropic-ratelimit-output-tokens-remaining': '16000', 'anthropic-ratelimit-output-tokens-reset': '2025-06-13T23:15:54Z', 'anthropic-ratelimit-requests-limit': '1000', 'anthropic-ratelimit-requests-remaining': '999', 'anthropic-ratelimit-requests-reset': '2025-06-13T23:15:48Z', 'anthropic-ratelimit-tokens-limit': '96000', 'anthropic-ratelimit-tokens-remaining': '96000', 'anthropic-ratelimit-tokens-reset': '2025-06-13T23:15:49Z', 'request-id': 'req_011CQ756fHZkgkZzbAhtM9ek', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'anthropic-organization-id': '35fcb693-6b61-46ff-aa3d-f5e86c0b1467', 'via': '1.1 google', 'cf-cache-status': 'DYNAMIC', 'x-robots-tag': 'none', 'server': 'cloudflare', 'cf-ray': '94f54ac5592ece5c-SJC', 'content-encoding': 'gzip'})
2025-06-13 16:15:54,360 - DEBUG - request_id: req_011CQ756fHZkgkZzbAhtM9ek
2025-06-13 16:15:54,361 - DEBUG - Successfully received response from Anthropic API
2025-06-13 16:15:54,362 - DEBUG - Response sent
2025-06-13 16:22:33,419 - DEBUG - Looking for .env file at: C:\Software-Projects\mcp-tutorial\weather\.env
2025-06-13 16:22:33,420 - DEBUG - Found .env file
2025-06-13 16:22:33,422 - DEBUG - Initializing server 'weather'
2025-06-13 16:22:33,422 - DEBUG - Registering handler for ListToolsRequest
2025-06-13 16:22:33,422 - DEBUG - Registering handler for CallToolRequest
2025-06-13 16:22:33,422 - DEBUG - Registering handler for ListResourcesRequest
2025-06-13 16:22:33,422 - DEBUG - Registering handler for ReadResourceRequest
2025-06-13 16:22:33,422 - DEBUG - Registering handler for PromptListRequest
2025-06-13 16:22:33,422 - DEBUG - Registering handler for GetPromptRequest
2025-06-13 16:22:33,422 - DEBUG - Registering handler for ListResourceTemplatesRequest
2025-06-13 16:22:33,425 - INFO - Starting weather server
2025-06-13 16:22:33,428 - DEBUG - Using proactor: IocpProactor
2025-06-13 16:22:33,435 - DEBUG - Received message: root=InitializedNotification(method='notifications/initialized', params=None, jsonrpc='2.0')
2025-06-13 16:22:33,435 - DEBUG - Received message: <mcp.shared.session.RequestResponder object at 0x000001FD8D7F27D0>
2025-06-13 16:22:33,435 - INFO - Processing request of type ListToolsRequest
2025-06-13 16:22:33,435 - DEBUG - Dispatching request of type ListToolsRequest
2025-06-13 16:22:33,436 - DEBUG - Response sent
2025-06-13 16:22:35,247 - DEBUG - Received message: <mcp.shared.session.RequestResponder object at 0x000001FD8DEFA850>
2025-06-13 16:22:35,247 - INFO - Processing request of type ListToolsRequest
2025-06-13 16:22:35,247 - DEBUG - Dispatching request of type ListToolsRequest
2025-06-13 16:22:35,247 - DEBUG - Response sent
2025-06-13 16:22:51,099 - DEBUG - Received message: <mcp.shared.session.RequestResponder object at 0x000001FD8D7F27D0>
2025-06-13 16:22:51,100 - INFO - Processing request of type ListToolsRequest
2025-06-13 16:22:51,100 - DEBUG - Dispatching request of type ListToolsRequest
2025-06-13 16:22:51,100 - DEBUG - Response sent
2025-06-13 16:22:54,124 - DEBUG - Received message: <mcp.shared.session.RequestResponder object at 0x000001FD8DEFB550>
2025-06-13 16:22:54,124 - INFO - Processing request of type CallToolRequest
2025-06-13 16:22:54,125 - DEBUG - Dispatching request of type CallToolRequest
2025-06-13 16:22:54,125 - INFO - Getting forecast for coordinates: 37.8857, -122.118
2025-06-13 16:22:54,125 - DEBUG - Making NWS request to: https://api.weather.gov/points/37.8857,-122.118
2025-06-13 16:22:54,151 - DEBUG - connect_tcp.started host='api.weather.gov' port=443 local_address=None timeout=30.0 socket_options=None
2025-06-13 16:22:54,201 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x000001FD8DE98250>
2025-06-13 16:22:54,201 - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x000001FD8DF46210> server_hostname='api.weather.gov' timeout=30.0
2025-06-13 16:22:54,232 - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x000001FD8DFA79D0>
2025-06-13 16:22:54,232 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-06-13 16:22:54,232 - DEBUG - send_request_headers.complete
2025-06-13 16:22:54,232 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-06-13 16:22:54,232 - DEBUG - send_request_body.complete
2025-06-13 16:22:54,232 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-06-13 16:22:54,267 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Server', b'nginx/1.20.1'), (b'Content-Type', b'application/geo+json'), (b'X-Powered-By', b'PHP/8.0.30'), (b'Access-Control-Allow-Origin', b'*'), (b'Access-Control-Expose-Headers', b'X-Correlation-Id, X-Request-Id, X-Server-Id'), (b'X-Request-ID', b'd802072b-259b-46e4-92ad-fcd3f930eb1d'), (b'X-Correlation-ID', b'1b93a668'), (b'X-Server-ID', b'vm-lnx-nids-apiapp13.ncep.noaa.gov'), (b'Content-Encoding', b'gzip'), (b'Content-Length', b'803'), (b'Cache-Control', b'public, max-age=85729, s-maxage=120'), (b'Expires', b'Sat, 14 Jun 2025 23:11:42 GMT'), (b'Date', b'Fri, 13 Jun 2025 23:22:53 GMT'), (b'Connection', b'keep-alive'), (b'Vary', b'Accept-Encoding'), (b'X-Edge-Request-ID', b'2dd2cc6f'), (b'Vary', b'Accept,Feature-Flags,Accept-Language'), (b'Strict-Transport-Security', b'max-age=31536000 ; includeSubDomains ; preload')])
2025-06-13 16:22:54,268 - INFO - HTTP Request: GET https://api.weather.gov/points/37.8857,-122.118 "HTTP/1.1 200 OK"
2025-06-13 16:22:54,268 - DEBUG - receive_response_body.started request=<Request [b'GET']>
2025-06-13 16:22:54,268 - DEBUG - receive_response_body.complete
2025-06-13 16:22:54,268 - DEBUG - response_closed.started
2025-06-13 16:22:54,268 - DEBUG - response_closed.complete
2025-06-13 16:22:54,269 - DEBUG - Successful response from NWS API: 200
2025-06-13 16:22:54,269 - DEBUG - close.started
2025-06-13 16:22:54,270 - DEBUG - close.complete
2025-06-13 16:22:54,270 - DEBUG - Making NWS request to: https://api.weather.gov/gridpoints/MTR/96,108/forecast
2025-06-13 16:22:54,282 - DEBUG - connect_tcp.started host='api.weather.gov' port=443 local_address=None timeout=30.0 socket_options=None
2025-06-13 16:22:54,294 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x000001FD8F316250>
2025-06-13 16:22:54,295 - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x000001FD8DF467B0> server_hostname='api.weather.gov' timeout=30.0
2025-06-13 16:22:54,324 - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x000001FD8F316350>
2025-06-13 16:22:54,324 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-06-13 16:22:54,325 - DEBUG - send_request_headers.complete
2025-06-13 16:22:54,325 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-06-13 16:22:54,325 - DEBUG - send_request_body.complete
2025-06-13 16:22:54,325 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-06-13 16:22:54,520 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Server', b'nginx/1.20.1'), (b'Content-Type', b'application/geo+json'), (b'X-Powered-By', b'PHP/8.0.30'), (b'Last-Modified', b'Fri, 13 Jun 2025 20:26:27 GMT'), (b'Access-Control-Allow-Origin', b'*'), (b'Access-Control-Expose-Headers', b'X-Correlation-Id, X-Request-Id, X-Server-Id'), (b'X-Request-ID', b'd379044b-3c91-48c4-b2a9-54e8379ad0ed'), (b'X-Correlation-ID', b'1988ed93'), (b'X-Server-ID', b'vm-lnx-nids-apiapp13.ncep.noaa.gov'), (b'Content-Encoding', b'gzip'), (b'Content-Length', b'1277'), (b'Cache-Control', b'public, max-age=900, s-maxage=3600'), (b'Expires', b'Fri, 13 Jun 2025 23:37:53 GMT'), (b'Date', b'Fri, 13 Jun 2025 23:22:53 GMT'), (b'Connection', b'keep-alive'), (b'Vary', b'Accept-Encoding'), (b'X-Edge-Request-ID', b'265df3ec'), (b'Vary', b'Accept,Feature-Flags,Accept-Language'), (b'Strict-Transport-Security', b'max-age=31536000 ; includeSubDomains ; preload')])
2025-06-13 16:22:54,520 - INFO - HTTP Request: GET https://api.weather.gov/gridpoints/MTR/96,108/forecast "HTTP/1.1 200 OK"
2025-06-13 16:22:54,520 - DEBUG - receive_response_body.started request=<Request [b'GET']>
2025-06-13 16:22:54,520 - DEBUG - receive_response_body.complete
2025-06-13 16:22:54,520 - DEBUG - response_closed.started
2025-06-13 16:22:54,520 - DEBUG - response_closed.complete
2025-06-13 16:22:54,520 - DEBUG - Successful response from NWS API: 200
2025-06-13 16:22:54,520 - DEBUG - close.started
2025-06-13 16:22:54,520 - DEBUG - close.complete
2025-06-13 16:22:54,520 - DEBUG - Forecast data structure: dict_keys(['@context', 'type', 'geometry', 'properties'])
2025-06-13 16:22:54,522 - DEBUG - Forecast properties structure: dict_keys(['units', 'forecastGenerator', 'generatedAt', 'updateTime', 'validTimes', 'elevation', 'periods'])
2025-06-13 16:22:54,522 - INFO - Successfully retrieved forecast for coordinates: 37.8857, -122.118
2025-06-13 16:22:54,522 - DEBUG - Response sent
2025-06-13 16:22:54,524 - DEBUG - Received message: <mcp.shared.session.RequestResponder object at 0x000001FD8DE9A650>
2025-06-13 16:22:54,525 - INFO - Processing request of type CallToolRequest
2025-06-13 16:22:54,525 - DEBUG - Dispatching request of type CallToolRequest
2025-06-13 16:22:54,525 - INFO - Getting outfit based on weather forecast
2025-06-13 16:22:54,525 - DEBUG - Successfully loaded Anthropic API key
2025-06-13 16:22:54,532 - DEBUG - Successfully created Anthropic client
2025-06-13 16:22:54,532 - DEBUG - Sending request to Anthropic API
2025-06-13 16:22:54,533 - DEBUG - Request options: {'method': 'post', 'url': '/v1/messages', 'timeout': Timeout(connect=5.0, read=600, write=600, pool=600), 'files': None, 'idempotency_key': 'stainless-python-retry-fcdf359d-680f-44da-93c9-6d10aae8a709', 'json_data': {'max_tokens': 1000, 'messages': [{'role': 'user', 'content': "\n        Based on the following weather forecast, suggest an appropriate outfit:\n        \n        [TextContent(type='text', text='\\n            This Afternoon:\\n            Temperature: 74F\\n            Wind: 13 mph SW\\n            Forecast: Sunny. High near 74, with temperatures falling to around 72 in the afternoon. Southwest wind around 13 mph.\\n\\n---\\n\\n            Tonight:\\n            Temperature: 50F\\n            Wind: 12 mph SW\\n            Forecast: Mostly clear, with a low around 50. Southwest wind around 12 mph.\\n\\n---\\n\\n            Saturday:\\n            Temperature: 73F\\n            Wind: 8 to 12 mph SW\\n            Forecast: Mostly sunny, with a high near 73. Southwest wind 8 to 12 mph.\\n\\n---\\n\\n            Saturday Night:\\n            Temperature: 50F\\n            Wind: 12 mph SW\\n            Forecast: Mostly clear, with a low around 50. Southwest wind around 12 mph.\\n\\n---\\n\\n            Sunday:\\n            Temperature: 75F\\n            Wind: 12 mph SW\\n            Forecast: Sunny, with a high near 75. Southwest wind around 12 mph.\\n', annotations=None)]\n        \n        Please provide specific clothing recommendations based on the temperature, wind conditions, and forecast.\n        "}], 'model': 'claude-3-5-sonnet-20241022'}}
2025-06-13 16:22:54,596 - DEBUG - Sending HTTP Request: POST https://api.anthropic.com/v1/messages
2025-06-13 16:22:54,596 - DEBUG - connect_tcp.started host='api.anthropic.com' port=443 local_address=None timeout=5.0 socket_options=[(65535, 8, True), (6, 17, 60), (6, 16, 5), (6, 3, 60)]
2025-06-13 16:22:54,632 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000001FD8F322290>
2025-06-13 16:22:54,632 - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x000001FD8DF462A0> server_hostname='api.anthropic.com' timeout=5.0
2025-06-13 16:22:54,656 - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000001FD8DEF9B50>
2025-06-13 16:22:54,656 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-06-13 16:22:54,656 - DEBUG - send_request_headers.complete
2025-06-13 16:22:54,656 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-06-13 16:22:54,658 - DEBUG - send_request_body.complete
2025-06-13 16:22:54,658 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-06-13 16:23:00,209 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Fri, 13 Jun 2025 23:22:59 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'anthropic-ratelimit-input-tokens-limit', b'80000'), (b'anthropic-ratelimit-input-tokens-remaining', b'80000'), (b'anthropic-ratelimit-input-tokens-reset', b'2025-06-13T23:22:54Z'), (b'anthropic-ratelimit-output-tokens-limit', b'16000'), (b'anthropic-ratelimit-output-tokens-remaining', b'16000'), (b'anthropic-ratelimit-output-tokens-reset', b'2025-06-13T23:23:00Z'), (b'anthropic-ratelimit-requests-limit', b'1000'), (b'anthropic-ratelimit-requests-remaining', b'999'), (b'anthropic-ratelimit-requests-reset', b'2025-06-13T23:22:53Z'), (b'anthropic-ratelimit-tokens-limit', b'96000'), (b'anthropic-ratelimit-tokens-remaining', b'96000'), (b'anthropic-ratelimit-tokens-reset', b'2025-06-13T23:22:54Z'), (b'request-id', b'req_011CQ75dzruQMbSoKAAmmgPA'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'anthropic-organization-id', b'35fcb693-6b61-46ff-aa3d-f5e86c0b1467'), (b'via', b'1.1 google'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Robots-Tag', b'none'), (b'Server', b'cloudflare'), (b'CF-RAY', b'94f555265b2ff9e4-SJC'), (b'Content-Encoding', b'gzip')])
2025-06-13 16:23:00,210 - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-06-13 16:23:00,210 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-06-13 16:23:00,211 - DEBUG - receive_response_body.complete
2025-06-13 16:23:00,211 - DEBUG - response_closed.started
2025-06-13 16:23:00,211 - DEBUG - response_closed.complete
2025-06-13 16:23:00,211 - DEBUG - HTTP Response: POST https://api.anthropic.com/v1/messages "200 OK" Headers({'date': 'Fri, 13 Jun 2025 23:22:59 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'anthropic-ratelimit-input-tokens-limit': '80000', 'anthropic-ratelimit-input-tokens-remaining': '80000', 'anthropic-ratelimit-input-tokens-reset': '2025-06-13T23:22:54Z', 'anthropic-ratelimit-output-tokens-limit': '16000', 'anthropic-ratelimit-output-tokens-remaining': '16000', 'anthropic-ratelimit-output-tokens-reset': '2025-06-13T23:23:00Z', 'anthropic-ratelimit-requests-limit': '1000', 'anthropic-ratelimit-requests-remaining': '999', 'anthropic-ratelimit-requests-reset': '2025-06-13T23:22:53Z', 'anthropic-ratelimit-tokens-limit': '96000', 'anthropic-ratelimit-tokens-remaining': '96000', 'anthropic-ratelimit-tokens-reset': '2025-06-13T23:22:54Z', 'request-id': 'req_011CQ75dzruQMbSoKAAmmgPA', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'anthropic-organization-id': '35fcb693-6b61-46ff-aa3d-f5e86c0b1467', 'via': '1.1 google', 'cf-cache-status': 'DYNAMIC', 'x-robots-tag': 'none', 'server': 'cloudflare', 'cf-ray': '94f555265b2ff9e4-SJC', 'content-encoding': 'gzip'})
2025-06-13 16:23:00,212 - DEBUG - request_id: req_011CQ75dzruQMbSoKAAmmgPA
2025-06-13 16:23:00,221 - DEBUG - Successfully received response from Anthropic API
2025-06-13 16:23:00,221 - DEBUG - Response sent
2025-06-13 16:35:58,215 - DEBUG - Looking for .env file at: C:\Software-Projects\mcp-tutorial\weather\.env
2025-06-13 16:35:58,215 - DEBUG - Found .env file
2025-06-13 16:35:58,218 - DEBUG - Initializing server 'weather'
2025-06-13 16:35:58,218 - DEBUG - Registering handler for ListToolsRequest
2025-06-13 16:35:58,218 - DEBUG - Registering handler for CallToolRequest
2025-06-13 16:35:58,218 - DEBUG - Registering handler for ListResourcesRequest
2025-06-13 16:35:58,218 - DEBUG - Registering handler for ReadResourceRequest
2025-06-13 16:35:58,218 - DEBUG - Registering handler for PromptListRequest
2025-06-13 16:35:58,218 - DEBUG - Registering handler for GetPromptRequest
2025-06-13 16:35:58,218 - DEBUG - Registering handler for ListResourceTemplatesRequest
2025-06-13 16:35:58,220 - INFO - Starting weather server
2025-06-13 16:35:58,226 - DEBUG - Using proactor: IocpProactor
2025-06-13 16:35:58,232 - DEBUG - Received message: root=InitializedNotification(method='notifications/initialized', params=None, jsonrpc='2.0')
2025-06-13 16:35:58,232 - DEBUG - Received message: <mcp.shared.session.RequestResponder object at 0x0000017BA6D927D0>
2025-06-13 16:35:58,233 - INFO - Processing request of type ListToolsRequest
2025-06-13 16:35:58,233 - DEBUG - Dispatching request of type ListToolsRequest
2025-06-13 16:35:58,233 - DEBUG - Response sent
2025-06-13 16:36:00,363 - DEBUG - Received message: <mcp.shared.session.RequestResponder object at 0x0000017BA74305D0>
2025-06-13 16:36:00,363 - INFO - Processing request of type ListToolsRequest
2025-06-13 16:36:00,363 - DEBUG - Dispatching request of type ListToolsRequest
2025-06-13 16:36:00,363 - DEBUG - Response sent
2025-06-13 16:36:14,621 - DEBUG - Received message: <mcp.shared.session.RequestResponder object at 0x0000017BA748B010>
2025-06-13 16:36:14,621 - INFO - Processing request of type ListToolsRequest
2025-06-13 16:36:14,621 - DEBUG - Dispatching request of type ListToolsRequest
2025-06-13 16:36:14,622 - DEBUG - Response sent
2025-06-13 16:37:06,151 - DEBUG - Looking for .env file at: C:\Software-Projects\mcp-tutorial\weather\.env
2025-06-13 16:37:06,152 - DEBUG - Found .env file
2025-06-13 16:37:06,154 - DEBUG - Initializing server 'weather'
2025-06-13 16:37:06,154 - DEBUG - Registering handler for ListToolsRequest
2025-06-13 16:37:06,154 - DEBUG - Registering handler for CallToolRequest
2025-06-13 16:37:06,154 - DEBUG - Registering handler for ListResourcesRequest
2025-06-13 16:37:06,154 - DEBUG - Registering handler for ReadResourceRequest
2025-06-13 16:37:06,156 - DEBUG - Registering handler for PromptListRequest
2025-06-13 16:37:06,156 - DEBUG - Registering handler for GetPromptRequest
2025-06-13 16:37:06,156 - DEBUG - Registering handler for ListResourceTemplatesRequest
2025-06-13 16:37:06,157 - INFO - Starting weather server
2025-06-13 16:37:06,161 - DEBUG - Using proactor: IocpProactor
2025-06-13 16:37:06,167 - DEBUG - Received message: root=InitializedNotification(method='notifications/initialized', params=None, jsonrpc='2.0')
2025-06-13 16:37:06,167 - DEBUG - Received message: <mcp.shared.session.RequestResponder object at 0x00000239242027D0>
2025-06-13 16:37:06,167 - INFO - Processing request of type ListToolsRequest
2025-06-13 16:37:06,167 - DEBUG - Dispatching request of type ListToolsRequest
2025-06-13 16:37:06,168 - DEBUG - Response sent
2025-06-13 16:37:10,415 - DEBUG - Received message: <mcp.shared.session.RequestResponder object at 0x0000023924894910>
2025-06-13 16:37:10,415 - INFO - Processing request of type ListToolsRequest
2025-06-13 16:37:10,415 - DEBUG - Dispatching request of type ListToolsRequest
2025-06-13 16:37:10,415 - DEBUG - Response sent
2025-06-13 16:37:20,205 - DEBUG - Received message: <mcp.shared.session.RequestResponder object at 0x00000239248FB1D0>
2025-06-13 16:37:20,205 - INFO - Processing request of type ListToolsRequest
2025-06-13 16:37:20,205 - DEBUG - Dispatching request of type ListToolsRequest
2025-06-13 16:37:20,205 - DEBUG - Response sent
2025-06-13 16:37:34,460 - DEBUG - Received message: <mcp.shared.session.RequestResponder object at 0x000002392490B890>
2025-06-13 16:37:34,461 - INFO - Processing request of type ListToolsRequest
2025-06-13 16:37:34,461 - DEBUG - Dispatching request of type ListToolsRequest
2025-06-13 16:37:34,461 - DEBUG - Response sent
2025-06-13 16:37:37,340 - DEBUG - Received message: <mcp.shared.session.RequestResponder object at 0x0000023924908150>
2025-06-13 16:37:37,340 - INFO - Processing request of type CallToolRequest
2025-06-13 16:37:37,341 - DEBUG - Dispatching request of type CallToolRequest
2025-06-13 16:37:37,341 - INFO - Getting forecast for coordinates: 37.8857, -122.118
2025-06-13 16:37:37,341 - DEBUG - Making NWS request to: https://api.weather.gov/points/37.8857,-122.118
2025-06-13 16:37:37,375 - DEBUG - connect_tcp.started host='api.weather.gov' port=443 local_address=None timeout=30.0 socket_options=None
2025-06-13 16:37:37,422 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x00000239248A8250>
2025-06-13 16:37:37,422 - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x000002392495A210> server_hostname='api.weather.gov' timeout=30.0
2025-06-13 16:37:37,452 - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x00000239249147D0>
2025-06-13 16:37:37,452 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-06-13 16:37:37,453 - DEBUG - send_request_headers.complete
2025-06-13 16:37:37,453 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-06-13 16:37:37,453 - DEBUG - send_request_body.complete
2025-06-13 16:37:37,453 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-06-13 16:37:37,480 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Server', b'nginx/1.20.1'), (b'Content-Type', b'application/geo+json'), (b'X-Powered-By', b'PHP/8.0.30'), (b'Access-Control-Allow-Origin', b'*'), (b'Access-Control-Expose-Headers', b'X-Correlation-Id, X-Request-Id, X-Server-Id'), (b'X-Request-ID', b'd802072b-259b-46e4-92ad-fcd3f930eb1d'), (b'X-Correlation-ID', b'1b93a668'), (b'X-Server-ID', b'vm-lnx-nids-apiapp13.ncep.noaa.gov'), (b'Content-Encoding', b'gzip'), (b'Content-Length', b'803'), (b'Cache-Control', b'public, max-age=84846, s-maxage=120'), (b'Expires', b'Sat, 14 Jun 2025 23:11:42 GMT'), (b'Date', b'Fri, 13 Jun 2025 23:37:36 GMT'), (b'Connection', b'keep-alive'), (b'Vary', b'Accept-Encoding'), (b'X-Edge-Request-ID', b'266f89f7'), (b'Vary', b'Accept,Feature-Flags,Accept-Language'), (b'Strict-Transport-Security', b'max-age=31536000 ; includeSubDomains ; preload')])
2025-06-13 16:37:37,480 - INFO - HTTP Request: GET https://api.weather.gov/points/37.8857,-122.118 "HTTP/1.1 200 OK"
2025-06-13 16:37:37,480 - DEBUG - receive_response_body.started request=<Request [b'GET']>
2025-06-13 16:37:37,480 - DEBUG - receive_response_body.complete
2025-06-13 16:37:37,481 - DEBUG - response_closed.started
2025-06-13 16:37:37,481 - DEBUG - response_closed.complete
2025-06-13 16:37:37,481 - DEBUG - Successful response from NWS API: 200
2025-06-13 16:37:37,481 - DEBUG - close.started
2025-06-13 16:37:37,482 - DEBUG - close.complete
2025-06-13 16:37:37,482 - DEBUG - Making NWS request to: https://api.weather.gov/gridpoints/MTR/96,108/forecast
2025-06-13 16:37:37,489 - DEBUG - connect_tcp.started host='api.weather.gov' port=443 local_address=None timeout=30.0 socket_options=None
2025-06-13 16:37:37,507 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x0000023925D26390>
2025-06-13 16:37:37,507 - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x000002392495A7B0> server_hostname='api.weather.gov' timeout=30.0
2025-06-13 16:37:37,539 - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x0000023925D26490>
2025-06-13 16:37:37,539 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-06-13 16:37:37,539 - DEBUG - send_request_headers.complete
2025-06-13 16:37:37,539 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-06-13 16:37:37,540 - DEBUG - send_request_body.complete
2025-06-13 16:37:37,540 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-06-13 16:37:37,568 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Server', b'nginx/1.20.1'), (b'Content-Type', b'application/geo+json'), (b'X-Powered-By', b'PHP/8.0.30'), (b'Last-Modified', b'Fri, 13 Jun 2025 20:26:27 GMT'), (b'Access-Control-Allow-Origin', b'*'), (b'Access-Control-Expose-Headers', b'X-Correlation-Id, X-Request-Id, X-Server-Id'), (b'X-Request-ID', b'd379044b-3c91-48c4-b2a9-54e8379ad0ed'), (b'X-Correlation-ID', b'1988ed93'), (b'X-Server-ID', b'vm-lnx-nids-apiapp13.ncep.noaa.gov'), (b'Content-Encoding', b'gzip'), (b'Content-Length', b'1277'), (b'Cache-Control', b'public, max-age=17, s-maxage=3600'), (b'Expires', b'Fri, 13 Jun 2025 23:37:53 GMT'), (b'Date', b'Fri, 13 Jun 2025 23:37:36 GMT'), (b'Connection', b'keep-alive'), (b'Vary', b'Accept-Encoding'), (b'X-Edge-Request-ID', b'2e0a277e'), (b'Vary', b'Accept,Feature-Flags,Accept-Language'), (b'Strict-Transport-Security', b'max-age=31536000 ; includeSubDomains ; preload')])
2025-06-13 16:37:37,569 - INFO - HTTP Request: GET https://api.weather.gov/gridpoints/MTR/96,108/forecast "HTTP/1.1 200 OK"
2025-06-13 16:37:37,569 - DEBUG - receive_response_body.started request=<Request [b'GET']>
2025-06-13 16:37:37,570 - DEBUG - receive_response_body.complete
2025-06-13 16:37:37,570 - DEBUG - response_closed.started
2025-06-13 16:37:37,570 - DEBUG - response_closed.complete
2025-06-13 16:37:37,571 - DEBUG - Successful response from NWS API: 200
2025-06-13 16:37:37,572 - DEBUG - close.started
2025-06-13 16:37:37,572 - DEBUG - close.complete
2025-06-13 16:37:37,572 - DEBUG - Forecast data structure: dict_keys(['@context', 'type', 'geometry', 'properties'])
2025-06-13 16:37:37,573 - DEBUG - Forecast properties structure: dict_keys(['units', 'forecastGenerator', 'generatedAt', 'updateTime', 'validTimes', 'elevation', 'periods'])
2025-06-13 16:37:37,573 - INFO - Successfully retrieved forecast for coordinates: 37.8857, -122.118
2025-06-13 16:37:37,574 - DEBUG - Response sent
2025-06-13 16:37:37,578 - DEBUG - Received message: <mcp.shared.session.RequestResponder object at 0x0000023924894910>
2025-06-13 16:37:37,578 - INFO - Processing request of type CallToolRequest
2025-06-13 16:37:37,578 - DEBUG - Dispatching request of type CallToolRequest
2025-06-13 16:37:37,579 - INFO - Getting outfit based on weather forecast
2025-06-13 16:37:37,579 - DEBUG - Successfully loaded Anthropic API key
2025-06-13 16:37:37,594 - DEBUG - Successfully created Anthropic client
2025-06-13 16:37:37,594 - DEBUG - Sending request to Anthropic API
2025-06-13 16:37:37,595 - DEBUG - Request options: {'method': 'post', 'url': '/v1/messages', 'timeout': Timeout(connect=5.0, read=600, write=600, pool=600), 'files': None, 'idempotency_key': 'stainless-python-retry-8e4d766e-9dcd-4bdf-abac-c7556c70642d', 'json_data': {'max_tokens': 1000, 'messages': [{'role': 'user', 'content': "\n        Based on the following weather forecast, suggest an appropriate outfit:\n        \n        [TextContent(type='text', text='\\n            This Afternoon:\\n            Temperature: 74F\\n            Wind: 13 mph SW\\n            Forecast: Sunny. High near 74, with temperatures falling to around 72 in the afternoon. Southwest wind around 13 mph.\\n\\n---\\n\\n            Tonight:\\n            Temperature: 50F\\n            Wind: 12 mph SW\\n            Forecast: Mostly clear, with a low around 50. Southwest wind around 12 mph.\\n\\n---\\n\\n            Saturday:\\n            Temperature: 73F\\n            Wind: 8 to 12 mph SW\\n            Forecast: Mostly sunny, with a high near 73. Southwest wind 8 to 12 mph.\\n\\n---\\n\\n            Saturday Night:\\n            Temperature: 50F\\n            Wind: 12 mph SW\\n            Forecast: Mostly clear, with a low around 50. Southwest wind around 12 mph.\\n\\n---\\n\\n            Sunday:\\n            Temperature: 75F\\n            Wind: 12 mph SW\\n            Forecast: Sunny, with a high near 75. Southwest wind around 12 mph.\\n', annotations=None)]\n        \n        Please provide specific clothing recommendations based on the temperature, wind conditions, and forecast.\n        "}], 'model': 'claude-3-5-sonnet-20241022'}}
2025-06-13 16:37:37,646 - DEBUG - Sending HTTP Request: POST https://api.anthropic.com/v1/messages
2025-06-13 16:37:37,646 - DEBUG - connect_tcp.started host='api.anthropic.com' port=443 local_address=None timeout=5.0 socket_options=[(65535, 8, True), (6, 17, 60), (6, 16, 5), (6, 3, 60)]
2025-06-13 16:37:37,681 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x0000023924909450>
2025-06-13 16:37:37,681 - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x000002392495A2A0> server_hostname='api.anthropic.com' timeout=5.0
2025-06-13 16:37:37,707 - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000002392487F610>
2025-06-13 16:37:37,707 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-06-13 16:37:37,708 - DEBUG - send_request_headers.complete
2025-06-13 16:37:37,708 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-06-13 16:37:37,708 - DEBUG - send_request_body.complete
2025-06-13 16:37:37,708 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-06-13 16:37:43,409 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Fri, 13 Jun 2025 23:37:42 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'anthropic-ratelimit-input-tokens-limit', b'80000'), (b'anthropic-ratelimit-input-tokens-remaining', b'80000'), (b'anthropic-ratelimit-input-tokens-reset', b'2025-06-13T23:37:37Z'), (b'anthropic-ratelimit-output-tokens-limit', b'16000'), (b'anthropic-ratelimit-output-tokens-remaining', b'16000'), (b'anthropic-ratelimit-output-tokens-reset', b'2025-06-13T23:37:43Z'), (b'anthropic-ratelimit-requests-limit', b'1000'), (b'anthropic-ratelimit-requests-remaining', b'999'), (b'anthropic-ratelimit-requests-reset', b'2025-06-13T23:37:37Z'), (b'anthropic-ratelimit-tokens-limit', b'96000'), (b'anthropic-ratelimit-tokens-remaining', b'96000'), (b'anthropic-ratelimit-tokens-reset', b'2025-06-13T23:37:37Z'), (b'request-id', b'req_011CQ76m6GuYtEk3rqrZeRH3'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'anthropic-organization-id', b'35fcb693-6b61-46ff-aa3d-f5e86c0b1467'), (b'via', b'1.1 google'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Robots-Tag', b'none'), (b'Server', b'cloudflare'), (b'CF-RAY', b'94f56ab56d5febe3-SJC'), (b'Content-Encoding', b'gzip')])
2025-06-13 16:37:43,410 - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-06-13 16:37:43,410 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-06-13 16:37:43,410 - DEBUG - receive_response_body.complete
2025-06-13 16:37:43,410 - DEBUG - response_closed.started
2025-06-13 16:37:43,410 - DEBUG - response_closed.complete
2025-06-13 16:37:43,410 - DEBUG - HTTP Response: POST https://api.anthropic.com/v1/messages "200 OK" Headers({'date': 'Fri, 13 Jun 2025 23:37:42 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'anthropic-ratelimit-input-tokens-limit': '80000', 'anthropic-ratelimit-input-tokens-remaining': '80000', 'anthropic-ratelimit-input-tokens-reset': '2025-06-13T23:37:37Z', 'anthropic-ratelimit-output-tokens-limit': '16000', 'anthropic-ratelimit-output-tokens-remaining': '16000', 'anthropic-ratelimit-output-tokens-reset': '2025-06-13T23:37:43Z', 'anthropic-ratelimit-requests-limit': '1000', 'anthropic-ratelimit-requests-remaining': '999', 'anthropic-ratelimit-requests-reset': '2025-06-13T23:37:37Z', 'anthropic-ratelimit-tokens-limit': '96000', 'anthropic-ratelimit-tokens-remaining': '96000', 'anthropic-ratelimit-tokens-reset': '2025-06-13T23:37:37Z', 'request-id': 'req_011CQ76m6GuYtEk3rqrZeRH3', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'anthropic-organization-id': '35fcb693-6b61-46ff-aa3d-f5e86c0b1467', 'via': '1.1 google', 'cf-cache-status': 'DYNAMIC', 'x-robots-tag': 'none', 'server': 'cloudflare', 'cf-ray': '94f56ab56d5febe3-SJC', 'content-encoding': 'gzip'})
2025-06-13 16:37:43,410 - DEBUG - request_id: req_011CQ76m6GuYtEk3rqrZeRH3
2025-06-13 16:37:43,415 - DEBUG - Successfully received response from Anthropic API
2025-06-13 16:37:43,416 - DEBUG - Response sent
2025-06-13 16:38:50,905 - DEBUG - Looking for .env file at: C:\Software-Projects\mcp-tutorial\weather\.env
2025-06-13 16:38:50,906 - DEBUG - Found .env file
2025-06-13 16:38:50,908 - DEBUG - Initializing server 'weather'
2025-06-13 16:38:50,908 - DEBUG - Registering handler for ListToolsRequest
2025-06-13 16:38:50,908 - DEBUG - Registering handler for CallToolRequest
2025-06-13 16:38:50,908 - DEBUG - Registering handler for ListResourcesRequest
2025-06-13 16:38:50,908 - DEBUG - Registering handler for ReadResourceRequest
2025-06-13 16:38:50,908 - DEBUG - Registering handler for PromptListRequest
2025-06-13 16:38:50,908 - DEBUG - Registering handler for GetPromptRequest
2025-06-13 16:38:50,908 - DEBUG - Registering handler for ListResourceTemplatesRequest
2025-06-13 16:38:50,910 - INFO - Starting weather server
2025-06-13 16:38:50,913 - DEBUG - Using proactor: IocpProactor
2025-06-13 16:38:50,919 - DEBUG - Received message: root=InitializedNotification(method='notifications/initialized', params=None, jsonrpc='2.0')
2025-06-13 16:38:50,920 - DEBUG - Received message: <mcp.shared.session.RequestResponder object at 0x0000023A662B2810>
2025-06-13 16:38:50,920 - INFO - Processing request of type ListToolsRequest
2025-06-13 16:38:50,920 - DEBUG - Dispatching request of type ListToolsRequest
2025-06-13 16:38:50,920 - DEBUG - Response sent
2025-06-13 16:38:55,026 - DEBUG - Received message: <mcp.shared.session.RequestResponder object at 0x0000023A66953B50>
2025-06-13 16:38:55,026 - INFO - Processing request of type ListToolsRequest
2025-06-13 16:38:55,026 - DEBUG - Dispatching request of type ListToolsRequest
2025-06-13 16:38:55,026 - DEBUG - Response sent
2025-06-13 16:39:00,100 - DEBUG - Received message: <mcp.shared.session.RequestResponder object at 0x0000023A662B27D0>
2025-06-13 16:39:00,100 - INFO - Processing request of type ListToolsRequest
2025-06-13 16:39:00,100 - DEBUG - Dispatching request of type ListToolsRequest
2025-06-13 16:39:00,100 - DEBUG - Response sent
2025-06-13 16:39:10,054 - DEBUG - Received message: <mcp.shared.session.RequestResponder object at 0x0000023A669AB490>
2025-06-13 16:39:10,054 - INFO - Processing request of type ListToolsRequest
2025-06-13 16:39:10,054 - DEBUG - Dispatching request of type ListToolsRequest
2025-06-13 16:39:10,054 - DEBUG - Response sent
2025-06-13 16:39:13,643 - DEBUG - Received message: <mcp.shared.session.RequestResponder object at 0x0000023A662B27D0>
2025-06-13 16:39:13,644 - INFO - Processing request of type CallToolRequest
2025-06-13 16:39:13,644 - DEBUG - Dispatching request of type CallToolRequest
2025-06-13 16:39:13,645 - INFO - Getting forecast for coordinates: 37.8857, -122.118
2025-06-13 16:39:13,645 - DEBUG - Making NWS request to: https://api.weather.gov/points/37.8857,-122.118
2025-06-13 16:39:13,680 - DEBUG - connect_tcp.started host='api.weather.gov' port=443 local_address=None timeout=30.0 socket_options=None
2025-06-13 16:39:13,726 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x0000023A669AAF50>
2025-06-13 16:39:13,726 - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x0000023A66A0A210> server_hostname='api.weather.gov' timeout=30.0
2025-06-13 16:39:13,763 - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x0000023A66945290>
2025-06-13 16:39:13,764 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-06-13 16:39:13,764 - DEBUG - send_request_headers.complete
2025-06-13 16:39:13,764 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-06-13 16:39:13,764 - DEBUG - send_request_body.complete
2025-06-13 16:39:13,764 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-06-13 16:39:13,787 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Server', b'nginx/1.20.1'), (b'Content-Type', b'application/geo+json'), (b'X-Powered-By', b'PHP/8.0.30'), (b'Access-Control-Allow-Origin', b'*'), (b'Access-Control-Expose-Headers', b'X-Correlation-Id, X-Request-Id, X-Server-Id'), (b'X-Request-ID', b'd802072b-259b-46e4-92ad-fcd3f930eb1d'), (b'X-Correlation-ID', b'1b93a668'), (b'X-Server-ID', b'vm-lnx-nids-apiapp13.ncep.noaa.gov'), (b'Content-Encoding', b'gzip'), (b'Content-Length', b'803'), (b'Cache-Control', b'public, max-age=84750, s-maxage=120'), (b'Expires', b'Sat, 14 Jun 2025 23:11:42 GMT'), (b'Date', b'Fri, 13 Jun 2025 23:39:12 GMT'), (b'Connection', b'keep-alive'), (b'Vary', b'Accept-Encoding'), (b'X-Edge-Request-ID', b'26716fde'), (b'Vary', b'Accept,Feature-Flags,Accept-Language'), (b'Strict-Transport-Security', b'max-age=31536000 ; includeSubDomains ; preload')])
2025-06-13 16:39:13,788 - INFO - HTTP Request: GET https://api.weather.gov/points/37.8857,-122.118 "HTTP/1.1 200 OK"
2025-06-13 16:39:13,788 - DEBUG - receive_response_body.started request=<Request [b'GET']>
2025-06-13 16:39:13,788 - DEBUG - receive_response_body.complete
2025-06-13 16:39:13,788 - DEBUG - response_closed.started
2025-06-13 16:39:13,788 - DEBUG - response_closed.complete
2025-06-13 16:39:13,788 - DEBUG - Successful response from NWS API: 200
2025-06-13 16:39:13,789 - DEBUG - close.started
2025-06-13 16:39:13,789 - DEBUG - close.complete
2025-06-13 16:39:13,789 - DEBUG - Making NWS request to: https://api.weather.gov/gridpoints/MTR/96,108/forecast
2025-06-13 16:39:13,796 - DEBUG - connect_tcp.started host='api.weather.gov' port=443 local_address=None timeout=30.0 socket_options=None
2025-06-13 16:39:13,814 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x0000023A67DD62D0>
2025-06-13 16:39:13,814 - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x0000023A66A0A7B0> server_hostname='api.weather.gov' timeout=30.0
2025-06-13 16:39:13,843 - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x0000023A67DD63D0>
2025-06-13 16:39:13,843 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-06-13 16:39:13,843 - DEBUG - send_request_headers.complete
2025-06-13 16:39:13,843 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-06-13 16:39:13,843 - DEBUG - send_request_body.complete
2025-06-13 16:39:13,843 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-06-13 16:39:13,872 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Server', b'nginx/1.20.1'), (b'Content-Type', b'application/geo+json'), (b'X-Powered-By', b'PHP/8.0.30'), (b'Last-Modified', b'Fri, 13 Jun 2025 20:26:27 GMT'), (b'Access-Control-Allow-Origin', b'*'), (b'Access-Control-Expose-Headers', b'X-Correlation-Id, X-Request-Id, X-Server-Id'), (b'X-Request-ID', b'd379044b-3c91-48c4-b2a9-54e8379ad0ed'), (b'X-Correlation-ID', b'1988ed93'), (b'X-Server-ID', b'vm-lnx-nids-apiapp13.ncep.noaa.gov'), (b'Content-Encoding', b'gzip'), (b'Content-Length', b'1277'), (b'Cache-Control', b'public, max-age=803, s-maxage=3600'), (b'Expires', b'Fri, 13 Jun 2025 23:52:36 GMT'), (b'Date', b'Fri, 13 Jun 2025 23:39:13 GMT'), (b'Connection', b'keep-alive'), (b'Vary', b'Accept-Encoding'), (b'X-Edge-Request-ID', b'2e10743a'), (b'Vary', b'Accept,Feature-Flags,Accept-Language'), (b'Strict-Transport-Security', b'max-age=31536000 ; includeSubDomains ; preload')])
2025-06-13 16:39:13,873 - INFO - HTTP Request: GET https://api.weather.gov/gridpoints/MTR/96,108/forecast "HTTP/1.1 200 OK"
2025-06-13 16:39:13,873 - DEBUG - receive_response_body.started request=<Request [b'GET']>
2025-06-13 16:39:13,873 - DEBUG - receive_response_body.complete
2025-06-13 16:39:13,873 - DEBUG - response_closed.started
2025-06-13 16:39:13,873 - DEBUG - response_closed.complete
2025-06-13 16:39:13,873 - DEBUG - Successful response from NWS API: 200
2025-06-13 16:39:13,873 - DEBUG - close.started
2025-06-13 16:39:13,875 - DEBUG - close.complete
2025-06-13 16:39:13,875 - DEBUG - Forecast data structure: dict_keys(['@context', 'type', 'geometry', 'properties'])
2025-06-13 16:39:13,875 - DEBUG - Forecast properties structure: dict_keys(['units', 'forecastGenerator', 'generatedAt', 'updateTime', 'validTimes', 'elevation', 'periods'])
2025-06-13 16:39:13,875 - INFO - Successfully retrieved forecast for coordinates: 37.8857, -122.118
2025-06-13 16:39:13,875 - DEBUG - Response sent
2025-06-13 16:39:13,878 - DEBUG - Received message: <mcp.shared.session.RequestResponder object at 0x0000023A669C4590>
2025-06-13 16:39:13,878 - INFO - Processing request of type CallToolRequest
2025-06-13 16:39:13,878 - DEBUG - Dispatching request of type CallToolRequest
2025-06-13 16:39:13,878 - INFO - Getting outfit based on weather forecast
2025-06-13 16:39:13,878 - DEBUG - Successfully loaded Anthropic API key
2025-06-13 16:39:13,890 - DEBUG - Successfully created Anthropic client
2025-06-13 16:39:13,890 - DEBUG - Sending request to Anthropic API
2025-06-13 16:39:13,891 - DEBUG - Request options: {'method': 'post', 'url': '/v1/messages', 'timeout': Timeout(connect=5.0, read=600, write=600, pool=600), 'files': None, 'idempotency_key': 'stainless-python-retry-7ba99baa-4427-40a3-8756-6c7166b8369b', 'json_data': {'max_tokens': 1000, 'messages': [{'role': 'user', 'content': "\n        Based on the following weather forecast, suggest an appropriate outfit:\n        \n        [TextContent(type='text', text='\\n            This Afternoon:\\n            Temperature: 74F\\n            Wind: 13 mph SW\\n            Forecast: Sunny. High near 74, with temperatures falling to around 72 in the afternoon. Southwest wind around 13 mph.\\n\\n---\\n\\n            Tonight:\\n            Temperature: 50F\\n            Wind: 12 mph SW\\n            Forecast: Mostly clear, with a low around 50. Southwest wind around 12 mph.\\n\\n---\\n\\n            Saturday:\\n            Temperature: 73F\\n            Wind: 8 to 12 mph SW\\n            Forecast: Mostly sunny, with a high near 73. Southwest wind 8 to 12 mph.\\n\\n---\\n\\n            Saturday Night:\\n            Temperature: 50F\\n            Wind: 12 mph SW\\n            Forecast: Mostly clear, with a low around 50. Southwest wind around 12 mph.\\n\\n---\\n\\n            Sunday:\\n            Temperature: 75F\\n            Wind: 12 mph SW\\n            Forecast: Sunny, with a high near 75. Southwest wind around 12 mph.\\n', annotations=None)]\n        \n        Please provide specific clothing recommendations based on the temperature, wind conditions, and forecast.\n        "}], 'model': 'claude-3-5-sonnet-20241022'}}
2025-06-13 16:39:13,935 - DEBUG - Sending HTTP Request: POST https://api.anthropic.com/v1/messages
2025-06-13 16:39:13,936 - DEBUG - connect_tcp.started host='api.anthropic.com' port=443 local_address=None timeout=5.0 socket_options=[(65535, 8, True), (6, 17, 60), (6, 16, 5), (6, 3, 60)]
2025-06-13 16:39:13,958 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x0000023A6692FA10>
2025-06-13 16:39:13,958 - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x0000023A66A0A2A0> server_hostname='api.anthropic.com' timeout=5.0
2025-06-13 16:39:13,987 - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x0000023A66951AD0>
2025-06-13 16:39:13,987 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-06-13 16:39:13,988 - DEBUG - send_request_headers.complete
2025-06-13 16:39:13,988 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-06-13 16:39:13,988 - DEBUG - send_request_body.complete
2025-06-13 16:39:13,988 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-06-13 16:39:20,141 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Fri, 13 Jun 2025 23:39:19 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'anthropic-ratelimit-input-tokens-limit', b'80000'), (b'anthropic-ratelimit-input-tokens-remaining', b'80000'), (b'anthropic-ratelimit-input-tokens-reset', b'2025-06-13T23:39:14Z'), (b'anthropic-ratelimit-output-tokens-limit', b'16000'), (b'anthropic-ratelimit-output-tokens-remaining', b'16000'), (b'anthropic-ratelimit-output-tokens-reset', b'2025-06-13T23:39:20Z'), (b'anthropic-ratelimit-requests-limit', b'1000'), (b'anthropic-ratelimit-requests-remaining', b'999'), (b'anthropic-ratelimit-requests-reset', b'2025-06-13T23:39:13Z'), (b'anthropic-ratelimit-tokens-limit', b'96000'), (b'anthropic-ratelimit-tokens-remaining', b'96000'), (b'anthropic-ratelimit-tokens-reset', b'2025-06-13T23:39:14Z'), (b'request-id', b'req_011CQ76tBuBW7uzoyvSNA5Wt'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'anthropic-organization-id', b'35fcb693-6b61-46ff-aa3d-f5e86c0b1467'), (b'via', b'1.1 google'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Robots-Tag', b'none'), (b'Server', b'cloudflare'), (b'CF-RAY', b'94f56d0f2e5aeb29-SJC'), (b'Content-Encoding', b'gzip')])
2025-06-13 16:39:20,141 - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-06-13 16:39:20,142 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-06-13 16:39:20,142 - DEBUG - receive_response_body.complete
2025-06-13 16:39:20,142 - DEBUG - response_closed.started
2025-06-13 16:39:20,142 - DEBUG - response_closed.complete
2025-06-13 16:39:20,142 - DEBUG - HTTP Response: POST https://api.anthropic.com/v1/messages "200 OK" Headers({'date': 'Fri, 13 Jun 2025 23:39:19 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'anthropic-ratelimit-input-tokens-limit': '80000', 'anthropic-ratelimit-input-tokens-remaining': '80000', 'anthropic-ratelimit-input-tokens-reset': '2025-06-13T23:39:14Z', 'anthropic-ratelimit-output-tokens-limit': '16000', 'anthropic-ratelimit-output-tokens-remaining': '16000', 'anthropic-ratelimit-output-tokens-reset': '2025-06-13T23:39:20Z', 'anthropic-ratelimit-requests-limit': '1000', 'anthropic-ratelimit-requests-remaining': '999', 'anthropic-ratelimit-requests-reset': '2025-06-13T23:39:13Z', 'anthropic-ratelimit-tokens-limit': '96000', 'anthropic-ratelimit-tokens-remaining': '96000', 'anthropic-ratelimit-tokens-reset': '2025-06-13T23:39:14Z', 'request-id': 'req_011CQ76tBuBW7uzoyvSNA5Wt', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'anthropic-organization-id': '35fcb693-6b61-46ff-aa3d-f5e86c0b1467', 'via': '1.1 google', 'cf-cache-status': 'DYNAMIC', 'x-robots-tag': 'none', 'server': 'cloudflare', 'cf-ray': '94f56d0f2e5aeb29-SJC', 'content-encoding': 'gzip'})
2025-06-13 16:39:20,142 - DEBUG - request_id: req_011CQ76tBuBW7uzoyvSNA5Wt
2025-06-13 16:39:20,148 - DEBUG - Successfully received response from Anthropic API
2025-06-13 16:39:20,148 - DEBUG - Response sent
2025-06-13 16:45:38,995 - DEBUG - Looking for .env file at: C:\Software-Projects\mcp-tutorial\weather\.env
2025-06-13 16:45:38,995 - DEBUG - Found .env file
2025-06-13 16:45:38,997 - DEBUG - Initializing server 'weather'
2025-06-13 16:45:38,997 - DEBUG - Registering handler for ListToolsRequest
2025-06-13 16:45:38,997 - DEBUG - Registering handler for CallToolRequest
2025-06-13 16:45:38,997 - DEBUG - Registering handler for ListResourcesRequest
2025-06-13 16:45:38,998 - DEBUG - Registering handler for ReadResourceRequest
2025-06-13 16:45:38,998 - DEBUG - Registering handler for PromptListRequest
2025-06-13 16:45:38,998 - DEBUG - Registering handler for GetPromptRequest
2025-06-13 16:45:38,998 - DEBUG - Registering handler for ListResourceTemplatesRequest
2025-06-13 16:45:39,000 - INFO - Starting weather server
2025-06-13 16:45:39,003 - DEBUG - Using proactor: IocpProactor
2025-06-13 16:45:39,009 - DEBUG - Received message: root=InitializedNotification(method='notifications/initialized', params=None, jsonrpc='2.0')
2025-06-13 16:45:39,009 - DEBUG - Received message: <mcp.shared.session.RequestResponder object at 0x0000023CD5C92810>
2025-06-13 16:45:39,009 - INFO - Processing request of type ListToolsRequest
2025-06-13 16:45:39,009 - DEBUG - Dispatching request of type ListToolsRequest
2025-06-13 16:45:39,009 - DEBUG - Response sent
2025-06-13 16:45:41,465 - DEBUG - Received message: <mcp.shared.session.RequestResponder object at 0x0000023CD639A850>
2025-06-13 16:45:41,465 - INFO - Processing request of type ListToolsRequest
2025-06-13 16:45:41,466 - DEBUG - Dispatching request of type ListToolsRequest
2025-06-13 16:45:41,466 - DEBUG - Response sent
2025-06-13 16:45:45,922 - DEBUG - Received message: <mcp.shared.session.RequestResponder object at 0x0000023CD6333010>
2025-06-13 16:45:45,923 - INFO - Processing request of type ListToolsRequest
2025-06-13 16:45:45,923 - DEBUG - Dispatching request of type ListToolsRequest
2025-06-13 16:45:45,923 - DEBUG - Response sent
2025-06-13 16:45:53,976 - DEBUG - Received message: <mcp.shared.session.RequestResponder object at 0x0000023CD6399090>
2025-06-13 16:45:53,976 - INFO - Processing request of type ListToolsRequest
2025-06-13 16:45:53,976 - DEBUG - Dispatching request of type ListToolsRequest
2025-06-13 16:45:53,977 - DEBUG - Response sent
2025-06-13 16:45:56,967 - DEBUG - Received message: <mcp.shared.session.RequestResponder object at 0x0000023CD638BAD0>
2025-06-13 16:45:56,968 - INFO - Processing request of type CallToolRequest
2025-06-13 16:45:56,968 - DEBUG - Dispatching request of type CallToolRequest
2025-06-13 16:45:56,968 - INFO - Getting forecast for coordinates: 37.8857, -122.118
2025-06-13 16:45:56,969 - DEBUG - Making NWS request to: https://api.weather.gov/points/37.8857,-122.118
2025-06-13 16:45:57,005 - DEBUG - connect_tcp.started host='api.weather.gov' port=443 local_address=None timeout=30.0 socket_options=None
2025-06-13 16:45:57,054 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x0000023CD6324F50>
2025-06-13 16:45:57,055 - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x0000023CD63EA210> server_hostname='api.weather.gov' timeout=30.0
2025-06-13 16:45:57,085 - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x0000023CD633A890>
2025-06-13 16:45:57,085 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-06-13 16:45:57,085 - DEBUG - send_request_headers.complete
2025-06-13 16:45:57,085 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-06-13 16:45:57,085 - DEBUG - send_request_body.complete
2025-06-13 16:45:57,085 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-06-13 16:45:57,111 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Server', b'nginx/1.20.1'), (b'Content-Type', b'application/geo+json'), (b'X-Powered-By', b'PHP/8.0.30'), (b'Access-Control-Allow-Origin', b'*'), (b'Access-Control-Expose-Headers', b'X-Correlation-Id, X-Request-Id, X-Server-Id'), (b'X-Request-ID', b'd802072b-259b-46e4-92ad-fcd3f930eb1d'), (b'X-Correlation-ID', b'1b93a668'), (b'X-Server-ID', b'vm-lnx-nids-apiapp13.ncep.noaa.gov'), (b'Content-Encoding', b'gzip'), (b'Content-Length', b'803'), (b'Cache-Control', b'public, max-age=84346, s-maxage=120'), (b'Expires', b'Sat, 14 Jun 2025 23:11:42 GMT'), (b'Date', b'Fri, 13 Jun 2025 23:45:56 GMT'), (b'Connection', b'keep-alive'), (b'Vary', b'Accept-Encoding'), (b'X-Edge-Request-ID', b'267d0249'), (b'Vary', b'Accept,Feature-Flags,Accept-Language'), (b'Strict-Transport-Security', b'max-age=31536000 ; includeSubDomains ; preload')])
2025-06-13 16:45:57,111 - INFO - HTTP Request: GET https://api.weather.gov/points/37.8857,-122.118 "HTTP/1.1 200 OK"
2025-06-13 16:45:57,112 - DEBUG - receive_response_body.started request=<Request [b'GET']>
2025-06-13 16:45:57,112 - DEBUG - receive_response_body.complete
2025-06-13 16:45:57,112 - DEBUG - response_closed.started
2025-06-13 16:45:57,112 - DEBUG - response_closed.complete
2025-06-13 16:45:57,112 - DEBUG - Successful response from NWS API: 200
2025-06-13 16:45:57,113 - DEBUG - close.started
2025-06-13 16:45:57,113 - DEBUG - close.complete
2025-06-13 16:45:57,113 - DEBUG - Making NWS request to: https://api.weather.gov/gridpoints/MTR/96,108/forecast
2025-06-13 16:45:57,124 - DEBUG - connect_tcp.started host='api.weather.gov' port=443 local_address=None timeout=30.0 socket_options=None
2025-06-13 16:45:57,143 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x0000023CD77B6890>
2025-06-13 16:45:57,143 - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x0000023CD63EA7B0> server_hostname='api.weather.gov' timeout=30.0
2025-06-13 16:45:57,173 - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x0000023CD77B6990>
2025-06-13 16:45:57,174 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-06-13 16:45:57,174 - DEBUG - send_request_headers.complete
2025-06-13 16:45:57,174 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-06-13 16:45:57,174 - DEBUG - send_request_body.complete
2025-06-13 16:45:57,174 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-06-13 16:45:57,203 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Server', b'nginx/1.20.1'), (b'Content-Type', b'application/geo+json'), (b'X-Powered-By', b'PHP/8.0.30'), (b'Last-Modified', b'Fri, 13 Jun 2025 20:26:27 GMT'), (b'Access-Control-Allow-Origin', b'*'), (b'Access-Control-Expose-Headers', b'X-Correlation-Id, X-Request-Id, X-Server-Id'), (b'X-Request-ID', b'd379044b-3c91-48c4-b2a9-54e8379ad0ed'), (b'X-Correlation-ID', b'1988ed93'), (b'X-Server-ID', b'vm-lnx-nids-apiapp13.ncep.noaa.gov'), (b'Content-Encoding', b'gzip'), (b'Content-Length', b'1277'), (b'Cache-Control', b'public, max-age=400, s-maxage=3600'), (b'Expires', b'Fri, 13 Jun 2025 23:52:36 GMT'), (b'Date', b'Fri, 13 Jun 2025 23:45:56 GMT'), (b'Connection', b'keep-alive'), (b'Vary', b'Accept-Encoding'), (b'X-Edge-Request-ID', b'267d02d8'), (b'Vary', b'Accept,Feature-Flags,Accept-Language'), (b'Strict-Transport-Security', b'max-age=31536000 ; includeSubDomains ; preload')])
2025-06-13 16:45:57,203 - INFO - HTTP Request: GET https://api.weather.gov/gridpoints/MTR/96,108/forecast "HTTP/1.1 200 OK"
2025-06-13 16:45:57,203 - DEBUG - receive_response_body.started request=<Request [b'GET']>
2025-06-13 16:45:57,204 - DEBUG - receive_response_body.complete
2025-06-13 16:45:57,204 - DEBUG - response_closed.started
2025-06-13 16:45:57,204 - DEBUG - response_closed.complete
2025-06-13 16:45:57,204 - DEBUG - Successful response from NWS API: 200
2025-06-13 16:45:57,204 - DEBUG - close.started
2025-06-13 16:45:57,205 - DEBUG - close.complete
2025-06-13 16:45:57,205 - DEBUG - Forecast data structure: dict_keys(['@context', 'type', 'geometry', 'properties'])
2025-06-13 16:45:57,205 - DEBUG - Forecast properties structure: dict_keys(['units', 'forecastGenerator', 'generatedAt', 'updateTime', 'validTimes', 'elevation', 'periods'])
2025-06-13 16:45:57,205 - INFO - Successfully retrieved forecast for coordinates: 37.8857, -122.118
2025-06-13 16:45:57,206 - DEBUG - Response sent
2025-06-13 16:45:57,208 - DEBUG - Received message: <mcp.shared.session.RequestResponder object at 0x0000023CD63A4310>
2025-06-13 16:45:57,208 - INFO - Processing request of type CallToolRequest
2025-06-13 16:45:57,208 - DEBUG - Dispatching request of type CallToolRequest
2025-06-13 16:45:57,208 - INFO - Getting outfit based on weather forecast
2025-06-13 16:45:57,208 - DEBUG - Successfully loaded Anthropic API key
2025-06-13 16:45:57,215 - DEBUG - Successfully created Anthropic client
2025-06-13 16:45:57,215 - DEBUG - Sending request to Anthropic API
2025-06-13 16:45:57,215 - DEBUG - Request options: {'method': 'post', 'url': '/v1/messages', 'timeout': Timeout(connect=5.0, read=600, write=600, pool=600), 'files': None, 'idempotency_key': 'stainless-python-retry-4565ad89-8ef5-4015-b62a-a5eca6eea9ba', 'json_data': {'max_tokens': 1000, 'messages': [{'role': 'user', 'content': "\n        Based on the following weather forecast, suggest an appropriate outfit:\n        \n        [TextContent(type='text', text='\\n            This Afternoon:\\n            Temperature: 74F\\n            Wind: 13 mph SW\\n            Forecast: Sunny. High near 74, with temperatures falling to around 72 in the afternoon. Southwest wind around 13 mph.\\n\\n---\\n\\n            Tonight:\\n            Temperature: 50F\\n            Wind: 12 mph SW\\n            Forecast: Mostly clear, with a low around 50. Southwest wind around 12 mph.\\n\\n---\\n\\n            Saturday:\\n            Temperature: 73F\\n            Wind: 8 to 12 mph SW\\n            Forecast: Mostly sunny, with a high near 73. Southwest wind 8 to 12 mph.\\n\\n---\\n\\n            Saturday Night:\\n            Temperature: 50F\\n            Wind: 12 mph SW\\n            Forecast: Mostly clear, with a low around 50. Southwest wind around 12 mph.\\n\\n---\\n\\n            Sunday:\\n            Temperature: 75F\\n            Wind: 12 mph SW\\n            Forecast: Sunny, with a high near 75. Southwest wind around 12 mph.\\n', annotations=None)]\n        \n        Please provide specific clothing recommendations based on the temperature, wind conditions, and forecast.\n        "}], 'model': 'claude-3-5-sonnet-20241022'}}
2025-06-13 16:45:57,255 - DEBUG - Sending HTTP Request: POST https://api.anthropic.com/v1/messages
2025-06-13 16:45:57,255 - DEBUG - connect_tcp.started host='api.anthropic.com' port=443 local_address=None timeout=5.0 socket_options=[(65535, 8, True), (6, 17, 60), (6, 16, 5), (6, 3, 60)]
2025-06-13 16:45:57,288 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x0000023CD77C2810>
2025-06-13 16:45:57,288 - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x0000023CD6189AC0> server_hostname='api.anthropic.com' timeout=5.0
2025-06-13 16:45:57,313 - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x0000023CD6389E50>
2025-06-13 16:45:57,313 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-06-13 16:45:57,313 - DEBUG - send_request_headers.complete
2025-06-13 16:45:57,314 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-06-13 16:45:57,314 - DEBUG - send_request_body.complete
2025-06-13 16:45:57,314 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-06-13 16:46:03,279 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Fri, 13 Jun 2025 23:46:02 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'anthropic-ratelimit-input-tokens-limit', b'80000'), (b'anthropic-ratelimit-input-tokens-remaining', b'80000'), (b'anthropic-ratelimit-input-tokens-reset', b'2025-06-13T23:45:57Z'), (b'anthropic-ratelimit-output-tokens-limit', b'16000'), (b'anthropic-ratelimit-output-tokens-remaining', b'16000'), (b'anthropic-ratelimit-output-tokens-reset', b'2025-06-13T23:46:03Z'), (b'anthropic-ratelimit-requests-limit', b'1000'), (b'anthropic-ratelimit-requests-remaining', b'999'), (b'anthropic-ratelimit-requests-reset', b'2025-06-13T23:45:56Z'), (b'anthropic-ratelimit-tokens-limit', b'96000'), (b'anthropic-ratelimit-tokens-remaining', b'96000'), (b'anthropic-ratelimit-tokens-reset', b'2025-06-13T23:45:57Z'), (b'request-id', b'req_011CQ77PvJQW1GtJZNNVRCCT'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'anthropic-organization-id', b'35fcb693-6b61-46ff-aa3d-f5e86c0b1467'), (b'via', b'1.1 google'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Robots-Tag', b'none'), (b'Server', b'cloudflare'), (b'CF-RAY', b'94f576e7fea42548-SJC'), (b'Content-Encoding', b'gzip')])
2025-06-13 16:46:03,279 - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-06-13 16:46:03,279 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-06-13 16:46:03,280 - DEBUG - receive_response_body.complete
2025-06-13 16:46:03,280 - DEBUG - response_closed.started
2025-06-13 16:46:03,280 - DEBUG - response_closed.complete
2025-06-13 16:46:03,280 - DEBUG - HTTP Response: POST https://api.anthropic.com/v1/messages "200 OK" Headers({'date': 'Fri, 13 Jun 2025 23:46:02 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'anthropic-ratelimit-input-tokens-limit': '80000', 'anthropic-ratelimit-input-tokens-remaining': '80000', 'anthropic-ratelimit-input-tokens-reset': '2025-06-13T23:45:57Z', 'anthropic-ratelimit-output-tokens-limit': '16000', 'anthropic-ratelimit-output-tokens-remaining': '16000', 'anthropic-ratelimit-output-tokens-reset': '2025-06-13T23:46:03Z', 'anthropic-ratelimit-requests-limit': '1000', 'anthropic-ratelimit-requests-remaining': '999', 'anthropic-ratelimit-requests-reset': '2025-06-13T23:45:56Z', 'anthropic-ratelimit-tokens-limit': '96000', 'anthropic-ratelimit-tokens-remaining': '96000', 'anthropic-ratelimit-tokens-reset': '2025-06-13T23:45:57Z', 'request-id': 'req_011CQ77PvJQW1GtJZNNVRCCT', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'anthropic-organization-id': '35fcb693-6b61-46ff-aa3d-f5e86c0b1467', 'via': '1.1 google', 'cf-cache-status': 'DYNAMIC', 'x-robots-tag': 'none', 'server': 'cloudflare', 'cf-ray': '94f576e7fea42548-SJC', 'content-encoding': 'gzip'})
2025-06-13 16:46:03,280 - DEBUG - request_id: req_011CQ77PvJQW1GtJZNNVRCCT
2025-06-13 16:46:03,284 - DEBUG - Successfully received response from Anthropic API
2025-06-13 16:46:03,284 - DEBUG - Response sent
2025-06-13 16:46:54,732 - DEBUG - Looking for .env file at: C:\Software-Projects\mcp-tutorial\weather\.env
2025-06-13 16:46:54,733 - DEBUG - Found .env file
2025-06-13 16:46:54,735 - DEBUG - Initializing server 'weather'
2025-06-13 16:46:54,735 - DEBUG - Registering handler for ListToolsRequest
2025-06-13 16:46:54,735 - DEBUG - Registering handler for CallToolRequest
2025-06-13 16:46:54,735 - DEBUG - Registering handler for ListResourcesRequest
2025-06-13 16:46:54,735 - DEBUG - Registering handler for ReadResourceRequest
2025-06-13 16:46:54,735 - DEBUG - Registering handler for PromptListRequest
2025-06-13 16:46:54,735 - DEBUG - Registering handler for GetPromptRequest
2025-06-13 16:46:54,735 - DEBUG - Registering handler for ListResourceTemplatesRequest
2025-06-13 16:46:54,737 - INFO - Starting weather server
2025-06-13 16:46:54,741 - DEBUG - Using proactor: IocpProactor
2025-06-13 16:46:54,747 - DEBUG - Received message: root=InitializedNotification(method='notifications/initialized', params=None, jsonrpc='2.0')
2025-06-13 16:46:54,748 - DEBUG - Received message: <mcp.shared.session.RequestResponder object at 0x000001F04F402810>
2025-06-13 16:46:54,748 - INFO - Processing request of type ListToolsRequest
2025-06-13 16:46:54,748 - DEBUG - Dispatching request of type ListToolsRequest
2025-06-13 16:46:54,748 - DEBUG - Response sent
2025-06-13 16:46:57,175 - DEBUG - Received message: <mcp.shared.session.RequestResponder object at 0x000001F04FA7EB50>
2025-06-13 16:46:57,175 - INFO - Processing request of type ListToolsRequest
2025-06-13 16:46:57,175 - DEBUG - Dispatching request of type ListToolsRequest
2025-06-13 16:46:57,175 - DEBUG - Response sent
2025-06-13 16:47:05,240 - DEBUG - Received message: <mcp.shared.session.RequestResponder object at 0x000001F04F402810>
2025-06-13 16:47:05,240 - INFO - Processing request of type ListToolsRequest
2025-06-13 16:47:05,240 - DEBUG - Dispatching request of type ListToolsRequest
2025-06-13 16:47:05,240 - DEBUG - Response sent
2025-06-13 16:47:07,743 - DEBUG - Received message: <mcp.shared.session.RequestResponder object at 0x000001F04FAFAF10>
2025-06-13 16:47:07,743 - INFO - Processing request of type CallToolRequest
2025-06-13 16:47:07,743 - DEBUG - Dispatching request of type CallToolRequest
2025-06-13 16:47:07,743 - INFO - Getting forecast for coordinates: 37.8857, -122.118
2025-06-13 16:47:07,744 - DEBUG - Making NWS request to: https://api.weather.gov/points/37.8857,-122.118
2025-06-13 16:47:07,776 - DEBUG - connect_tcp.started host='api.weather.gov' port=443 local_address=None timeout=30.0 socket_options=None
2025-06-13 16:47:07,827 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x000001F04FB147D0>
2025-06-13 16:47:07,827 - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x000001F04FB5A210> server_hostname='api.weather.gov' timeout=30.0
2025-06-13 16:47:07,858 - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x000001F04FAFBDD0>
2025-06-13 16:47:07,858 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-06-13 16:47:07,858 - DEBUG - send_request_headers.complete
2025-06-13 16:47:07,858 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-06-13 16:47:07,858 - DEBUG - send_request_body.complete
2025-06-13 16:47:07,858 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-06-13 16:47:07,884 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Server', b'nginx/1.20.1'), (b'Content-Type', b'application/geo+json'), (b'X-Powered-By', b'PHP/8.0.30'), (b'Access-Control-Allow-Origin', b'*'), (b'Access-Control-Expose-Headers', b'X-Correlation-Id, X-Request-Id, X-Server-Id'), (b'X-Request-ID', b'd802072b-259b-46e4-92ad-fcd3f930eb1d'), (b'X-Correlation-ID', b'1b93a668'), (b'X-Server-ID', b'vm-lnx-nids-apiapp13.ncep.noaa.gov'), (b'Content-Encoding', b'gzip'), (b'Content-Length', b'803'), (b'Cache-Control', b'public, max-age=84275, s-maxage=120'), (b'Expires', b'Sat, 14 Jun 2025 23:11:42 GMT'), (b'Date', b'Fri, 13 Jun 2025 23:47:07 GMT'), (b'Connection', b'keep-alive'), (b'Vary', b'Accept-Encoding'), (b'X-Edge-Request-ID', b'2e2eafdf'), (b'Vary', b'Accept,Feature-Flags,Accept-Language'), (b'Strict-Transport-Security', b'max-age=31536000 ; includeSubDomains ; preload')])
2025-06-13 16:47:07,885 - INFO - HTTP Request: GET https://api.weather.gov/points/37.8857,-122.118 "HTTP/1.1 200 OK"
2025-06-13 16:47:07,885 - DEBUG - receive_response_body.started request=<Request [b'GET']>
2025-06-13 16:47:07,885 - DEBUG - receive_response_body.complete
2025-06-13 16:47:07,885 - DEBUG - response_closed.started
2025-06-13 16:47:07,885 - DEBUG - response_closed.complete
2025-06-13 16:47:07,885 - DEBUG - Successful response from NWS API: 200
2025-06-13 16:47:07,886 - DEBUG - close.started
2025-06-13 16:47:07,886 - DEBUG - close.complete
2025-06-13 16:47:07,886 - DEBUG - Making NWS request to: https://api.weather.gov/gridpoints/MTR/96,108/forecast
2025-06-13 16:47:07,892 - DEBUG - connect_tcp.started host='api.weather.gov' port=443 local_address=None timeout=30.0 socket_options=None
2025-06-13 16:47:07,911 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x000001F050F26250>
2025-06-13 16:47:07,911 - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x000001F04FB5A3C0> server_hostname='api.weather.gov' timeout=30.0
2025-06-13 16:47:07,941 - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x000001F050F26350>
2025-06-13 16:47:07,942 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-06-13 16:47:07,942 - DEBUG - send_request_headers.complete
2025-06-13 16:47:07,943 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-06-13 16:47:07,943 - DEBUG - send_request_body.complete
2025-06-13 16:47:07,943 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-06-13 16:47:07,988 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Server', b'nginx/1.20.1'), (b'Content-Type', b'application/geo+json'), (b'X-Powered-By', b'PHP/8.0.30'), (b'Last-Modified', b'Fri, 13 Jun 2025 20:26:27 GMT'), (b'Access-Control-Allow-Origin', b'*'), (b'Access-Control-Expose-Headers', b'X-Correlation-Id, X-Request-Id, X-Server-Id'), (b'X-Request-ID', b'd379044b-3c91-48c4-b2a9-54e8379ad0ed'), (b'X-Correlation-ID', b'1988ed93'), (b'X-Server-ID', b'vm-lnx-nids-apiapp13.ncep.noaa.gov'), (b'Content-Encoding', b'gzip'), (b'Content-Length', b'1277'), (b'Cache-Control', b'public, max-age=329, s-maxage=3600'), (b'Expires', b'Fri, 13 Jun 2025 23:52:36 GMT'), (b'Date', b'Fri, 13 Jun 2025 23:47:07 GMT'), (b'Connection', b'keep-alive'), (b'Vary', b'Accept-Encoding'), (b'X-Edge-Request-ID', b'267f2853'), (b'Vary', b'Accept,Feature-Flags,Accept-Language'), (b'Strict-Transport-Security', b'max-age=31536000 ; includeSubDomains ; preload')])
2025-06-13 16:47:07,988 - INFO - HTTP Request: GET https://api.weather.gov/gridpoints/MTR/96,108/forecast "HTTP/1.1 200 OK"
2025-06-13 16:47:07,989 - DEBUG - receive_response_body.started request=<Request [b'GET']>
2025-06-13 16:47:07,989 - DEBUG - receive_response_body.complete
2025-06-13 16:47:07,990 - DEBUG - response_closed.started
2025-06-13 16:47:07,990 - DEBUG - response_closed.complete
2025-06-13 16:47:07,990 - DEBUG - Successful response from NWS API: 200
2025-06-13 16:47:07,991 - DEBUG - close.started
2025-06-13 16:47:07,991 - DEBUG - close.complete
2025-06-13 16:47:07,992 - DEBUG - Forecast data structure: dict_keys(['@context', 'type', 'geometry', 'properties'])
2025-06-13 16:47:07,992 - DEBUG - Forecast properties structure: dict_keys(['units', 'forecastGenerator', 'generatedAt', 'updateTime', 'validTimes', 'elevation', 'periods'])
2025-06-13 16:47:07,993 - INFO - Successfully retrieved forecast for coordinates: 37.8857, -122.118
2025-06-13 16:47:07,994 - DEBUG - Response sent
2025-06-13 16:47:08,000 - DEBUG - Received message: <mcp.shared.session.RequestResponder object at 0x000001F04F402810>
2025-06-13 16:47:08,000 - INFO - Processing request of type CallToolRequest
2025-06-13 16:47:08,000 - DEBUG - Dispatching request of type CallToolRequest
2025-06-13 16:47:08,001 - INFO - Getting outfit based on weather forecast
2025-06-13 16:47:08,001 - DEBUG - Successfully loaded Anthropic API key
2025-06-13 16:47:08,017 - DEBUG - Successfully created Anthropic client
2025-06-13 16:47:08,018 - DEBUG - Sending request to Anthropic API
2025-06-13 16:47:08,019 - DEBUG - Request options: {'method': 'post', 'url': '/v1/messages', 'timeout': Timeout(connect=5.0, read=600, write=600, pool=600), 'files': None, 'idempotency_key': 'stainless-python-retry-1fa27f31-61ca-4886-a39b-4baed984a78f', 'json_data': {'max_tokens': 1000, 'messages': [{'role': 'user', 'content': "\n        Based on the following weather forecast, suggest an appropriate outfit:\n        \n        [TextContent(type='text', text='\\n            This Afternoon:\\n            Temperature: 74F\\n            Wind: 13 mph SW\\n            Forecast: Sunny. High near 74, with temperatures falling to around 72 in the afternoon. Southwest wind around 13 mph.\\n\\n---\\n\\n            Tonight:\\n            Temperature: 50F\\n            Wind: 12 mph SW\\n            Forecast: Mostly clear, with a low around 50. Southwest wind around 12 mph.\\n\\n---\\n\\n            Saturday:\\n            Temperature: 73F\\n            Wind: 8 to 12 mph SW\\n            Forecast: Mostly sunny, with a high near 73. Southwest wind 8 to 12 mph.\\n\\n---\\n\\n            Saturday Night:\\n            Temperature: 50F\\n            Wind: 12 mph SW\\n            Forecast: Mostly clear, with a low around 50. Southwest wind around 12 mph.\\n\\n---\\n\\n            Sunday:\\n            Temperature: 75F\\n            Wind: 12 mph SW\\n            Forecast: Sunny, with a high near 75. Southwest wind around 12 mph.\\n', annotations=None)]\n        \n        Please provide specific clothing recommendations based on the temperature, wind conditions, and forecast.\n        "}], 'model': 'claude-3-5-sonnet-20241022'}}
2025-06-13 16:47:08,066 - DEBUG - Sending HTTP Request: POST https://api.anthropic.com/v1/messages
2025-06-13 16:47:08,066 - DEBUG - connect_tcp.started host='api.anthropic.com' port=443 local_address=None timeout=5.0 socket_options=[(65535, 8, True), (6, 17, 60), (6, 16, 5), (6, 3, 60)]
2025-06-13 16:47:08,102 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000001F050F32090>
2025-06-13 16:47:08,102 - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x000001F04FB5A2A0> server_hostname='api.anthropic.com' timeout=5.0
2025-06-13 16:47:08,126 - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000001F04FAF9E50>
2025-06-13 16:47:08,126 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-06-13 16:47:08,127 - DEBUG - send_request_headers.complete
2025-06-13 16:47:08,127 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-06-13 16:47:08,127 - DEBUG - send_request_body.complete
2025-06-13 16:47:08,127 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-06-13 16:47:13,200 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Fri, 13 Jun 2025 23:47:12 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'anthropic-ratelimit-input-tokens-limit', b'80000'), (b'anthropic-ratelimit-input-tokens-remaining', b'80000'), (b'anthropic-ratelimit-input-tokens-reset', b'2025-06-13T23:47:07Z'), (b'anthropic-ratelimit-output-tokens-limit', b'16000'), (b'anthropic-ratelimit-output-tokens-remaining', b'16000'), (b'anthropic-ratelimit-output-tokens-reset', b'2025-06-13T23:47:13Z'), (b'anthropic-ratelimit-requests-limit', b'1000'), (b'anthropic-ratelimit-requests-remaining', b'999'), (b'anthropic-ratelimit-requests-reset', b'2025-06-13T23:47:07Z'), (b'anthropic-ratelimit-tokens-limit', b'96000'), (b'anthropic-ratelimit-tokens-remaining', b'96000'), (b'anthropic-ratelimit-tokens-reset', b'2025-06-13T23:47:07Z'), (b'request-id', b'req_011CQ77V94WMouScUfZZRYRt'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'anthropic-organization-id', b'35fcb693-6b61-46ff-aa3d-f5e86c0b1467'), (b'via', b'1.1 google'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Robots-Tag', b'none'), (b'Server', b'cloudflare'), (b'CF-RAY', b'94f578a2898615e1-SJC'), (b'Content-Encoding', b'gzip')])
2025-06-13 16:47:13,201 - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-06-13 16:47:13,201 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-06-13 16:47:13,203 - DEBUG - receive_response_body.complete
2025-06-13 16:47:13,203 - DEBUG - response_closed.started
2025-06-13 16:47:13,203 - DEBUG - response_closed.complete
2025-06-13 16:47:13,203 - DEBUG - HTTP Response: POST https://api.anthropic.com/v1/messages "200 OK" Headers({'date': 'Fri, 13 Jun 2025 23:47:12 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'anthropic-ratelimit-input-tokens-limit': '80000', 'anthropic-ratelimit-input-tokens-remaining': '80000', 'anthropic-ratelimit-input-tokens-reset': '2025-06-13T23:47:07Z', 'anthropic-ratelimit-output-tokens-limit': '16000', 'anthropic-ratelimit-output-tokens-remaining': '16000', 'anthropic-ratelimit-output-tokens-reset': '2025-06-13T23:47:13Z', 'anthropic-ratelimit-requests-limit': '1000', 'anthropic-ratelimit-requests-remaining': '999', 'anthropic-ratelimit-requests-reset': '2025-06-13T23:47:07Z', 'anthropic-ratelimit-tokens-limit': '96000', 'anthropic-ratelimit-tokens-remaining': '96000', 'anthropic-ratelimit-tokens-reset': '2025-06-13T23:47:07Z', 'request-id': 'req_011CQ77V94WMouScUfZZRYRt', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'anthropic-organization-id': '35fcb693-6b61-46ff-aa3d-f5e86c0b1467', 'via': '1.1 google', 'cf-cache-status': 'DYNAMIC', 'x-robots-tag': 'none', 'server': 'cloudflare', 'cf-ray': '94f578a2898615e1-SJC', 'content-encoding': 'gzip'})
2025-06-13 16:47:13,204 - DEBUG - request_id: req_011CQ77V94WMouScUfZZRYRt
2025-06-13 16:47:13,209 - DEBUG - Successfully received response from Anthropic API
2025-06-13 16:47:13,210 - DEBUG - Response sent
2025-06-13 16:48:21,656 - DEBUG - Looking for .env file at: C:\Software-Projects\mcp-tutorial\weather\.env
2025-06-13 16:48:21,656 - DEBUG - Found .env file
2025-06-13 16:48:21,659 - DEBUG - Initializing server 'weather'
2025-06-13 16:48:21,659 - DEBUG - Registering handler for ListToolsRequest
2025-06-13 16:48:21,659 - DEBUG - Registering handler for CallToolRequest
2025-06-13 16:48:21,659 - DEBUG - Registering handler for ListResourcesRequest
2025-06-13 16:48:21,659 - DEBUG - Registering handler for ReadResourceRequest
2025-06-13 16:48:21,659 - DEBUG - Registering handler for PromptListRequest
2025-06-13 16:48:21,659 - DEBUG - Registering handler for GetPromptRequest
2025-06-13 16:48:21,659 - DEBUG - Registering handler for ListResourceTemplatesRequest
2025-06-13 16:48:21,661 - INFO - Starting weather server
2025-06-13 16:48:21,665 - DEBUG - Using proactor: IocpProactor
2025-06-13 16:48:21,672 - DEBUG - Received message: root=InitializedNotification(method='notifications/initialized', params=None, jsonrpc='2.0')
2025-06-13 16:48:21,672 - DEBUG - Received message: <mcp.shared.session.RequestResponder object at 0x0000017292CEBB50>
2025-06-13 16:48:21,673 - INFO - Processing request of type ListToolsRequest
2025-06-13 16:48:21,673 - DEBUG - Dispatching request of type ListToolsRequest
2025-06-13 16:48:21,673 - DEBUG - Response sent
2025-06-13 16:48:24,387 - DEBUG - Received message: <mcp.shared.session.RequestResponder object at 0x0000017292CF80D0>
2025-06-13 16:48:24,387 - INFO - Processing request of type ListToolsRequest
2025-06-13 16:48:24,387 - DEBUG - Dispatching request of type ListToolsRequest
2025-06-13 16:48:24,387 - DEBUG - Response sent
2025-06-13 16:48:35,084 - DEBUG - Received message: <mcp.shared.session.RequestResponder object at 0x0000017292CEBB90>
2025-06-13 16:48:35,084 - INFO - Processing request of type ListToolsRequest
2025-06-13 16:48:35,084 - DEBUG - Dispatching request of type ListToolsRequest
2025-06-13 16:48:35,085 - DEBUG - Response sent
2025-06-13 16:48:37,651 - DEBUG - Received message: <mcp.shared.session.RequestResponder object at 0x0000017292CEA890>
2025-06-13 16:48:37,651 - INFO - Processing request of type CallToolRequest
2025-06-13 16:48:37,651 - DEBUG - Dispatching request of type CallToolRequest
2025-06-13 16:48:37,651 - INFO - Getting forecast for coordinates: 37.8857, -122.118
2025-06-13 16:48:37,652 - DEBUG - Making NWS request to: https://api.weather.gov/points/37.8857,-122.118
2025-06-13 16:48:37,685 - DEBUG - connect_tcp.started host='api.weather.gov' port=443 local_address=None timeout=30.0 socket_options=None
2025-06-13 16:48:37,725 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x0000017292DA7F90>
2025-06-13 16:48:37,726 - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x0000017292D4A210> server_hostname='api.weather.gov' timeout=30.0
2025-06-13 16:48:37,755 - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x0000017292C9AF90>
2025-06-13 16:48:37,755 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-06-13 16:48:37,757 - DEBUG - send_request_headers.complete
2025-06-13 16:48:37,757 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-06-13 16:48:37,757 - DEBUG - send_request_body.complete
2025-06-13 16:48:37,757 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-06-13 16:48:37,788 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Server', b'nginx/1.20.1'), (b'Content-Type', b'application/geo+json'), (b'X-Powered-By', b'PHP/8.0.30'), (b'Access-Control-Allow-Origin', b'*'), (b'Access-Control-Expose-Headers', b'X-Correlation-Id, X-Request-Id, X-Server-Id'), (b'X-Request-ID', b'd802072b-259b-46e4-92ad-fcd3f930eb1d'), (b'X-Correlation-ID', b'1b93a668'), (b'X-Server-ID', b'vm-lnx-nids-apiapp13.ncep.noaa.gov'), (b'Content-Encoding', b'gzip'), (b'Content-Length', b'803'), (b'Cache-Control', b'public, max-age=84186, s-maxage=120'), (b'Expires', b'Sat, 14 Jun 2025 23:11:42 GMT'), (b'Date', b'Fri, 13 Jun 2025 23:48:36 GMT'), (b'Connection', b'keep-alive'), (b'Vary', b'Accept-Encoding'), (b'X-Edge-Request-ID', b'2681ddb8'), (b'Vary', b'Accept,Feature-Flags,Accept-Language'), (b'Strict-Transport-Security', b'max-age=31536000 ; includeSubDomains ; preload')])
2025-06-13 16:48:37,789 - INFO - HTTP Request: GET https://api.weather.gov/points/37.8857,-122.118 "HTTP/1.1 200 OK"
2025-06-13 16:48:37,789 - DEBUG - receive_response_body.started request=<Request [b'GET']>
2025-06-13 16:48:37,790 - DEBUG - receive_response_body.complete
2025-06-13 16:48:37,790 - DEBUG - response_closed.started
2025-06-13 16:48:37,790 - DEBUG - response_closed.complete
2025-06-13 16:48:37,791 - DEBUG - Successful response from NWS API: 200
2025-06-13 16:48:37,791 - DEBUG - close.started
2025-06-13 16:48:37,792 - DEBUG - close.complete
2025-06-13 16:48:37,792 - DEBUG - Making NWS request to: https://api.weather.gov/gridpoints/MTR/96,108/forecast
2025-06-13 16:48:37,814 - DEBUG - connect_tcp.started host='api.weather.gov' port=443 local_address=None timeout=30.0 socket_options=None
2025-06-13 16:48:37,837 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x0000017294115E90>
2025-06-13 16:48:37,837 - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x0000017292D4A7B0> server_hostname='api.weather.gov' timeout=30.0
2025-06-13 16:48:37,869 - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x0000017294115F90>
2025-06-13 16:48:37,869 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-06-13 16:48:37,869 - DEBUG - send_request_headers.complete
2025-06-13 16:48:37,869 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-06-13 16:48:37,869 - DEBUG - send_request_body.complete
2025-06-13 16:48:37,869 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-06-13 16:48:37,911 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Server', b'nginx/1.20.1'), (b'Content-Type', b'application/geo+json'), (b'X-Powered-By', b'PHP/8.0.30'), (b'Last-Modified', b'Fri, 13 Jun 2025 20:26:27 GMT'), (b'Access-Control-Allow-Origin', b'*'), (b'Access-Control-Expose-Headers', b'X-Correlation-Id, X-Request-Id, X-Server-Id'), (b'X-Request-ID', b'd379044b-3c91-48c4-b2a9-54e8379ad0ed'), (b'X-Correlation-ID', b'1988ed93'), (b'X-Server-ID', b'vm-lnx-nids-apiapp13.ncep.noaa.gov'), (b'Content-Encoding', b'gzip'), (b'Content-Length', b'1277'), (b'Cache-Control', b'public, max-age=239, s-maxage=3600'), (b'Expires', b'Fri, 13 Jun 2025 23:52:36 GMT'), (b'Date', b'Fri, 13 Jun 2025 23:48:37 GMT'), (b'Connection', b'keep-alive'), (b'Vary', b'Accept-Encoding'), (b'X-Edge-Request-ID', b'2681de74'), (b'Vary', b'Accept,Feature-Flags,Accept-Language'), (b'Strict-Transport-Security', b'max-age=31536000 ; includeSubDomains ; preload')])
2025-06-13 16:48:37,911 - INFO - HTTP Request: GET https://api.weather.gov/gridpoints/MTR/96,108/forecast "HTTP/1.1 200 OK"
2025-06-13 16:48:37,911 - DEBUG - receive_response_body.started request=<Request [b'GET']>
2025-06-13 16:48:37,911 - DEBUG - receive_response_body.complete
2025-06-13 16:48:37,911 - DEBUG - response_closed.started
2025-06-13 16:48:37,911 - DEBUG - response_closed.complete
2025-06-13 16:48:37,911 - DEBUG - Successful response from NWS API: 200
2025-06-13 16:48:37,912 - DEBUG - close.started
2025-06-13 16:48:37,912 - DEBUG - close.complete
2025-06-13 16:48:37,912 - DEBUG - Forecast data structure: dict_keys(['@context', 'type', 'geometry', 'properties'])
2025-06-13 16:48:37,912 - DEBUG - Forecast properties structure: dict_keys(['units', 'forecastGenerator', 'generatedAt', 'updateTime', 'validTimes', 'elevation', 'periods'])
2025-06-13 16:48:37,912 - INFO - Successfully retrieved forecast for coordinates: 37.8857, -122.118
2025-06-13 16:48:37,913 - DEBUG - Response sent
2025-06-13 16:48:37,914 - DEBUG - Received message: <mcp.shared.session.RequestResponder object at 0x0000017292D04450>
2025-06-13 16:48:37,915 - INFO - Processing request of type CallToolRequest
2025-06-13 16:48:37,915 - DEBUG - Dispatching request of type CallToolRequest
2025-06-13 16:48:37,915 - INFO - Getting outfit based on weather forecast
2025-06-13 16:48:37,915 - DEBUG - Successfully loaded Anthropic API key
2025-06-13 16:48:37,922 - DEBUG - Successfully created Anthropic client
2025-06-13 16:48:37,922 - DEBUG - Sending request to Anthropic API
2025-06-13 16:48:37,923 - DEBUG - Request options: {'method': 'post', 'url': '/v1/messages', 'timeout': Timeout(connect=5.0, read=600, write=600, pool=600), 'files': None, 'idempotency_key': 'stainless-python-retry-d85bdadf-5427-4b61-b3af-ac283d294b79', 'json_data': {'max_tokens': 1000, 'messages': [{'role': 'user', 'content': "\n        Based on the following weather forecast, suggest an appropriate outfit:\n        \n        [TextContent(type='text', text='\\n            This Afternoon:\\n            Temperature: 74F\\n            Wind: 13 mph SW\\n            Forecast: Sunny. High near 74, with temperatures falling to around 72 in the afternoon. Southwest wind around 13 mph.\\n\\n---\\n\\n            Tonight:\\n            Temperature: 50F\\n            Wind: 12 mph SW\\n            Forecast: Mostly clear, with a low around 50. Southwest wind around 12 mph.\\n\\n---\\n\\n            Saturday:\\n            Temperature: 73F\\n            Wind: 8 to 12 mph SW\\n            Forecast: Mostly sunny, with a high near 73. Southwest wind 8 to 12 mph.\\n\\n---\\n\\n            Saturday Night:\\n            Temperature: 50F\\n            Wind: 12 mph SW\\n            Forecast: Mostly clear, with a low around 50. Southwest wind around 12 mph.\\n\\n---\\n\\n            Sunday:\\n            Temperature: 75F\\n            Wind: 12 mph SW\\n            Forecast: Sunny, with a high near 75. Southwest wind around 12 mph.\\n', annotations=None)]\n        \n        Please provide specific clothing recommendations based on the temperature, wind conditions, and forecast.\n        "}], 'model': 'claude-3-5-sonnet-20241022'}}
2025-06-13 16:48:37,964 - DEBUG - Sending HTTP Request: POST https://api.anthropic.com/v1/messages
2025-06-13 16:48:37,964 - DEBUG - connect_tcp.started host='api.anthropic.com' port=443 local_address=None timeout=5.0 socket_options=[(65535, 8, True), (6, 17, 60), (6, 16, 5), (6, 3, 60)]
2025-06-13 16:48:38,003 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x0000017294121C90>
2025-06-13 16:48:38,003 - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x0000017292D4A2A0> server_hostname='api.anthropic.com' timeout=5.0
2025-06-13 16:48:38,037 - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x0000017292CF9E50>
2025-06-13 16:48:38,037 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-06-13 16:48:38,037 - DEBUG - send_request_headers.complete
2025-06-13 16:48:38,039 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-06-13 16:48:38,039 - DEBUG - send_request_body.complete
2025-06-13 16:48:38,039 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-06-13 16:48:43,433 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Fri, 13 Jun 2025 23:48:42 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'anthropic-ratelimit-input-tokens-limit', b'80000'), (b'anthropic-ratelimit-input-tokens-remaining', b'80000'), (b'anthropic-ratelimit-input-tokens-reset', b'2025-06-13T23:48:37Z'), (b'anthropic-ratelimit-output-tokens-limit', b'16000'), (b'anthropic-ratelimit-output-tokens-remaining', b'16000'), (b'anthropic-ratelimit-output-tokens-reset', b'2025-06-13T23:48:43Z'), (b'anthropic-ratelimit-requests-limit', b'1000'), (b'anthropic-ratelimit-requests-remaining', b'999'), (b'anthropic-ratelimit-requests-reset', b'2025-06-13T23:48:37Z'), (b'anthropic-ratelimit-tokens-limit', b'96000'), (b'anthropic-ratelimit-tokens-remaining', b'96000'), (b'anthropic-ratelimit-tokens-reset', b'2025-06-13T23:48:37Z'), (b'request-id', b'req_011CQ77bmYPXYjw4yND1rEt6'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'anthropic-organization-id', b'35fcb693-6b61-46ff-aa3d-f5e86c0b1467'), (b'via', b'1.1 google'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Robots-Tag', b'none'), (b'Server', b'cloudflare'), (b'CF-RAY', b'94f57ad48f5067b8-SJC'), (b'Content-Encoding', b'gzip')])
2025-06-13 16:48:43,435 - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-06-13 16:48:43,435 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-06-13 16:48:43,436 - DEBUG - receive_response_body.complete
2025-06-13 16:48:43,436 - DEBUG - response_closed.started
2025-06-13 16:48:43,436 - DEBUG - response_closed.complete
2025-06-13 16:48:43,436 - DEBUG - HTTP Response: POST https://api.anthropic.com/v1/messages "200 OK" Headers({'date': 'Fri, 13 Jun 2025 23:48:42 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'anthropic-ratelimit-input-tokens-limit': '80000', 'anthropic-ratelimit-input-tokens-remaining': '80000', 'anthropic-ratelimit-input-tokens-reset': '2025-06-13T23:48:37Z', 'anthropic-ratelimit-output-tokens-limit': '16000', 'anthropic-ratelimit-output-tokens-remaining': '16000', 'anthropic-ratelimit-output-tokens-reset': '2025-06-13T23:48:43Z', 'anthropic-ratelimit-requests-limit': '1000', 'anthropic-ratelimit-requests-remaining': '999', 'anthropic-ratelimit-requests-reset': '2025-06-13T23:48:37Z', 'anthropic-ratelimit-tokens-limit': '96000', 'anthropic-ratelimit-tokens-remaining': '96000', 'anthropic-ratelimit-tokens-reset': '2025-06-13T23:48:37Z', 'request-id': 'req_011CQ77bmYPXYjw4yND1rEt6', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'anthropic-organization-id': '35fcb693-6b61-46ff-aa3d-f5e86c0b1467', 'via': '1.1 google', 'cf-cache-status': 'DYNAMIC', 'x-robots-tag': 'none', 'server': 'cloudflare', 'cf-ray': '94f57ad48f5067b8-SJC', 'content-encoding': 'gzip'})
2025-06-13 16:48:43,437 - DEBUG - request_id: req_011CQ77bmYPXYjw4yND1rEt6
2025-06-13 16:48:43,448 - DEBUG - Successfully received response from Anthropic API
2025-06-13 16:48:43,449 - INFO - For this weather forecast, I'll suggest an outfit suitable for a mild, sunny day with moderate winds:

For Daytime (72-74F, sunny with 13 mph winds):
- Light layers that you can easily adjust
- Short-sleeve shirt or light long-sleeve shirt
- Light cotton pants or knee-length shorts
- Light cardigan or light jacket (for wind protection)
- Comfortable walking shoes or sneakers
- Sunglasses (important for the sunny conditions)
- Sun hat or cap (for sun protection)

Additional considerations:
- The moderate wind (13 mph) might make it feel slightly cooler than the actual temperature
- The sunny conditions mean you should consider UV protection
- Since temperatures will drop to around 50F in the evening, you might want to bring:
  * A light jacket or sweater to layer on
  * A light scarf or windbreaker if you plan to be out after sunset

The key is to dress in layers that you can add or remove as needed throughout the day to adjust to the temperature changes and wind conditions.
2025-06-13 16:48:43,450 - DEBUG - Response sent
2025-06-13 16:49:35,662 - DEBUG - Looking for .env file at: C:\Software-Projects\mcp-tutorial\weather\.env
2025-06-13 16:49:35,663 - DEBUG - Found .env file
2025-06-13 16:49:35,666 - DEBUG - Initializing server 'weather'
2025-06-13 16:49:35,666 - DEBUG - Registering handler for ListToolsRequest
2025-06-13 16:49:35,666 - DEBUG - Registering handler for CallToolRequest
2025-06-13 16:49:35,666 - DEBUG - Registering handler for ListResourcesRequest
2025-06-13 16:49:35,666 - DEBUG - Registering handler for ReadResourceRequest
2025-06-13 16:49:35,666 - DEBUG - Registering handler for PromptListRequest
2025-06-13 16:49:35,666 - DEBUG - Registering handler for GetPromptRequest
2025-06-13 16:49:35,666 - DEBUG - Registering handler for ListResourceTemplatesRequest
2025-06-13 16:49:35,668 - INFO - Starting weather server
2025-06-13 16:49:35,671 - DEBUG - Using proactor: IocpProactor
2025-06-13 16:49:35,677 - DEBUG - Received message: root=InitializedNotification(method='notifications/initialized', params=None, jsonrpc='2.0')
2025-06-13 16:49:35,678 - DEBUG - Received message: <mcp.shared.session.RequestResponder object at 0x0000012953ED9E10>
2025-06-13 16:49:35,678 - INFO - Processing request of type ListToolsRequest
2025-06-13 16:49:35,678 - DEBUG - Dispatching request of type ListToolsRequest
2025-06-13 16:49:35,678 - DEBUG - Response sent
2025-06-13 16:49:40,010 - DEBUG - Received message: <mcp.shared.session.RequestResponder object at 0x0000012953EAF950>
2025-06-13 16:49:40,010 - INFO - Processing request of type ListToolsRequest
2025-06-13 16:49:40,010 - DEBUG - Dispatching request of type ListToolsRequest
2025-06-13 16:49:40,010 - DEBUG - Response sent
2025-06-13 16:49:42,230 - DEBUG - Received message: <mcp.shared.session.RequestResponder object at 0x0000012953ED9E10>
2025-06-13 16:49:42,230 - INFO - Processing request of type CallToolRequest
2025-06-13 16:49:42,230 - DEBUG - Dispatching request of type CallToolRequest
2025-06-13 16:49:42,230 - INFO - Getting forecast for coordinates: 37.8857, -122.118
2025-06-13 16:49:42,230 - DEBUG - Making NWS request to: https://api.weather.gov/points/37.8857,-122.118
2025-06-13 16:49:42,260 - DEBUG - connect_tcp.started host='api.weather.gov' port=443 local_address=None timeout=30.0 socket_options=None
2025-06-13 16:49:42,305 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x0000012953F3B610>
2025-06-13 16:49:42,305 - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x0000012953F8A210> server_hostname='api.weather.gov' timeout=30.0
2025-06-13 16:49:42,334 - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x0000012953EDA950>
2025-06-13 16:49:42,334 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-06-13 16:49:42,334 - DEBUG - send_request_headers.complete
2025-06-13 16:49:42,334 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-06-13 16:49:42,334 - DEBUG - send_request_body.complete
2025-06-13 16:49:42,334 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-06-13 16:49:42,367 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Server', b'nginx/1.20.1'), (b'Content-Type', b'application/geo+json'), (b'X-Powered-By', b'PHP/8.0.30'), (b'Access-Control-Allow-Origin', b'*'), (b'Access-Control-Expose-Headers', b'X-Correlation-Id, X-Request-Id, X-Server-Id'), (b'X-Request-ID', b'd802072b-259b-46e4-92ad-fcd3f930eb1d'), (b'X-Correlation-ID', b'1b93a668'), (b'X-Server-ID', b'vm-lnx-nids-apiapp13.ncep.noaa.gov'), (b'Content-Encoding', b'gzip'), (b'Content-Length', b'803'), (b'Cache-Control', b'public, max-age=84121, s-maxage=120'), (b'Expires', b'Sat, 14 Jun 2025 23:11:42 GMT'), (b'Date', b'Fri, 13 Jun 2025 23:49:41 GMT'), (b'Connection', b'keep-alive'), (b'Vary', b'Accept-Encoding'), (b'X-Edge-Request-ID', b'268362d6'), (b'Vary', b'Accept,Feature-Flags,Accept-Language'), (b'Strict-Transport-Security', b'max-age=31536000 ; includeSubDomains ; preload')])
2025-06-13 16:49:42,368 - INFO - HTTP Request: GET https://api.weather.gov/points/37.8857,-122.118 "HTTP/1.1 200 OK"
2025-06-13 16:49:42,368 - DEBUG - receive_response_body.started request=<Request [b'GET']>
2025-06-13 16:49:42,368 - DEBUG - receive_response_body.complete
2025-06-13 16:49:42,369 - DEBUG - response_closed.started
2025-06-13 16:49:42,369 - DEBUG - response_closed.complete
2025-06-13 16:49:42,369 - DEBUG - Successful response from NWS API: 200
2025-06-13 16:49:42,370 - DEBUG - close.started
2025-06-13 16:49:42,370 - DEBUG - close.complete
2025-06-13 16:49:42,370 - DEBUG - Making NWS request to: https://api.weather.gov/gridpoints/MTR/96,108/forecast
2025-06-13 16:49:42,388 - DEBUG - connect_tcp.started host='api.weather.gov' port=443 local_address=None timeout=30.0 socket_options=None
2025-06-13 16:49:42,408 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x0000012955356210>
2025-06-13 16:49:42,408 - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x0000012953F8A960> server_hostname='api.weather.gov' timeout=30.0
2025-06-13 16:49:42,439 - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x0000012955356310>
2025-06-13 16:49:42,439 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-06-13 16:49:42,439 - DEBUG - send_request_headers.complete
2025-06-13 16:49:42,439 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-06-13 16:49:42,439 - DEBUG - send_request_body.complete
2025-06-13 16:49:42,439 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-06-13 16:49:42,468 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Server', b'nginx/1.20.1'), (b'Content-Type', b'application/geo+json'), (b'X-Powered-By', b'PHP/8.0.30'), (b'Last-Modified', b'Fri, 13 Jun 2025 20:26:27 GMT'), (b'Access-Control-Allow-Origin', b'*'), (b'Access-Control-Expose-Headers', b'X-Correlation-Id, X-Request-Id, X-Server-Id'), (b'X-Request-ID', b'd379044b-3c91-48c4-b2a9-54e8379ad0ed'), (b'X-Correlation-ID', b'1988ed93'), (b'X-Server-ID', b'vm-lnx-nids-apiapp13.ncep.noaa.gov'), (b'Content-Encoding', b'gzip'), (b'Content-Length', b'1277'), (b'Cache-Control', b'public, max-age=175, s-maxage=3600'), (b'Expires', b'Fri, 13 Jun 2025 23:52:36 GMT'), (b'Date', b'Fri, 13 Jun 2025 23:49:41 GMT'), (b'Connection', b'keep-alive'), (b'Vary', b'Accept-Encoding'), (b'X-Edge-Request-ID', b'2e38bc6f'), (b'Vary', b'Accept,Feature-Flags,Accept-Language'), (b'Strict-Transport-Security', b'max-age=31536000 ; includeSubDomains ; preload')])
2025-06-13 16:49:42,469 - INFO - HTTP Request: GET https://api.weather.gov/gridpoints/MTR/96,108/forecast "HTTP/1.1 200 OK"
2025-06-13 16:49:42,469 - DEBUG - receive_response_body.started request=<Request [b'GET']>
2025-06-13 16:49:42,469 - DEBUG - receive_response_body.complete
2025-06-13 16:49:42,470 - DEBUG - response_closed.started
2025-06-13 16:49:42,470 - DEBUG - response_closed.complete
2025-06-13 16:49:42,470 - DEBUG - Successful response from NWS API: 200
2025-06-13 16:49:42,471 - DEBUG - close.started
2025-06-13 16:49:42,471 - DEBUG - close.complete
2025-06-13 16:49:42,472 - DEBUG - Forecast data structure: dict_keys(['@context', 'type', 'geometry', 'properties'])
2025-06-13 16:49:42,472 - DEBUG - Forecast properties structure: dict_keys(['units', 'forecastGenerator', 'generatedAt', 'updateTime', 'validTimes', 'elevation', 'periods'])
2025-06-13 16:49:42,473 - INFO - Successfully retrieved forecast for coordinates: 37.8857, -122.118
2025-06-13 16:49:42,474 - DEBUG - Response sent
2025-06-13 16:49:42,480 - DEBUG - Received message: <mcp.shared.session.RequestResponder object at 0x0000012953EAF950>
2025-06-13 16:49:42,480 - INFO - Processing request of type CallToolRequest
2025-06-13 16:49:42,480 - DEBUG - Dispatching request of type CallToolRequest
2025-06-13 16:49:42,481 - INFO - Getting outfit based on weather forecast
2025-06-13 16:49:42,481 - DEBUG - Successfully loaded Anthropic API key
2025-06-13 16:49:42,495 - DEBUG - Successfully created Anthropic client
2025-06-13 16:49:42,496 - DEBUG - Sending request to Anthropic API
2025-06-13 16:49:42,497 - DEBUG - Request options: {'method': 'post', 'url': '/v1/messages', 'timeout': Timeout(connect=5.0, read=600, write=600, pool=600), 'files': None, 'idempotency_key': 'stainless-python-retry-bbc137a9-0625-44ad-ae60-f71ccdbb5aa7', 'json_data': {'max_tokens': 1000, 'messages': [{'role': 'user', 'content': "\n        Based on the following weather forecast, suggest an appropriate outfit:\n        \n        [TextContent(type='text', text='\\n            This Afternoon:\\n            Temperature: 74F\\n            Wind: 13 mph SW\\n            Forecast: Sunny. High near 74, with temperatures falling to around 72 in the afternoon. Southwest wind around 13 mph.\\n\\n---\\n\\n            Tonight:\\n            Temperature: 50F\\n            Wind: 12 mph SW\\n            Forecast: Mostly clear, with a low around 50. Southwest wind around 12 mph.\\n\\n---\\n\\n            Saturday:\\n            Temperature: 73F\\n            Wind: 8 to 12 mph SW\\n            Forecast: Mostly sunny, with a high near 73. Southwest wind 8 to 12 mph.\\n\\n---\\n\\n            Saturday Night:\\n            Temperature: 50F\\n            Wind: 12 mph SW\\n            Forecast: Mostly clear, with a low around 50. Southwest wind around 12 mph.\\n\\n---\\n\\n            Sunday:\\n            Temperature: 75F\\n            Wind: 12 mph SW\\n            Forecast: Sunny, with a high near 75. Southwest wind around 12 mph.\\n', annotations=None)]\n        \n        Please provide specific clothing recommendations based on the temperature, wind conditions, and forecast.\n        "}], 'model': 'claude-3-5-sonnet-20241022'}}
2025-06-13 16:49:42,548 - DEBUG - Sending HTTP Request: POST https://api.anthropic.com/v1/messages
2025-06-13 16:49:42,548 - DEBUG - connect_tcp.started host='api.anthropic.com' port=443 local_address=None timeout=5.0 socket_options=[(65535, 8, True), (6, 17, 60), (6, 16, 5), (6, 3, 60)]
2025-06-13 16:49:42,576 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x0000012955361D10>
2025-06-13 16:49:42,576 - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x0000012953F8A450> server_hostname='api.anthropic.com' timeout=5.0
2025-06-13 16:49:42,601 - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x0000012953EAF290>
2025-06-13 16:49:42,601 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-06-13 16:49:42,602 - DEBUG - send_request_headers.complete
2025-06-13 16:49:42,602 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-06-13 16:49:42,602 - DEBUG - send_request_body.complete
2025-06-13 16:49:42,602 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-06-13 16:49:49,075 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Fri, 13 Jun 2025 23:49:48 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'anthropic-ratelimit-input-tokens-limit', b'80000'), (b'anthropic-ratelimit-input-tokens-remaining', b'80000'), (b'anthropic-ratelimit-input-tokens-reset', b'2025-06-13T23:49:42Z'), (b'anthropic-ratelimit-output-tokens-limit', b'16000'), (b'anthropic-ratelimit-output-tokens-remaining', b'16000'), (b'anthropic-ratelimit-output-tokens-reset', b'2025-06-13T23:49:48Z'), (b'anthropic-ratelimit-requests-limit', b'1000'), (b'anthropic-ratelimit-requests-remaining', b'999'), (b'anthropic-ratelimit-requests-reset', b'2025-06-13T23:49:41Z'), (b'anthropic-ratelimit-tokens-limit', b'96000'), (b'anthropic-ratelimit-tokens-remaining', b'96000'), (b'anthropic-ratelimit-tokens-reset', b'2025-06-13T23:49:42Z'), (b'request-id', b'req_011CQ77gXWBDaDZSEKTj3imK'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'anthropic-organization-id', b'35fcb693-6b61-46ff-aa3d-f5e86c0b1467'), (b'via', b'1.1 google'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Robots-Tag', b'none'), (b'Server', b'cloudflare'), (b'CF-RAY', b'94f57c680819faa2-SJC'), (b'Content-Encoding', b'gzip')])
2025-06-13 16:49:49,075 - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-06-13 16:49:49,076 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-06-13 16:49:49,076 - DEBUG - receive_response_body.complete
2025-06-13 16:49:49,076 - DEBUG - response_closed.started
2025-06-13 16:49:49,076 - DEBUG - response_closed.complete
2025-06-13 16:49:49,076 - DEBUG - HTTP Response: POST https://api.anthropic.com/v1/messages "200 OK" Headers({'date': 'Fri, 13 Jun 2025 23:49:48 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'anthropic-ratelimit-input-tokens-limit': '80000', 'anthropic-ratelimit-input-tokens-remaining': '80000', 'anthropic-ratelimit-input-tokens-reset': '2025-06-13T23:49:42Z', 'anthropic-ratelimit-output-tokens-limit': '16000', 'anthropic-ratelimit-output-tokens-remaining': '16000', 'anthropic-ratelimit-output-tokens-reset': '2025-06-13T23:49:48Z', 'anthropic-ratelimit-requests-limit': '1000', 'anthropic-ratelimit-requests-remaining': '999', 'anthropic-ratelimit-requests-reset': '2025-06-13T23:49:41Z', 'anthropic-ratelimit-tokens-limit': '96000', 'anthropic-ratelimit-tokens-remaining': '96000', 'anthropic-ratelimit-tokens-reset': '2025-06-13T23:49:42Z', 'request-id': 'req_011CQ77gXWBDaDZSEKTj3imK', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'anthropic-organization-id': '35fcb693-6b61-46ff-aa3d-f5e86c0b1467', 'via': '1.1 google', 'cf-cache-status': 'DYNAMIC', 'x-robots-tag': 'none', 'server': 'cloudflare', 'cf-ray': '94f57c680819faa2-SJC', 'content-encoding': 'gzip'})
2025-06-13 16:49:49,077 - DEBUG - request_id: req_011CQ77gXWBDaDZSEKTj3imK
2025-06-13 16:49:49,085 - DEBUG - Successfully received response from Anthropic API
2025-06-13 16:49:49,085 - INFO - For this weather forecast, I'll suggest an outfit suitable for a mild, sunny day with moderate wind:

For Daytime (70-75F with 13 mph winds):
- Light layers that you can adjust throughout the day
- A lightweight long-sleeve shirt or a short-sleeve shirt with a light cardigan/sweater
- Comfortable pants or capris (khakis, jeans, or casual pants)
- Closed-toe comfortable shoes
- Sunglasses (important for the sunny conditions)
- Optional light windbreaker or jacket to handle the 13 mph winds

Evening/Night (around 50F with 12 mph winds):
- Add a medium-weight jacket or sweater as temperatures drop significantly
- Consider bringing a scarf to protect against the evening wind

Additional considerations:
- Sun protection (hat, sunscreen) during the sunny daytime hours
- The consistent southwest wind might feel a bit cool, so having an extra layer available is wise
- The weather appears stable across the forecast period, so this outfit strategy would work for the entire weekend

The key is to dress in layers that you can add or remove as the temperature shifts from the mild 70s during the day to the cooler 50s at night.
2025-06-13 16:49:49,086 - DEBUG - Response sent
2025-06-13 16:50:58,674 - DEBUG - Looking for .env file at: C:\Software-Projects\mcp-tutorial\weather\.env
2025-06-13 16:50:58,675 - DEBUG - Found .env file
2025-06-13 16:50:58,677 - DEBUG - Initializing server 'weather'
2025-06-13 16:50:58,677 - DEBUG - Registering handler for ListToolsRequest
2025-06-13 16:50:58,677 - DEBUG - Registering handler for CallToolRequest
2025-06-13 16:50:58,677 - DEBUG - Registering handler for ListResourcesRequest
2025-06-13 16:50:58,677 - DEBUG - Registering handler for ReadResourceRequest
2025-06-13 16:50:58,677 - DEBUG - Registering handler for PromptListRequest
2025-06-13 16:50:58,677 - DEBUG - Registering handler for GetPromptRequest
2025-06-13 16:50:58,677 - DEBUG - Registering handler for ListResourceTemplatesRequest
2025-06-13 16:50:58,679 - INFO - Starting weather server
2025-06-13 16:50:58,683 - DEBUG - Using proactor: IocpProactor
2025-06-13 16:50:58,688 - DEBUG - Received message: root=InitializedNotification(method='notifications/initialized', params=None, jsonrpc='2.0')
2025-06-13 16:50:58,689 - DEBUG - Received message: <mcp.shared.session.RequestResponder object at 0x000002B74E7AAB50>
2025-06-13 16:50:58,689 - INFO - Processing request of type ListToolsRequest
2025-06-13 16:50:58,689 - DEBUG - Dispatching request of type ListToolsRequest
2025-06-13 16:50:58,689 - DEBUG - Response sent
2025-06-13 16:51:00,651 - DEBUG - Received message: <mcp.shared.session.RequestResponder object at 0x000002B74E80A550>
2025-06-13 16:51:00,651 - INFO - Processing request of type ListToolsRequest
2025-06-13 16:51:00,653 - DEBUG - Dispatching request of type ListToolsRequest
2025-06-13 16:51:00,653 - DEBUG - Response sent
2025-06-13 16:51:10,135 - DEBUG - Received message: <mcp.shared.session.RequestResponder object at 0x000002B74E7FBE90>
2025-06-13 16:51:10,135 - INFO - Processing request of type ListToolsRequest
2025-06-13 16:51:10,135 - DEBUG - Dispatching request of type ListToolsRequest
2025-06-13 16:51:10,135 - DEBUG - Response sent
2025-06-13 16:51:12,369 - DEBUG - Received message: <mcp.shared.session.RequestResponder object at 0x000002B74E7A2DD0>
2025-06-13 16:51:12,369 - INFO - Processing request of type CallToolRequest
2025-06-13 16:51:12,369 - DEBUG - Dispatching request of type CallToolRequest
2025-06-13 16:51:12,369 - INFO - Getting forecast for coordinates: 37.8857, -122.118
2025-06-13 16:51:12,370 - DEBUG - Making NWS request to: https://api.weather.gov/points/37.8857,-122.118
2025-06-13 16:51:12,405 - DEBUG - connect_tcp.started host='api.weather.gov' port=443 local_address=None timeout=30.0 socket_options=None
2025-06-13 16:51:12,448 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x000002B74E7A3350>
2025-06-13 16:51:12,449 - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x000002B74E84E330> server_hostname='api.weather.gov' timeout=30.0
2025-06-13 16:51:12,481 - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x000002B74E7AA710>
2025-06-13 16:51:12,482 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-06-13 16:51:12,483 - DEBUG - send_request_headers.complete
2025-06-13 16:51:12,483 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-06-13 16:51:12,483 - DEBUG - send_request_body.complete
2025-06-13 16:51:12,483 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-06-13 16:51:12,520 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Server', b'nginx/1.20.1'), (b'Content-Type', b'application/geo+json'), (b'X-Powered-By', b'PHP/8.0.30'), (b'Access-Control-Allow-Origin', b'*'), (b'Access-Control-Expose-Headers', b'X-Correlation-Id, X-Request-Id, X-Server-Id'), (b'X-Request-ID', b'd802072b-259b-46e4-92ad-fcd3f930eb1d'), (b'X-Correlation-ID', b'1b93a668'), (b'X-Server-ID', b'vm-lnx-nids-apiapp13.ncep.noaa.gov'), (b'Content-Encoding', b'gzip'), (b'Content-Length', b'803'), (b'Cache-Control', b'public, max-age=84031, s-maxage=120'), (b'Expires', b'Sat, 14 Jun 2025 23:11:42 GMT'), (b'Date', b'Fri, 13 Jun 2025 23:51:11 GMT'), (b'Connection', b'keep-alive'), (b'Vary', b'Accept-Encoding'), (b'X-Edge-Request-ID', b'268511d8'), (b'Vary', b'Accept,Feature-Flags,Accept-Language'), (b'Strict-Transport-Security', b'max-age=31536000 ; includeSubDomains ; preload')])
2025-06-13 16:51:12,521 - INFO - HTTP Request: GET https://api.weather.gov/points/37.8857,-122.118 "HTTP/1.1 200 OK"
2025-06-13 16:51:12,522 - DEBUG - receive_response_body.started request=<Request [b'GET']>
2025-06-13 16:51:12,522 - DEBUG - receive_response_body.complete
2025-06-13 16:51:12,522 - DEBUG - response_closed.started
2025-06-13 16:51:12,522 - DEBUG - response_closed.complete
2025-06-13 16:51:12,523 - DEBUG - Successful response from NWS API: 200
2025-06-13 16:51:12,524 - DEBUG - close.started
2025-06-13 16:51:12,524 - DEBUG - close.complete
2025-06-13 16:51:12,524 - DEBUG - Making NWS request to: https://api.weather.gov/gridpoints/MTR/96,108/forecast
2025-06-13 16:51:12,540 - DEBUG - connect_tcp.started host='api.weather.gov' port=443 local_address=None timeout=30.0 socket_options=None
2025-06-13 16:51:12,566 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x000002B74FC261D0>
2025-06-13 16:51:12,566 - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x000002B74E84E4E0> server_hostname='api.weather.gov' timeout=30.0
2025-06-13 16:51:12,593 - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x000002B74FC262D0>
2025-06-13 16:51:12,593 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-06-13 16:51:12,594 - DEBUG - send_request_headers.complete
2025-06-13 16:51:12,594 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-06-13 16:51:12,594 - DEBUG - send_request_body.complete
2025-06-13 16:51:12,594 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-06-13 16:51:12,623 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Server', b'nginx/1.20.1'), (b'Content-Type', b'application/geo+json'), (b'X-Powered-By', b'PHP/8.0.30'), (b'Last-Modified', b'Fri, 13 Jun 2025 20:26:27 GMT'), (b'Access-Control-Allow-Origin', b'*'), (b'Access-Control-Expose-Headers', b'X-Correlation-Id, X-Request-Id, X-Server-Id'), (b'X-Request-ID', b'd379044b-3c91-48c4-b2a9-54e8379ad0ed'), (b'X-Correlation-ID', b'1988ed93'), (b'X-Server-ID', b'vm-lnx-nids-apiapp13.ncep.noaa.gov'), (b'Content-Encoding', b'gzip'), (b'Content-Length', b'1277'), (b'Cache-Control', b'public, max-age=85, s-maxage=3600'), (b'Expires', b'Fri, 13 Jun 2025 23:52:36 GMT'), (b'Date', b'Fri, 13 Jun 2025 23:51:11 GMT'), (b'Connection', b'keep-alive'), (b'Vary', b'Accept-Encoding'), (b'X-Edge-Request-ID', b'2e3e9844'), (b'Vary', b'Accept,Feature-Flags,Accept-Language'), (b'Strict-Transport-Security', b'max-age=31536000 ; includeSubDomains ; preload')])
2025-06-13 16:51:12,623 - INFO - HTTP Request: GET https://api.weather.gov/gridpoints/MTR/96,108/forecast "HTTP/1.1 200 OK"
2025-06-13 16:51:12,624 - DEBUG - receive_response_body.started request=<Request [b'GET']>
2025-06-13 16:51:12,624 - DEBUG - receive_response_body.complete
2025-06-13 16:51:12,624 - DEBUG - response_closed.started
2025-06-13 16:51:12,625 - DEBUG - response_closed.complete
2025-06-13 16:51:12,625 - DEBUG - Successful response from NWS API: 200
2025-06-13 16:51:12,626 - DEBUG - close.started
2025-06-13 16:51:12,626 - DEBUG - close.complete
2025-06-13 16:51:12,626 - DEBUG - Forecast data structure: dict_keys(['@context', 'type', 'geometry', 'properties'])
2025-06-13 16:51:12,627 - DEBUG - Forecast properties structure: dict_keys(['units', 'forecastGenerator', 'generatedAt', 'updateTime', 'validTimes', 'elevation', 'periods'])
2025-06-13 16:51:12,628 - INFO - Forecast result type: <class 'str'>
2025-06-13 16:51:12,628 - INFO - Forecast result: 
            This Afternoon:
            Temperature: 74F
            Wind: 13 mph SW
            Forecast: Sunny. High near 74, with temperatures falling to around 72 in the afternoon. Southwest wind around 13 mph.

---

            Tonight:
            Temperature: 50F
            Wind: 12 mph SW
            Forecast: Mostly clear, with a low around 50. Southwest wind around 12 mph.

---

            Saturday:
            Temperature: 73F
            Wind: 8 to 12 mph SW
            Forecast: Mostly sunny, with a high near 73. Southwest wind 8 to 12 mph.

---

            Saturday Night:
            Temperature: 50F
            Wind: 12 mph SW
            Forecast: Mostly clear, with a low around 50. Southwest wind around 12 mph.

---

            Sunday:
            Temperature: 75F
            Wind: 12 mph SW
            Forecast: Sunny, with a high near 75. Southwest wind around 12 mph.

2025-06-13 16:51:12,629 - DEBUG - Response sent
2025-06-13 16:51:12,637 - DEBUG - Received message: <mcp.shared.session.RequestResponder object at 0x000002B74E7FA750>
2025-06-13 16:51:12,637 - INFO - Processing request of type CallToolRequest
2025-06-13 16:51:12,637 - DEBUG - Dispatching request of type CallToolRequest
2025-06-13 16:51:12,638 - INFO - Getting outfit based on weather forecast
2025-06-13 16:51:12,638 - DEBUG - Successfully loaded Anthropic API key
2025-06-13 16:51:12,656 - DEBUG - Successfully created Anthropic client
2025-06-13 16:51:12,657 - DEBUG - Sending request to Anthropic API
2025-06-13 16:51:12,659 - DEBUG - Request options: {'method': 'post', 'url': '/v1/messages', 'timeout': Timeout(connect=5.0, read=600, write=600, pool=600), 'files': None, 'idempotency_key': 'stainless-python-retry-94a2d8ce-be26-4808-a3bd-7b621b0573a1', 'json_data': {'max_tokens': 1000, 'messages': [{'role': 'user', 'content': "\n        Based on the following weather forecast, suggest an appropriate outfit:\n        \n        [TextContent(type='text', text='\\n            This Afternoon:\\n            Temperature: 74F\\n            Wind: 13 mph SW\\n            Forecast: Sunny. High near 74, with temperatures falling to around 72 in the afternoon. Southwest wind around 13 mph.\\n\\n---\\n\\n            Tonight:\\n            Temperature: 50F\\n            Wind: 12 mph SW\\n            Forecast: Mostly clear, with a low around 50. Southwest wind around 12 mph.\\n\\n---\\n\\n            Saturday:\\n            Temperature: 73F\\n            Wind: 8 to 12 mph SW\\n            Forecast: Mostly sunny, with a high near 73. Southwest wind 8 to 12 mph.\\n\\n---\\n\\n            Saturday Night:\\n            Temperature: 50F\\n            Wind: 12 mph SW\\n            Forecast: Mostly clear, with a low around 50. Southwest wind around 12 mph.\\n\\n---\\n\\n            Sunday:\\n            Temperature: 75F\\n            Wind: 12 mph SW\\n            Forecast: Sunny, with a high near 75. Southwest wind around 12 mph.\\n', annotations=None)]\n        \n        Please provide specific clothing recommendations based on the temperature, wind conditions, and forecast.\n        "}], 'model': 'claude-3-5-sonnet-20241022'}}
2025-06-13 16:51:12,706 - DEBUG - Sending HTTP Request: POST https://api.anthropic.com/v1/messages
2025-06-13 16:51:12,706 - DEBUG - connect_tcp.started host='api.anthropic.com' port=443 local_address=None timeout=5.0 socket_options=[(65535, 8, True), (6, 17, 60), (6, 16, 5), (6, 3, 60)]
2025-06-13 16:51:12,742 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000002B74FC31F90>
2025-06-13 16:51:12,742 - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x000002B74E84E3C0> server_hostname='api.anthropic.com' timeout=5.0
2025-06-13 16:51:12,758 - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000002B74FC31190>
2025-06-13 16:51:12,759 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-06-13 16:51:12,759 - DEBUG - send_request_headers.complete
2025-06-13 16:51:12,759 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-06-13 16:51:12,759 - DEBUG - send_request_body.complete
2025-06-13 16:51:12,759 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-06-13 16:51:19,435 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Fri, 13 Jun 2025 23:51:18 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'anthropic-ratelimit-input-tokens-limit', b'80000'), (b'anthropic-ratelimit-input-tokens-remaining', b'80000'), (b'anthropic-ratelimit-input-tokens-reset', b'2025-06-13T23:51:12Z'), (b'anthropic-ratelimit-output-tokens-limit', b'16000'), (b'anthropic-ratelimit-output-tokens-remaining', b'16000'), (b'anthropic-ratelimit-output-tokens-reset', b'2025-06-13T23:51:19Z'), (b'anthropic-ratelimit-requests-limit', b'1000'), (b'anthropic-ratelimit-requests-remaining', b'999'), (b'anthropic-ratelimit-requests-reset', b'2025-06-13T23:51:12Z'), (b'anthropic-ratelimit-tokens-limit', b'96000'), (b'anthropic-ratelimit-tokens-remaining', b'96000'), (b'anthropic-ratelimit-tokens-reset', b'2025-06-13T23:51:12Z'), (b'request-id', b'req_011CQ77oAxrfZmqHNU9ekDqf'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'anthropic-organization-id', b'35fcb693-6b61-46ff-aa3d-f5e86c0b1467'), (b'via', b'1.1 google'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Robots-Tag', b'none'), (b'Server', b'cloudflare'), (b'CF-RAY', b'94f57e9b7c00eb2c-SJC'), (b'Content-Encoding', b'gzip')])
2025-06-13 16:51:19,435 - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-06-13 16:51:19,435 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-06-13 16:51:19,435 - DEBUG - receive_response_body.complete
2025-06-13 16:51:19,435 - DEBUG - response_closed.started
2025-06-13 16:51:19,435 - DEBUG - response_closed.complete
2025-06-13 16:51:19,435 - DEBUG - HTTP Response: POST https://api.anthropic.com/v1/messages "200 OK" Headers({'date': 'Fri, 13 Jun 2025 23:51:18 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'anthropic-ratelimit-input-tokens-limit': '80000', 'anthropic-ratelimit-input-tokens-remaining': '80000', 'anthropic-ratelimit-input-tokens-reset': '2025-06-13T23:51:12Z', 'anthropic-ratelimit-output-tokens-limit': '16000', 'anthropic-ratelimit-output-tokens-remaining': '16000', 'anthropic-ratelimit-output-tokens-reset': '2025-06-13T23:51:19Z', 'anthropic-ratelimit-requests-limit': '1000', 'anthropic-ratelimit-requests-remaining': '999', 'anthropic-ratelimit-requests-reset': '2025-06-13T23:51:12Z', 'anthropic-ratelimit-tokens-limit': '96000', 'anthropic-ratelimit-tokens-remaining': '96000', 'anthropic-ratelimit-tokens-reset': '2025-06-13T23:51:12Z', 'request-id': 'req_011CQ77oAxrfZmqHNU9ekDqf', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'anthropic-organization-id': '35fcb693-6b61-46ff-aa3d-f5e86c0b1467', 'via': '1.1 google', 'cf-cache-status': 'DYNAMIC', 'x-robots-tag': 'none', 'server': 'cloudflare', 'cf-ray': '94f57e9b7c00eb2c-SJC', 'content-encoding': 'gzip'})
2025-06-13 16:51:19,435 - DEBUG - request_id: req_011CQ77oAxrfZmqHNU9ekDqf
2025-06-13 16:51:19,439 - DEBUG - Successfully received response from Anthropic API
2025-06-13 16:51:19,440 - INFO - For this weather forecast, I'll suggest an outfit suitable for a mild, breezy day:

For Daytime (72-74F with sunny conditions and 13 mph winds):
- Light layers that you can adjust throughout the day
- A light short-sleeve shirt or t-shirt as your base layer
- Light cotton pants or knee-length shorts
- A light cardigan or long-sleeve button-up shirt that you can remove if warm
- Comfortable walking shoes or sneakers
- Sunglasses (important for the sunny conditions)
- Sun hat or cap for sun protection

Additional considerations:
- The moderate wind (13 mph) might make it feel slightly cooler, so having that light outer layer available is important
- Since it's sunny, consider bringing sunscreen
- The temperature drop between day (74F) and night (50F) is significant, so if you'll be out into the evening, bring an extra layer like a light jacket

For Evening/Night (around 50F with 12 mph winds):
- Add a light jacket or sweater to your daytime outfit
- Consider changing into long pants if you were wearing shorts
- You might want to add a light scarf to protect against the evening breeze

The weather is generally pleasant but variable enough to warrant bringing an extra layer with you when heading out for the day.
2025-06-13 16:51:19,440 - DEBUG - Response sent
2025-06-13 16:52:07,023 - DEBUG - Looking for .env file at: C:\Software-Projects\mcp-tutorial\weather\.env
2025-06-13 16:52:07,024 - DEBUG - Found .env file
2025-06-13 16:52:07,026 - DEBUG - Initializing server 'weather'
2025-06-13 16:52:07,026 - DEBUG - Registering handler for ListToolsRequest
2025-06-13 16:52:07,026 - DEBUG - Registering handler for CallToolRequest
2025-06-13 16:52:07,026 - DEBUG - Registering handler for ListResourcesRequest
2025-06-13 16:52:07,026 - DEBUG - Registering handler for ReadResourceRequest
2025-06-13 16:52:07,026 - DEBUG - Registering handler for PromptListRequest
2025-06-13 16:52:07,026 - DEBUG - Registering handler for GetPromptRequest
2025-06-13 16:52:07,026 - DEBUG - Registering handler for ListResourceTemplatesRequest
2025-06-13 16:52:07,028 - INFO - Starting weather server
2025-06-13 16:52:07,031 - DEBUG - Using proactor: IocpProactor
2025-06-13 16:52:07,037 - DEBUG - Received message: root=InitializedNotification(method='notifications/initialized', params=None, jsonrpc='2.0')
2025-06-13 16:52:07,038 - DEBUG - Received message: <mcp.shared.session.RequestResponder object at 0x00000236F4D17090>
2025-06-13 16:52:07,038 - INFO - Processing request of type ListToolsRequest
2025-06-13 16:52:07,038 - DEBUG - Dispatching request of type ListToolsRequest
2025-06-13 16:52:07,038 - DEBUG - Response sent
2025-06-13 16:52:14,604 - DEBUG - Received message: <mcp.shared.session.RequestResponder object at 0x00000236F4D29750>
2025-06-13 16:52:14,605 - INFO - Processing request of type ListToolsRequest
2025-06-13 16:52:14,605 - DEBUG - Dispatching request of type ListToolsRequest
2025-06-13 16:52:14,605 - DEBUG - Response sent
2025-06-13 16:52:17,788 - DEBUG - Received message: <mcp.shared.session.RequestResponder object at 0x00000236F4D17090>
2025-06-13 16:52:17,788 - INFO - Processing request of type CallToolRequest
2025-06-13 16:52:17,788 - DEBUG - Dispatching request of type CallToolRequest
2025-06-13 16:52:17,788 - INFO - Getting forecast for coordinates: 37.8857, -122.1181
2025-06-13 16:52:17,789 - DEBUG - Making NWS request to: https://api.weather.gov/points/37.8857,-122.1181
2025-06-13 16:52:17,822 - DEBUG - connect_tcp.started host='api.weather.gov' port=443 local_address=None timeout=30.0 socket_options=None
2025-06-13 16:52:17,871 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x00000236F4CFFB90>
2025-06-13 16:52:17,871 - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x00000236F4DCE330> server_hostname='api.weather.gov' timeout=30.0
2025-06-13 16:52:17,901 - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x00000236F46DFA50>
2025-06-13 16:52:17,901 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-06-13 16:52:17,902 - DEBUG - send_request_headers.complete
2025-06-13 16:52:17,902 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-06-13 16:52:17,902 - DEBUG - send_request_body.complete
2025-06-13 16:52:17,902 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-06-13 16:52:19,118 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Server', b'nginx/1.20.1'), (b'Content-Type', b'application/geo+json'), (b'X-Powered-By', b'PHP/8.0.30'), (b'Access-Control-Allow-Origin', b'*'), (b'Access-Control-Expose-Headers', b'X-Correlation-Id, X-Request-Id, X-Server-Id'), (b'X-Request-ID', b'ba9a2f6a-63e7-4322-b6b2-386de78b39bf'), (b'X-Correlation-ID', b'1c3bed23'), (b'X-Server-ID', b'vm-lnx-nids-apiapp16.ncep.noaa.gov'), (b'Content-Encoding', b'gzip'), (b'Content-Length', b'804'), (b'Cache-Control', b'public, max-age=86400, s-maxage=120'), (b'Expires', b'Sat, 14 Jun 2025 23:52:18 GMT'), (b'Date', b'Fri, 13 Jun 2025 23:52:18 GMT'), (b'Connection', b'keep-alive'), (b'Vary', b'Accept-Encoding'), (b'X-Edge-Request-ID', b'2e42e790'), (b'Vary', b'Accept,Feature-Flags,Accept-Language'), (b'Strict-Transport-Security', b'max-age=31536000 ; includeSubDomains ; preload')])
2025-06-13 16:52:19,119 - INFO - HTTP Request: GET https://api.weather.gov/points/37.8857,-122.1181 "HTTP/1.1 200 OK"
2025-06-13 16:52:19,119 - DEBUG - receive_response_body.started request=<Request [b'GET']>
2025-06-13 16:52:19,120 - DEBUG - receive_response_body.complete
2025-06-13 16:52:19,120 - DEBUG - response_closed.started
2025-06-13 16:52:19,120 - DEBUG - response_closed.complete
2025-06-13 16:52:19,120 - DEBUG - Successful response from NWS API: 200
2025-06-13 16:52:19,121 - DEBUG - close.started
2025-06-13 16:52:19,121 - DEBUG - close.complete
2025-06-13 16:52:19,121 - DEBUG - Making NWS request to: https://api.weather.gov/gridpoints/MTR/96,108/forecast
2025-06-13 16:52:19,133 - DEBUG - connect_tcp.started host='api.weather.gov' port=443 local_address=None timeout=30.0 socket_options=None
2025-06-13 16:52:19,153 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x00000236F61A62D0>
2025-06-13 16:52:19,153 - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x00000236F4DCEA80> server_hostname='api.weather.gov' timeout=30.0
2025-06-13 16:52:19,183 - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x00000236F61A63D0>
2025-06-13 16:52:19,183 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-06-13 16:52:19,184 - DEBUG - send_request_headers.complete
2025-06-13 16:52:19,184 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-06-13 16:52:19,184 - DEBUG - send_request_body.complete
2025-06-13 16:52:19,184 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-06-13 16:52:19,210 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Server', b'nginx/1.20.1'), (b'Content-Type', b'application/geo+json'), (b'X-Powered-By', b'PHP/8.0.30'), (b'Last-Modified', b'Fri, 13 Jun 2025 20:26:27 GMT'), (b'Access-Control-Allow-Origin', b'*'), (b'Access-Control-Expose-Headers', b'X-Correlation-Id, X-Request-Id, X-Server-Id'), (b'X-Request-ID', b'd379044b-3c91-48c4-b2a9-54e8379ad0ed'), (b'X-Correlation-ID', b'1988ed93'), (b'X-Server-ID', b'vm-lnx-nids-apiapp13.ncep.noaa.gov'), (b'Content-Encoding', b'gzip'), (b'Content-Length', b'1277'), (b'Cache-Control', b'public, max-age=18, s-maxage=3600'), (b'Expires', b'Fri, 13 Jun 2025 23:52:36 GMT'), (b'Date', b'Fri, 13 Jun 2025 23:52:18 GMT'), (b'Connection', b'keep-alive'), (b'Vary', b'Accept-Encoding'), (b'X-Edge-Request-ID', b'26865e8f'), (b'Vary', b'Accept,Feature-Flags,Accept-Language'), (b'Strict-Transport-Security', b'max-age=31536000 ; includeSubDomains ; preload')])
2025-06-13 16:52:19,210 - INFO - HTTP Request: GET https://api.weather.gov/gridpoints/MTR/96,108/forecast "HTTP/1.1 200 OK"
2025-06-13 16:52:19,210 - DEBUG - receive_response_body.started request=<Request [b'GET']>
2025-06-13 16:52:19,210 - DEBUG - receive_response_body.complete
2025-06-13 16:52:19,211 - DEBUG - response_closed.started
2025-06-13 16:52:19,211 - DEBUG - response_closed.complete
2025-06-13 16:52:19,211 - DEBUG - Successful response from NWS API: 200
2025-06-13 16:52:19,212 - DEBUG - close.started
2025-06-13 16:52:19,212 - DEBUG - close.complete
2025-06-13 16:52:19,212 - DEBUG - Forecast data structure: dict_keys(['@context', 'type', 'geometry', 'properties'])
2025-06-13 16:52:19,213 - DEBUG - Forecast properties structure: dict_keys(['units', 'forecastGenerator', 'generatedAt', 'updateTime', 'validTimes', 'elevation', 'periods'])
2025-06-13 16:52:19,213 - INFO - Forecast result type: <class 'str'>
2025-06-13 16:52:19,214 - INFO - Forecast result: 
            This Afternoon:
            Temperature: 74F
            Wind: 13 mph SW
            Forecast: Sunny. High near 74, with temperatures falling to around 72 in the afternoon. Southwest wind around 13 mph.

---

            Tonight:
            Temperature: 50F
            Wind: 12 mph SW
            Forecast: Mostly clear, with a low around 50. Southwest wind around 12 mph.

---

            Saturday:
            Temperature: 73F
            Wind: 8 to 12 mph SW
            Forecast: Mostly sunny, with a high near 73. Southwest wind 8 to 12 mph.

---

            Saturday Night:
            Temperature: 50F
            Wind: 12 mph SW
            Forecast: Mostly clear, with a low around 50. Southwest wind around 12 mph.

---

            Sunday:
            Temperature: 75F
            Wind: 12 mph SW
            Forecast: Sunny, with a high near 75. Southwest wind around 12 mph.

2025-06-13 16:52:19,215 - DEBUG - Response sent
2025-06-13 16:52:19,222 - DEBUG - Received message: <mcp.shared.session.RequestResponder object at 0x00000236F4E37ED0>
2025-06-13 16:52:19,222 - INFO - Processing request of type CallToolRequest
2025-06-13 16:52:19,222 - DEBUG - Dispatching request of type CallToolRequest
2025-06-13 16:52:19,223 - INFO - Getting outfit based on weather forecast
2025-06-13 16:52:19,223 - DEBUG - Successfully loaded Anthropic API key
2025-06-13 16:52:19,238 - DEBUG - Successfully created Anthropic client
2025-06-13 16:52:19,239 - DEBUG - Sending request to Anthropic API
2025-06-13 16:52:19,240 - DEBUG - Request options: {'method': 'post', 'url': '/v1/messages', 'timeout': Timeout(connect=5.0, read=600, write=600, pool=600), 'files': None, 'idempotency_key': 'stainless-python-retry-04e9b44d-121d-4945-8861-186fb8049271', 'json_data': {'max_tokens': 1000, 'messages': [{'role': 'user', 'content': '\n        Based on the following weather forecast, suggest an appropriate outfit:\n        \n        \n            This Afternoon:\n            Temperature: 74F\n            Wind: 13 mph SW\n            Forecast: Sunny. High near 74, with temperatures falling to around 72 in the afternoon. Southwest wind around 13 mph.\n\n---\n\n            Tonight:\n            Temperature: 50F\n            Wind: 12 mph SW\n            Forecast: Mostly clear, with a low around 50. Southwest wind around 12 mph.\n\n---\n\n            Saturday:\n            Temperature: 73F\n            Wind: 8 to 12 mph SW\n            Forecast: Mostly sunny, with a high near 73. Southwest wind 8 to 12 mph.\n\n---\n\n            Saturday Night:\n            Temperature: 50F\n            Wind: 12 mph SW\n            Forecast: Mostly clear, with a low around 50. Southwest wind around 12 mph.\n\n---\n\n            Sunday:\n            Temperature: 75F\n            Wind: 12 mph SW\n            Forecast: Sunny, with a high near 75. Southwest wind around 12 mph.\n\n        \n        Please provide specific clothing recommendations based on the temperature, wind conditions, and forecast.\n        '}], 'model': 'claude-3-5-sonnet-20241022'}}
2025-06-13 16:52:19,301 - DEBUG - Sending HTTP Request: POST https://api.anthropic.com/v1/messages
2025-06-13 16:52:19,302 - DEBUG - connect_tcp.started host='api.anthropic.com' port=443 local_address=None timeout=5.0 socket_options=[(65535, 8, True), (6, 17, 60), (6, 16, 5), (6, 3, 60)]
2025-06-13 16:52:19,316 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x00000236F61B2150>
2025-06-13 16:52:19,316 - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x00000236F4DCE570> server_hostname='api.anthropic.com' timeout=5.0
2025-06-13 16:52:19,348 - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x00000236F61B2110>
2025-06-13 16:52:19,349 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-06-13 16:52:19,349 - DEBUG - send_request_headers.complete
2025-06-13 16:52:19,349 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-06-13 16:52:19,349 - DEBUG - send_request_body.complete
2025-06-13 16:52:19,349 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-06-13 16:52:24,599 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Fri, 13 Jun 2025 23:52:23 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'anthropic-ratelimit-input-tokens-limit', b'80000'), (b'anthropic-ratelimit-input-tokens-remaining', b'80000'), (b'anthropic-ratelimit-input-tokens-reset', b'2025-06-13T23:52:19Z'), (b'anthropic-ratelimit-output-tokens-limit', b'16000'), (b'anthropic-ratelimit-output-tokens-remaining', b'16000'), (b'anthropic-ratelimit-output-tokens-reset', b'2025-06-13T23:52:24Z'), (b'anthropic-ratelimit-requests-limit', b'1000'), (b'anthropic-ratelimit-requests-remaining', b'999'), (b'anthropic-ratelimit-requests-reset', b'2025-06-13T23:52:18Z'), (b'anthropic-ratelimit-tokens-limit', b'96000'), (b'anthropic-ratelimit-tokens-remaining', b'96000'), (b'anthropic-ratelimit-tokens-reset', b'2025-06-13T23:52:19Z'), (b'request-id', b'req_011CQ77t5eGLXrJKVa4guxqy'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'anthropic-organization-id', b'35fcb693-6b61-46ff-aa3d-f5e86c0b1467'), (b'via', b'1.1 google'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Robots-Tag', b'none'), (b'Server', b'cloudflare'), (b'CF-RAY', b'94f5803bad3a5850-SJC'), (b'Content-Encoding', b'gzip')])
2025-06-13 16:52:24,600 - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-06-13 16:52:24,600 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-06-13 16:52:24,601 - DEBUG - receive_response_body.complete
2025-06-13 16:52:24,601 - DEBUG - response_closed.started
2025-06-13 16:52:24,601 - DEBUG - response_closed.complete
2025-06-13 16:52:24,601 - DEBUG - HTTP Response: POST https://api.anthropic.com/v1/messages "200 OK" Headers({'date': 'Fri, 13 Jun 2025 23:52:23 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'anthropic-ratelimit-input-tokens-limit': '80000', 'anthropic-ratelimit-input-tokens-remaining': '80000', 'anthropic-ratelimit-input-tokens-reset': '2025-06-13T23:52:19Z', 'anthropic-ratelimit-output-tokens-limit': '16000', 'anthropic-ratelimit-output-tokens-remaining': '16000', 'anthropic-ratelimit-output-tokens-reset': '2025-06-13T23:52:24Z', 'anthropic-ratelimit-requests-limit': '1000', 'anthropic-ratelimit-requests-remaining': '999', 'anthropic-ratelimit-requests-reset': '2025-06-13T23:52:18Z', 'anthropic-ratelimit-tokens-limit': '96000', 'anthropic-ratelimit-tokens-remaining': '96000', 'anthropic-ratelimit-tokens-reset': '2025-06-13T23:52:19Z', 'request-id': 'req_011CQ77t5eGLXrJKVa4guxqy', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'anthropic-organization-id': '35fcb693-6b61-46ff-aa3d-f5e86c0b1467', 'via': '1.1 google', 'cf-cache-status': 'DYNAMIC', 'x-robots-tag': 'none', 'server': 'cloudflare', 'cf-ray': '94f5803bad3a5850-SJC', 'content-encoding': 'gzip'})
2025-06-13 16:52:24,601 - DEBUG - request_id: req_011CQ77t5eGLXrJKVa4guxqy
2025-06-13 16:52:24,608 - DEBUG - Successfully received response from Anthropic API
2025-06-13 16:52:24,608 - INFO - For this weather forecast, I'll suggest an outfit that's comfortable for mild temperatures during the day with preparation for cooler evenings:

For Daytime (70-75F with moderate wind):
- Light layers that you can easily add or remove
- A light long-sleeve cotton shirt or t-shirt as a base layer
- Light cardigan or thin sweater that can be removed when warm
- Comfortable pants (khakis, jeans, or light-weight trousers)
- Comfortable walking shoes or sneakers
- Sunglasses (since it's sunny)
- Sunscreen for sun protection

Evening/Night (around 50F with continued wind):
- Add a light jacket or medium-weight sweater
- Consider bringing a light scarf to protect against the 12 mph winds

The key is to dress in layers since there's a significant temperature swing between day and night (about 25F difference). The consistent southwest wind around 12-13 mph might make it feel slightly cooler than the actual temperature, especially in the evening, so having an extra layer available is important.
2025-06-13 16:52:24,608 - DEBUG - Response sent
2025-06-13 16:53:45,117 - DEBUG - Looking for .env file at: C:\Software-Projects\mcp-tutorial\weather\.env
2025-06-13 16:53:45,118 - DEBUG - Found .env file
2025-06-13 16:53:45,120 - DEBUG - Initializing server 'weather'
2025-06-13 16:53:45,120 - DEBUG - Registering handler for ListToolsRequest
2025-06-13 16:53:45,120 - DEBUG - Registering handler for CallToolRequest
2025-06-13 16:53:45,120 - DEBUG - Registering handler for ListResourcesRequest
2025-06-13 16:53:45,120 - DEBUG - Registering handler for ReadResourceRequest
2025-06-13 16:53:45,120 - DEBUG - Registering handler for PromptListRequest
2025-06-13 16:53:45,120 - DEBUG - Registering handler for GetPromptRequest
2025-06-13 16:53:45,120 - DEBUG - Registering handler for ListResourceTemplatesRequest
2025-06-13 16:53:45,122 - INFO - Starting weather server
2025-06-13 16:53:45,127 - DEBUG - Using proactor: IocpProactor
2025-06-13 16:53:45,132 - DEBUG - Received message: root=InitializedNotification(method='notifications/initialized', params=None, jsonrpc='2.0')
2025-06-13 16:53:45,133 - DEBUG - Received message: <mcp.shared.session.RequestResponder object at 0x0000022667EBB1D0>
2025-06-13 16:53:45,133 - INFO - Processing request of type ListToolsRequest
2025-06-13 16:53:45,133 - DEBUG - Dispatching request of type ListToolsRequest
2025-06-13 16:53:45,133 - DEBUG - Response sent
2025-06-13 16:53:54,636 - DEBUG - Received message: <mcp.shared.session.RequestResponder object at 0x0000022667E55810>
2025-06-13 16:53:54,636 - INFO - Processing request of type ListToolsRequest
2025-06-13 16:53:54,637 - DEBUG - Dispatching request of type ListToolsRequest
2025-06-13 16:53:54,637 - DEBUG - Response sent
2025-06-13 16:53:57,191 - DEBUG - Received message: <mcp.shared.session.RequestResponder object at 0x0000022667EC91D0>
2025-06-13 16:53:57,191 - INFO - Processing request of type CallToolRequest
2025-06-13 16:53:57,191 - DEBUG - Dispatching request of type CallToolRequest
2025-06-13 16:53:57,191 - INFO - Getting forecast for coordinates: 37.8857, -122.118
2025-06-13 16:53:57,191 - DEBUG - Making NWS request to: https://api.weather.gov/points/37.8857,-122.118
2025-06-13 16:53:57,224 - DEBUG - connect_tcp.started host='api.weather.gov' port=443 local_address=None timeout=30.0 socket_options=None
2025-06-13 16:53:57,259 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x0000022667ED4250>
2025-06-13 16:53:57,259 - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x0000022667F0E330> server_hostname='api.weather.gov' timeout=30.0
2025-06-13 16:53:57,289 - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x0000022667F7BCD0>
2025-06-13 16:53:57,290 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-06-13 16:53:57,290 - DEBUG - send_request_headers.complete
2025-06-13 16:53:57,290 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-06-13 16:53:57,290 - DEBUG - send_request_body.complete
2025-06-13 16:53:57,291 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-06-13 16:53:57,318 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Server', b'nginx/1.20.1'), (b'Content-Type', b'application/geo+json'), (b'X-Powered-By', b'PHP/8.0.30'), (b'Access-Control-Allow-Origin', b'*'), (b'Access-Control-Expose-Headers', b'X-Correlation-Id, X-Request-Id, X-Server-Id'), (b'X-Request-ID', b'd802072b-259b-46e4-92ad-fcd3f930eb1d'), (b'X-Correlation-ID', b'1b93a668'), (b'X-Server-ID', b'vm-lnx-nids-apiapp13.ncep.noaa.gov'), (b'Content-Encoding', b'gzip'), (b'Content-Length', b'803'), (b'Cache-Control', b'public, max-age=83866, s-maxage=120'), (b'Expires', b'Sat, 14 Jun 2025 23:11:42 GMT'), (b'Date', b'Fri, 13 Jun 2025 23:53:56 GMT'), (b'Connection', b'keep-alive'), (b'Vary', b'Accept-Encoding'), (b'X-Edge-Request-ID', b'2e494d58'), (b'Vary', b'Accept,Feature-Flags,Accept-Language'), (b'Strict-Transport-Security', b'max-age=31536000 ; includeSubDomains ; preload')])
2025-06-13 16:53:57,318 - INFO - HTTP Request: GET https://api.weather.gov/points/37.8857,-122.118 "HTTP/1.1 200 OK"
2025-06-13 16:53:57,318 - DEBUG - receive_response_body.started request=<Request [b'GET']>
2025-06-13 16:53:57,318 - DEBUG - receive_response_body.complete
2025-06-13 16:53:57,319 - DEBUG - response_closed.started
2025-06-13 16:53:57,319 - DEBUG - response_closed.complete
2025-06-13 16:53:57,319 - DEBUG - Successful response from NWS API: 200
2025-06-13 16:53:57,319 - DEBUG - close.started
2025-06-13 16:53:57,319 - DEBUG - close.complete
2025-06-13 16:53:57,319 - DEBUG - Making NWS request to: https://api.weather.gov/gridpoints/MTR/96,108/forecast
2025-06-13 16:53:57,331 - DEBUG - connect_tcp.started host='api.weather.gov' port=443 local_address=None timeout=30.0 socket_options=None
2025-06-13 16:53:57,348 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x00000226692D5ED0>
2025-06-13 16:53:57,349 - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x0000022667F0EA80> server_hostname='api.weather.gov' timeout=30.0
2025-06-13 16:53:57,381 - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x00000226692D5FD0>
2025-06-13 16:53:57,381 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-06-13 16:53:57,381 - DEBUG - send_request_headers.complete
2025-06-13 16:53:57,381 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-06-13 16:53:57,381 - DEBUG - send_request_body.complete
2025-06-13 16:53:57,381 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-06-13 16:53:57,402 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Server', b'nginx/1.20.1'), (b'Content-Type', b'application/geo+json'), (b'X-Powered-By', b'PHP/8.0.30'), (b'Last-Modified', b'Fri, 13 Jun 2025 20:26:27 GMT'), (b'Access-Control-Allow-Origin', b'*'), (b'Access-Control-Expose-Headers', b'X-Correlation-Id, X-Request-Id, X-Server-Id'), (b'X-Request-ID', b'd379044b-3c91-48c4-b2a9-54e8379ad0ed'), (b'X-Correlation-ID', b'1988ed93'), (b'X-Server-ID', b'vm-lnx-nids-apiapp13.ncep.noaa.gov'), (b'Content-Encoding', b'gzip'), (b'Content-Length', b'1277'), (b'Cache-Control', b'public, max-age=735, s-maxage=3600'), (b'Expires', b'Sat, 14 Jun 2025 00:06:11 GMT'), (b'Date', b'Fri, 13 Jun 2025 23:53:56 GMT'), (b'Connection', b'keep-alive'), (b'Vary', b'Accept-Encoding'), (b'X-Edge-Request-ID', b'268844e6'), (b'Vary', b'Accept,Feature-Flags,Accept-Language'), (b'Strict-Transport-Security', b'max-age=31536000 ; includeSubDomains ; preload')])
2025-06-13 16:53:57,402 - INFO - HTTP Request: GET https://api.weather.gov/gridpoints/MTR/96,108/forecast "HTTP/1.1 200 OK"
2025-06-13 16:53:57,402 - DEBUG - receive_response_body.started request=<Request [b'GET']>
2025-06-13 16:53:57,403 - DEBUG - receive_response_body.complete
2025-06-13 16:53:57,403 - DEBUG - response_closed.started
2025-06-13 16:53:57,403 - DEBUG - response_closed.complete
2025-06-13 16:53:57,403 - DEBUG - Successful response from NWS API: 200
2025-06-13 16:53:57,404 - DEBUG - close.started
2025-06-13 16:53:57,405 - DEBUG - close.complete
2025-06-13 16:53:57,405 - DEBUG - Forecast data structure: dict_keys(['@context', 'type', 'geometry', 'properties'])
2025-06-13 16:53:57,405 - DEBUG - Forecast properties structure: dict_keys(['units', 'forecastGenerator', 'generatedAt', 'updateTime', 'validTimes', 'elevation', 'periods'])
2025-06-13 16:53:57,406 - INFO - Forecast result type: <class 'str'>
2025-06-13 16:53:57,406 - INFO - Forecast result: 
            This Afternoon:
            Temperature: 74F
            Wind: 13 mph SW
            Forecast: Sunny. High near 74, with temperatures falling to around 72 in the afternoon. Southwest wind around 13 mph.

---

            Tonight:
            Temperature: 50F
            Wind: 12 mph SW
            Forecast: Mostly clear, with a low around 50. Southwest wind around 12 mph.

---

            Saturday:
            Temperature: 73F
            Wind: 8 to 12 mph SW
            Forecast: Mostly sunny, with a high near 73. Southwest wind 8 to 12 mph.

---

            Saturday Night:
            Temperature: 50F
            Wind: 12 mph SW
            Forecast: Mostly clear, with a low around 50. Southwest wind around 12 mph.

---

            Sunday:
            Temperature: 75F
            Wind: 12 mph SW
            Forecast: Sunny, with a high near 75. Southwest wind around 12 mph.

2025-06-13 16:53:57,407 - DEBUG - Response sent
2025-06-13 16:53:57,412 - DEBUG - Received message: <mcp.shared.session.RequestResponder object at 0x0000022667ED4650>
2025-06-13 16:53:57,412 - INFO - Processing request of type CallToolRequest
2025-06-13 16:53:57,412 - DEBUG - Dispatching request of type CallToolRequest
2025-06-13 16:53:57,412 - INFO - Getting outfit based on weather forecast
2025-06-13 16:53:57,413 - DEBUG - Successfully loaded Anthropic API key
2025-06-13 16:53:57,424 - DEBUG - Successfully created Anthropic client
2025-06-13 16:53:57,425 - DEBUG - Sending request to Anthropic API
2025-06-13 16:53:57,425 - DEBUG - Request options: {'method': 'post', 'url': '/v1/messages', 'timeout': Timeout(connect=5.0, read=600, write=600, pool=600), 'files': None, 'idempotency_key': 'stainless-python-retry-24270cdc-50f8-4977-93e5-2c2967cd1181', 'json_data': {'max_tokens': 1000, 'messages': [{'role': 'user', 'content': '\n        Based on the following weather forecast, suggest an appropriate outfit:\n        \n        \n            This Afternoon:\n            Temperature: 74F\n            Wind: 13 mph SW\n            Forecast: Sunny. High near 74, with temperatures falling to around 72 in the afternoon. Southwest wind around 13 mph.\n\n---\n\n            Tonight:\n            Temperature: 50F\n            Wind: 12 mph SW\n            Forecast: Mostly clear, with a low around 50. Southwest wind around 12 mph.\n\n---\n\n            Saturday:\n            Temperature: 73F\n            Wind: 8 to 12 mph SW\n            Forecast: Mostly sunny, with a high near 73. Southwest wind 8 to 12 mph.\n\n---\n\n            Saturday Night:\n            Temperature: 50F\n            Wind: 12 mph SW\n            Forecast: Mostly clear, with a low around 50. Southwest wind around 12 mph.\n\n---\n\n            Sunday:\n            Temperature: 75F\n            Wind: 12 mph SW\n            Forecast: Sunny, with a high near 75. Southwest wind around 12 mph.\n\n        \n        Please provide specific clothing recommendations based on the temperature, wind conditions, and forecast.\n        '}], 'model': 'claude-3-5-sonnet-20241022'}}
2025-06-13 16:53:57,469 - DEBUG - Sending HTTP Request: POST https://api.anthropic.com/v1/messages
2025-06-13 16:53:57,469 - DEBUG - connect_tcp.started host='api.anthropic.com' port=443 local_address=None timeout=5.0 socket_options=[(65535, 8, True), (6, 17, 60), (6, 16, 5), (6, 3, 60)]
2025-06-13 16:53:57,486 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x00000226692E1D90>
2025-06-13 16:53:57,486 - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x0000022667CB9B50> server_hostname='api.anthropic.com' timeout=5.0
2025-06-13 16:53:57,516 - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x0000022667E54D10>
2025-06-13 16:53:57,516 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-06-13 16:53:57,516 - DEBUG - send_request_headers.complete
2025-06-13 16:53:57,516 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-06-13 16:53:57,516 - DEBUG - send_request_body.complete
2025-06-13 16:53:57,517 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-06-13 16:54:03,582 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Fri, 13 Jun 2025 23:54:02 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'anthropic-ratelimit-input-tokens-limit', b'80000'), (b'anthropic-ratelimit-input-tokens-remaining', b'80000'), (b'anthropic-ratelimit-input-tokens-reset', b'2025-06-13T23:53:57Z'), (b'anthropic-ratelimit-output-tokens-limit', b'16000'), (b'anthropic-ratelimit-output-tokens-remaining', b'16000'), (b'anthropic-ratelimit-output-tokens-reset', b'2025-06-13T23:54:03Z'), (b'anthropic-ratelimit-requests-limit', b'1000'), (b'anthropic-ratelimit-requests-remaining', b'999'), (b'anthropic-ratelimit-requests-reset', b'2025-06-13T23:53:56Z'), (b'anthropic-ratelimit-tokens-limit', b'96000'), (b'anthropic-ratelimit-tokens-remaining', b'96000'), (b'anthropic-ratelimit-tokens-reset', b'2025-06-13T23:53:57Z'), (b'request-id', b'req_011CQ781KNxKbSoDf8bJ4MKP'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'anthropic-organization-id', b'35fcb693-6b61-46ff-aa3d-f5e86c0b1467'), (b'via', b'1.1 google'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Robots-Tag', b'none'), (b'Server', b'cloudflare'), (b'CF-RAY', b'94f582a13b7ccf26-SJC'), (b'Content-Encoding', b'gzip')])
2025-06-13 16:54:03,583 - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-06-13 16:54:03,584 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-06-13 16:54:03,586 - DEBUG - receive_response_body.complete
2025-06-13 16:54:03,586 - DEBUG - response_closed.started
2025-06-13 16:54:03,586 - DEBUG - response_closed.complete
2025-06-13 16:54:03,586 - DEBUG - HTTP Response: POST https://api.anthropic.com/v1/messages "200 OK" Headers({'date': 'Fri, 13 Jun 2025 23:54:02 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'anthropic-ratelimit-input-tokens-limit': '80000', 'anthropic-ratelimit-input-tokens-remaining': '80000', 'anthropic-ratelimit-input-tokens-reset': '2025-06-13T23:53:57Z', 'anthropic-ratelimit-output-tokens-limit': '16000', 'anthropic-ratelimit-output-tokens-remaining': '16000', 'anthropic-ratelimit-output-tokens-reset': '2025-06-13T23:54:03Z', 'anthropic-ratelimit-requests-limit': '1000', 'anthropic-ratelimit-requests-remaining': '999', 'anthropic-ratelimit-requests-reset': '2025-06-13T23:53:56Z', 'anthropic-ratelimit-tokens-limit': '96000', 'anthropic-ratelimit-tokens-remaining': '96000', 'anthropic-ratelimit-tokens-reset': '2025-06-13T23:53:57Z', 'request-id': 'req_011CQ781KNxKbSoDf8bJ4MKP', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'anthropic-organization-id': '35fcb693-6b61-46ff-aa3d-f5e86c0b1467', 'via': '1.1 google', 'cf-cache-status': 'DYNAMIC', 'x-robots-tag': 'none', 'server': 'cloudflare', 'cf-ray': '94f582a13b7ccf26-SJC', 'content-encoding': 'gzip'})
2025-06-13 16:54:03,587 - DEBUG - request_id: req_011CQ781KNxKbSoDf8bJ4MKP
2025-06-13 16:54:03,598 - DEBUG - Successfully received response from Anthropic API
2025-06-13 16:54:03,598 - INFO - For this weather forecast, I'll suggest appropriate outfits for both daytime and evening:

Daytime Outfit (72-75F, sunny with moderate wind):
- Light-weight, short-sleeve shirt or t-shirt
- Light cotton pants or knee-length shorts
- Light cardigan or thin jacket to account for the 12-13 mph wind
- Comfortable walking shoes or sneakers
- Sunglasses (important for the sunny conditions)
- Sun hat or cap for sun protection

Evening Outfit (around 50F with wind):
- Light layers that can be added or removed
- Long-sleeve shirt or light sweater
- Light jacket or medium-weight cardigan
- Long pants
- Closed-toe shoes
- Light scarf (optional, to protect from the 12 mph wind)

Additional considerations:
- The temperature swing between day and night is significant (about 25F), so carrying an extra layer during the day is recommended
- The consistent southwest wind means you'll want some wind protection, especially in the evening
- Sunscreen is recommended for the sunny daytime conditions
- The weather is fairly consistent across all three days, so these outfit suggestions would work for the entire period
2025-06-13 16:54:03,599 - DEBUG - Response sent
